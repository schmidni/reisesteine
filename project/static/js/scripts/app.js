!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=47)}([function(t,e,n){"use strict";var i=n(28),o=n(31),r=n(10),s=function(){return i.apply(this,arguments)};s.m=i,s.trust=i.trust,s.fragment=i.fragment,s.mount=r.mount,s.route=n(37),s.render=n(22),s.redraw=r.redraw,s.request=o.request,s.jsonp=o.jsonp,s.parseQueryString=n(25),s.buildQueryString=n(23),s.parsePathname=n(12),s.buildPathname=n(11),s.vnode=n(5),s.PromisePolyfill=n(20),t.exports=s},function(t,e,n){t.exports=n(40)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e){function n(t,e,n,i,o,r,s){try{var a=t[r](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(i,o)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(o,r){var s=t.apply(e,i);function a(t){n(s,o,r,a,l,"next",t)}function l(t){n(s,o,r,a,l,"throw",t)}a(void 0)}))}}},function(t,e,n){"use strict";function i(t,e,n,i,o,r){return{tag:t,key:e,attrs:n,children:i,text:o,dom:r,domSize:void 0,state:void 0,events:void 0,instance:void 0}}i.normalize=function(t){return Array.isArray(t)?i("[",void 0,void 0,i.normalizeChildren(t),void 0,void 0):null==t||"boolean"==typeof t?null:"object"==typeof t?t:i("#",void 0,void 0,String(t),void 0,void 0)},i.normalizeChildren=function(t){var e=[];if(t.length){for(var n=null!=t[0]&&null!=t[0].key,o=1;o<t.length;o++)if((null!=t[o]&&null!=t[o].key)!==n)throw new TypeError("Vnodes must either always have keys or never have keys!");for(o=0;o<t.length;o++)e[o]=i.normalize(t[o])}return e},t.exports=i},function(t,e,n){t.exports=function(){var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(t){return!(!t||!t.Window)&&t instanceof t.Window};var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.init=o,e.getWindow=function(e){return(0,t.default)(e)?e:(e.ownerDocument||e).defaultView||i.window},e.window=e.realWindow=void 0;var n=void 0;e.realWindow=n;var i=void 0;function o(t){e.realWindow=n=t;var o=t.document.createTextNode("");o.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(o)===o&&(t=t.wrap(t)),e.window=i=t}e.window=i,"undefined"!=typeof window&&window&&o(window);var r={};Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=function(t){return!!t&&"object"==typeof t},a=function(t){return"function"==typeof t},l={window:function(n){return n===e.window||(0,t.default)(n)},docFrag:function(t){return s(t)&&11===t.nodeType},object:s,func:a,number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},element:function(t){if(!t||"object"!=typeof t)return!1;var n=e.getWindow(t)||e.window;return/object|function/.test(typeof n.Element)?t instanceof n.Element:1===t.nodeType&&"string"==typeof t.nodeName},plainObject:function(t){return s(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return s(t)&&void 0!==t.length&&a(t.splice)}};r.default=l;var u={};function c(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function h(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var i=n.prepared.axis;if("x"===i||"y"===i){var o="x"===i?"y":"x";e.page[o]=n.coords.start.page[o],e.client[o]=n.coords.start.client[o],e.delta[o]=0}}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var d={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.draggable=d.draggable,e.map.drag=d,e.methodDict.drag="draggable",i.actions.drag=d.defaults},listeners:{"interactions:before-action-move":c,"interactions:action-resume":c,"interactions:action-move":h,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.buttons,o=n.options.drag;if(o&&o.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(i&n.options.drag.mouseButtons)))return t.action={name:"drag",axis:"start"===o.lockAxis?o.startAxis:o.lockAxis},!1}},draggable:function(t){return r.default.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):r.default.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:c,move:h,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},f=d;u.default=f;var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var m={init:function(t){var e=t;m.document=e.document,m.DocumentFragment=e.DocumentFragment||v,m.SVGElement=e.SVGElement||v,m.SVGSVGElement=e.SVGSVGElement||v,m.SVGElementInstance=e.SVGElementInstance||v,m.Element=e.Element||v,m.HTMLElement=e.HTMLElement||m.Element,m.Event=e.Event,m.Touch=e.Touch||v,m.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function v(){}var g=m;p.default=g;var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _={init:function(t){var n=p.default.Element,i=e.window.navigator;_.supportsTouch="ontouchstart"in t||r.default.func(t.DocumentTouch)&&p.default.document instanceof t.DocumentTouch,_.supportsPointerEvent=!1!==i.pointerEnabled&&!!p.default.PointerEvent,_.isIOS=/iP(hone|od|ad)/.test(i.platform),_.isIOS7=/iP(hone|od|ad)/.test(i.platform)&&/OS 7[^\d]/.test(i.appVersion),_.isIe9=/MSIE 9/.test(i.userAgent),_.isOperaMobile="Opera"===i.appName&&_.supportsTouch&&/Presto/.test(i.userAgent),_.prefixedMatchesSelector="matches"in n.prototype?"matches":"webkitMatchesSelector"in n.prototype?"webkitMatchesSelector":"mozMatchesSelector"in n.prototype?"mozMatchesSelector":"oMatchesSelector"in n.prototype?"oMatchesSelector":"msMatchesSelector",_.pEventTypes=_.supportsPointerEvent?p.default.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,_.wheelEvent="onmousewheel"in p.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},b=_;y.default=b;var x={};function w(t){var e=t.parentNode;if(r.default.docFrag(e)){for(;(e=e.host)&&r.default.docFrag(e););return e}return e}function T(t,n){return e.window!==e.realWindow&&(n=n.replace(/\/deep\//g," ")),t[y.default.prefixedMatchesSelector](n)}Object.defineProperty(x,"__esModule",{value:!0}),x.nodeContains=function(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1},x.closest=function(t,e){for(;r.default.element(t);){if(T(t,e))return t;t=w(t)}return null},x.parentNode=w,x.matchesSelector=T,x.indexOfDeepestElement=function(t){for(var n,i=[],o=0;o<t.length;o++){var r=t[o],s=t[n];if(r&&o!==n)if(s){var a=E(r),l=E(s);if(a!==r.ownerDocument)if(l!==r.ownerDocument)if(a!==l){i=i.length?i:S(s);var u=void 0;if(s instanceof p.default.HTMLElement&&r instanceof p.default.SVGElement&&!(r instanceof p.default.SVGSVGElement)){if(r===l)continue;u=r.ownerSVGElement}else u=r;for(var c=S(u,s.ownerDocument),h=0;c[h]&&c[h]===i[h];)h++;for(var d=[c[h-1],c[h],i[h]],f=d[0].lastChild;f;){if(f===d[1]){n=o,i=c;break}if(f===d[2])break;f=f.previousSibling}}else m=r,v=s,(parseInt(e.getWindow(m).getComputedStyle(m).zIndex,10)||0)>=(parseInt(e.getWindow(v).getComputedStyle(v).zIndex,10)||0)&&(n=o);else n=o}else n=o}var m,v;return n},x.matchesUpTo=function(t,e,n){for(;r.default.element(t);){if(T(t,e))return!0;if((t=w(t))===n)return T(t,e)}return!1},x.getActualElement=function(t){return t.correspondingUseElement||t},x.getScrollXY=P,x.getElementClientRect=M,x.getElementRect=function(t){var n=M(t);if(!y.default.isIOS7&&n){var i=P(e.getWindow(t));n.left+=i.x,n.right+=i.x,n.top+=i.y,n.bottom+=i.y}return n},x.getPath=function(t){for(var e=[];t;)e.push(t),t=w(t);return e},x.trySelector=function(t){return!!r.default.string(t)&&(p.default.document.querySelector(t),!0)};var E=function(t){return t.parentNode||t.host};function S(t,e){for(var n,i=[],o=t;(n=E(o))&&o!==e&&n!==o.ownerDocument;)i.unshift(o),o=n;return i}function P(t){return{x:(t=t||e.window).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function M(t){var e=t instanceof p.default.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(t,e){for(var n in e)t[n]=e[n];return t};var L={};function I(t,e,n){return"parent"===t?(0,x.parentNode)(n):"self"===t?e.getRect(n):(0,x.closest)(n,t)}Object.defineProperty(L,"__esModule",{value:!0}),L.getStringOptionResult=I,L.resolveRectLike=function(t,e,n,i){var o=t;return r.default.string(o)?o=I(o,e,n):r.default.func(o)&&(o=o.apply(void 0,i)),r.default.element(o)&&(o=(0,x.getElementRect)(o)),o},L.rectToXY=function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},L.xywhToTlbr=function(t){return!t||"left"in t&&"top"in t||((t=(0,k.default)({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t},L.tlbrToXywh=function(t){return!t||"x"in t&&"y"in t||((t=(0,k.default)({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t},L.addEdges=function(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top};var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(t,e,n){var i=t.options[n],o=i&&i.origin||t.options.origin,r=(0,L.resolveRectLike)(o,t,e,[t&&e]);return(0,L.rectToXY)(r)||{x:0,y:0}};var z={};function O(t){return t.trim().split(/ +/)}Object.defineProperty(z,"__esModule",{value:!0}),z.default=function t(e,n,i){if(i=i||{},r.default.string(e)&&-1!==e.search(" ")&&(e=O(e)),r.default.array(e))return e.reduce((function(e,o){return(0,k.default)(e,t(o,n,i))}),i);if(r.default.object(e)&&(n=e,e=""),r.default.func(n))i[e]=i[e]||[],i[e].push(n);else if(r.default.array(n))for(var o=0;o<n.length;o++){var s;s=n[o],t(e,s,i)}else if(r.default.object(n))for(var a in n){var l=O(a).map((function(t){return""+e+t}));t(l,n[a],i)}return i};var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0,A.default=function(t,e){return Math.sqrt(t*t+e*e)};var B={};function D(t,e){for(var n in e){var i=D.prefixedPropREs,o=!1;for(var r in i)if(0===n.indexOf(r)&&i[r].test(n)){o=!0;break}o||"function"==typeof e[n]||(t[n]=e[n])}return t}Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,D.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var j=D;B.default=j;var R={};function Z(t){return t instanceof p.default.Event||t instanceof p.default.Touch}function N(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function F(t,e){return e=e||{x:0,y:0},y.default.isOperaMobile&&Z(t)?(N("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):N("page",t,e),e}function W(t,e){return e=e||{},y.default.isOperaMobile&&Z(t)?N("screen",t,e):N("client",t,e),e}function q(t){var e=[];return r.default.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function H(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var i=t[n];for(var o in e)e[o]+=i[o]}for(var r in e)e[r]/=t.length;return e}Object.defineProperty(R,"__esModule",{value:!0}),R.copyCoords=function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},R.setCoordDeltas=function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp},R.setCoordVelocity=function(t,e){var n=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/n,t.page.y=e.page.y/n,t.client.x=e.client.x/n,t.client.y=e.client.y/n,t.timeStamp=n},R.setZeroCoords=function(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0},R.isNativePointer=Z,R.getXY=N,R.getPageXY=F,R.getClientXY=W,R.getPointerId=function(t){return r.default.number(t.pointerId)?t.pointerId:t.identifier},R.setCoords=function(t,e,n){var i=e.length>1?H(e):e[0];F(i,t.page),W(i,t.client),t.timeStamp=n},R.getTouchPair=q,R.pointerAverage=H,R.touchBBox=function(t){if(!t.length)return null;var e=q(t),n=Math.min(e[0].pageX,e[1].pageX),i=Math.min(e[0].pageY,e[1].pageY),o=Math.max(e[0].pageX,e[1].pageX),r=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:i,left:n,top:i,right:o,bottom:r,width:o-n,height:r-i}},R.touchDistance=function(t,e){var n=e+"X",i=e+"Y",o=q(t),r=o[0][n]-o[1][n],s=o[0][i]-o[1][i];return(0,A.default)(r,s)},R.touchAngle=function(t,e){var n=e+"X",i=e+"Y",o=q(t),r=o[1][n]-o[0][n],s=o[1][i]-o[0][i];return 180*Math.atan2(s,r)/Math.PI},R.getPointerType=function(t){return r.default.string(t.pointerType)?t.pointerType:r.default.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type)||t instanceof p.default.Touch?"touch":"mouse"},R.getEventTargets=function(t){var e=r.default.func(t.composedPath)?t.composedPath():t.path;return[x.getActualElement(e?e[0]:t.target),x.getActualElement(t.currentTarget)]},R.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},R.coordsToEvent=function(t){return{coords:t,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(R,"pointerExtend",{enumerable:!0,get:function(){return B.default}});var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.BaseEvent=void 0;var X=function(){function t(t){this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}var e=t.prototype;return e.preventDefault=function(){},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t}();Y.BaseEvent=X,Object.defineProperty(X.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var V={};Object.defineProperty(V,"__esModule",{value:!0}),V.find=V.findIndex=V.from=V.merge=V.remove=V.contains=void 0,V.contains=function(t,e){return-1!==t.indexOf(e)},V.remove=function(t,e){return t.splice(t.indexOf(e),1)};var U=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.push(i)}return t};V.merge=U,V.from=function(t){return U([],t)};var G=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1};V.findIndex=G,V.find=function(t,e){return t[G(t,e)]};var $={};Object.defineProperty($,"__esModule",{value:!0}),$.DropEvent=void 0;var K=function(t){var e,n;function i(e,n,i){var o;(o=t.call(this,n._interaction)||this).target=void 0,o.dropzone=void 0,o.dragEvent=void 0,o.relatedTarget=void 0,o.draggable=void 0,o.timeStamp=void 0,o.propagationStopped=!1,o.immediatePropagationStopped=!1;var r="dragleave"===i?e.prev:e.cur,s=r.element,a=r.dropzone;return o.type=i,o.target=s,o.currentTarget=s,o.dropzone=a,o.dragEvent=n,o.relatedTarget=n.target,o.draggable=n.interactable,o.timeStamp=n.timeStamp,o}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.reject=function(){var t=this,e=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&e.cur.dropzone===this.dropzone&&e.cur.element===this.target)if(e.prev.dropzone=this.dropzone,e.prev.element=this.target,e.rejected=!0,e.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=e.activeDrops,o=V.findIndex(n,(function(e){var n=e.dropzone,i=e.element;return n===t.dropzone&&i===t.target}));e.activeDrops.splice(o,1);var r=new i(e,this.dragEvent,"dropdeactivate");r.dropzone=this.dropzone,r.target=this.target,this.dropzone.fire(r)}else this.dropzone.fire(new i(e,this.dragEvent,"dragleave"))},o.preventDefault=function(){},o.stopPropagation=function(){this.propagationStopped=!0},o.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},i}(Y.BaseEvent);$.DropEvent=K;var Q={};function J(t,e){for(var n=0;n<t.slice().length;n++){var i=t.slice()[n],o=i.dropzone,r=i.element;e.dropzone=o,e.target=r,o.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function tt(t,e){for(var n=function(t,e){for(var n=t.interactables,i=[],o=0;o<n.list.length;o++){var s=n.list[o];if(s.options.drop.enabled){var a=s.options.drop.accept;if(!(r.default.element(a)&&a!==e||r.default.string(a)&&!x.matchesSelector(e,a)||r.default.func(a)&&!a({dropzone:s,draggableElement:e})))for(var l=r.default.string(s.target)?s._context.querySelectorAll(s.target):r.default.array(s.target)?s.target:[s.target],u=0;u<l.length;u++){var c=l[u];c!==e&&i.push({dropzone:s,element:c,rect:s.getRect(c)})}}}return i}(t,e),i=0;i<n.length;i++){var o=n[i];o.rect=o.dropzone.getRect(o.element)}return n}function et(t,e,n){for(var i=t.dropState,o=t.interactable,r=t.element,s=[],a=0;a<i.activeDrops.length;a++){var l=i.activeDrops[a],u=l.dropzone,c=l.element,h=l.rect;s.push(u.dropCheck(e,n,o,r,c,h)?c:null)}var d=x.indexOfDeepestElement(s);return i.activeDrops[d]||null}function nt(t,e,n){var i=t.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(o.activate=new $.DropEvent(i,n,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),"dragend"===n.type&&(o.deactivate=new $.DropEvent(i,n,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(o.leave=new $.DropEvent(i,n,"dragleave"),n.dragLeave=o.leave.target=i.prev.element,n.prevDropzone=o.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(o.enter=new $.DropEvent(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),"dragend"===n.type&&i.cur.dropzone&&(o.drop=new $.DropEvent(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),"dragmove"===n.type&&i.cur.dropzone&&(o.move=new $.DropEvent(i,n,"dropmove"),o.move.dragmove=n,n.dropzone=i.cur.dropzone)),o}function it(t,e){var n=t.dropState,i=n.activeDrops,o=n.cur,r=n.prev;e.leave&&r.dropzone.fire(e.leave),e.enter&&o.dropzone.fire(e.enter),e.move&&o.dropzone.fire(e.move),e.drop&&o.dropzone.fire(e.drop),e.deactivate&&J(i,e.deactivate),n.prev.dropzone=o.dropzone,n.prev.element=o.element}function ot(t,e){var n=t.interaction,i=t.iEvent,o=t.event;if("dragmove"===i.type||"dragend"===i.type){var r=n.dropState;e.dynamicDrop&&(r.activeDrops=tt(e,n.element));var s=i,a=et(n,s,o);r.rejected=r.rejected&&!!a&&a.dropzone===r.cur.dropzone&&a.element===r.cur.element,r.cur.dropzone=a&&a.dropzone,r.cur.element=a&&a.element,r.events=nt(n,0,s)}}Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var rt={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,i=t.Interactable,o=t.defaults;t.usePlugin(u.default),i.prototype.dropzone=function(t){return function(t,e){if(r.default.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=(0,z.default)(e.listeners),i=Object.keys(n).reduce((function(t,e){return t[/^(enter|leave)/.test(e)?"drag"+e:/^(activate|deactivate|move)/.test(e)?"drop"+e:e]=n[e],t}),{});t.off(t.options.drop.listeners),t.on(i),t.options.drop.listeners=i}return r.default.func(e.ondrop)&&t.on("drop",e.ondrop),r.default.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),r.default.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),r.default.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),r.default.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),r.default.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:r.default.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return r.default.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,t)},i.prototype.dropCheck=function(t,e,n,i,o,s){return function(t,e,n,i,o,s,a){var l=!1;if(!(a=a||t.getRect(s)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,l,t,s,i,o);var u=t.options.drop.overlap;if("pointer"===u){var c=(0,C.default)(i,o,"drag"),h=R.getPageXY(e);h.x+=c.x,h.y+=c.y;var d=h.x>a.left&&h.x<a.right,f=h.y>a.top&&h.y<a.bottom;l=d&&f}var p=i.getRect(o);if(p&&"center"===u){var m=p.left+p.width/2,v=p.top+p.height/2;l=m>=a.left&&m<=a.right&&v>=a.top&&v<=a.bottom}return p&&r.default.number(u)&&(l=Math.max(0,Math.min(a.right,p.right)-Math.max(a.left,p.left))*Math.max(0,Math.min(a.bottom,p.bottom)-Math.max(a.top,p.top))/(p.width*p.height)>=u),t.options.drop.checker&&(l=t.options.drop.checker(e,n,l,t,s,i,o)),l}(this,t,e,n,i,o,s)},n.dynamicDrop=function(e){return r.default.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop},(0,k.default)(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,o.actions.drop=rt.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,i=(t.event,t.iEvent);if("drag"===n.prepared.name){var o=n.dropState;o.activeDrops=null,o.events=null,o.activeDrops=tt(e,n.element),o.events=nt(n,0,i),o.events.activate&&(J(o.activeDrops,o.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":ot,"interactions:after-action-move":function(t,e){var n=t.interaction,i=t.iEvent;"drag"===n.prepared.name&&(it(n,n.dropState.events),e.fire("actions/drop:move",{interaction:n,dragEvent:i}),n.dropState.events={})},"interactions:action-end":function(t,e){if("drag"===t.interaction.prepared.name){var n=t.interaction,i=t.iEvent;ot(t,e),it(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:i})}},"interactions:stop":function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:tt,getDrop:et,getDropEvents:nt,fireDropEvents:it,defaults:{enabled:!1,accept:null,overlap:"pointer"}},st=rt;Q.default=st;var at={};function lt(t){var e=t.interaction,n=t.iEvent,i=t.phase;if("gesture"===e.prepared.name){var o=e.pointers.map((function(t){return t.pointer})),s="start"===i,a="end"===i,l=e.interactable.options.deltaSource;if(n.touches=[o[0],o[1]],s)n.distance=R.touchDistance(o,l),n.box=R.touchBBox(o),n.scale=1,n.ds=0,n.angle=R.touchAngle(o,l),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(a){var u=e.prevEvent;n.distance=u.distance,n.box=u.box,n.scale=u.scale,n.ds=0,n.angle=u.angle,n.da=0}else n.distance=R.touchDistance(o,l),n.box=R.touchBBox(o),n.scale=n.distance/e.gesture.startDistance,n.angle=R.touchAngle(o,l),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,r.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var ut={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.gesturable=function(t){return r.default.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):r.default.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},e.map.gesture=ut,e.methodDict.gesture="gesturable",i.actions.gesture=ut.defaults},listeners:{"interactions:action-start":lt,"interactions:action-move":lt,"interactions:action-end":lt,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},ct=ut;at.default=ct;var ht={};function dt(t,e,n,i,o,s,a){if(!e)return!1;if(!0===e){var l=r.default.number(s.width)?s.width:s.right-s.left,u=r.default.number(s.height)?s.height:s.bottom-s.top;if(a=Math.min(a,Math.abs(("left"===t||"right"===t?l:u)/2)),l<0&&("left"===t?t="right":"right"===t&&(t="left")),u<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return n.x<(l>=0?s.left:s.right)+a;if("top"===t)return n.y<(u>=0?s.top:s.bottom)+a;if("right"===t)return n.x>(l>=0?s.right:s.left)-a;if("bottom"===t)return n.y>(u>=0?s.bottom:s.top)-a}return!!r.default.element(i)&&(r.default.element(e)?e===i:x.matchesUpTo(i,e,o))}function ft(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var i=e;n.interactable.options.resize.square?("y"===n.resizeAxes?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,"x"===n.resizeAxes?i.delta.y=0:"y"===n.resizeAxes&&(i.delta.x=0))}}Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=void 0;var pt={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,i=t.Interactable,o=t.defaults;pt.cursors=function(t){return t.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),pt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(e){return function(t,e,n){return r.default.object(e)?(t.options.resize.enabled=!1!==e.enabled,t.setPerAction("resize",e),t.setOnEvents("resize",e),r.default.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),r.default.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:r.default.bool(e.square)&&(t.options.resize.square=e.square),t):r.default.bool(e)?(t.options.resize.enabled=e,t):t.options.resize}(this,e,t)},e.map.resize=pt,e.methodDict.resize="resizable",o.actions.resize=pt.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=e,o=n.rect;n._rects={start:(0,k.default)({},o),corrected:(0,k.default)({},o),previous:(0,k.default)({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}}(t),ft(t)},"interactions:action-move":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=e,o=n.interactable.options.resize.invert,r="reposition"===o||"negate"===o,s=n.rect,a=n._rects,l=a.start,u=a.corrected,c=a.delta,h=a.previous;if((0,k.default)(h,u),r){if((0,k.default)(u,s),"reposition"===o){if(u.top>u.bottom){var d=u.top;u.top=u.bottom,u.bottom=d}if(u.left>u.right){var f=u.left;u.left=u.right,u.right=f}}}else u.top=Math.min(s.top,l.bottom),u.bottom=Math.max(s.bottom,l.top),u.left=Math.min(s.left,l.right),u.right=Math.max(s.right,l.left);for(var p in u.width=u.right-u.left,u.height=u.bottom-u.top,u)c[p]=u[p]-h[p];i.edges=n.prepared.edges,i.rect=u,i.deltaRect=c}}(t),ft(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var i=e;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.element,o=t.rect,s=t.buttons;if(o){var a=(0,k.default)({},e.coords.cur.page),l=n.options.resize;if(l&&l.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(s&l.mouseButtons))){if(r.default.object(l.edges)){var u={left:!1,right:!1,top:!1,bottom:!1};for(var c in u)u[c]=dt(c,l.edges[c],a,e._latestPointer.eventTarget,i,o,l.margin||pt.defaultMargin);u.left=u.left&&!u.right,u.top=u.top&&!u.bottom,(u.left||u.right||u.top||u.bottom)&&(t.action={name:"resize",edges:u})}else{var h="y"!==l.axis&&a.x>o.right-pt.defaultMargin,d="x"!==l.axis&&a.y>o.bottom-pt.defaultMargin;(h||d)&&(t.action={name:"resize",axes:(h?"x":"")+(d?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,i=t.name,o=pt.cursors,r=null;if(n)r=o[i+n];else if(e){for(var s="",a=["top","bottom","left","right"],l=0;l<a.length;l++){var u=a[l];e[u]&&(s+=u)}r=o[s]}return r},defaultMargin:null},mt=pt;ht.default=mt;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=void 0;var gt={id:"actions",install:function(t){t.usePlugin(at.default),t.usePlugin(ht.default),t.usePlugin(u.default),t.usePlugin(Q.default)}};vt.default=gt;var yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=void 0,yt.default={};var _t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.default=void 0;var bt,xt,wt=0,Tt={request:function(t){return bt(t)},cancel:function(t){return xt(t)},init:function(t){if(bt=t.requestAnimationFrame,xt=t.cancelAnimationFrame,!bt)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var i=e[n];bt=t[i+"RequestAnimationFrame"],xt=t[i+"CancelAnimationFrame"]||t[i+"CancelRequestAnimationFrame"]}bt=bt&&bt.bind(t),xt=xt&&xt.bind(t),bt||(bt=function(e){var n=Date.now(),i=Math.max(0,16-(n-wt)),o=t.setTimeout((function(){e(n+i)}),i);return wt=n+i,o},xt=function(t){return clearTimeout(t)})}};_t.default=Tt;var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.getContainer=Pt,Et.getScroll=Mt,Et.getScrollSize=function(t){return r.default.window(t)&&(t=window.document.body),{x:t.scrollWidth,y:t.scrollHeight}},Et.getScrollSizeDelta=function(t,e){var n=t.interaction,i=t.element,o=n&&n.interactable.options[n.prepared.name].autoScroll;if(!o||!o.enabled)return e(),{x:0,y:0};var r=Pt(o.container,n.interactable,i),s=Mt(r);e();var a=Mt(r);return{x:a.x-s.x,y:a.y-s.y}},Et.default=void 0;var St={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){St.isScrolling=!0,_t.default.cancel(St.i),t.autoScroll=St,St.interaction=t,St.prevTime=St.now(),St.i=_t.default.request(St.scroll)},stop:function(){St.isScrolling=!1,St.interaction&&(St.interaction.autoScroll=null),_t.default.cancel(St.i)},scroll:function(){var t=St.interaction,e=t.interactable,n=t.element,i=t.prepared.name,o=e.options[i].autoScroll,s=Pt(o.container,e,n),a=St.now(),l=(a-St.prevTime)/1e3,u=o.speed*l;if(u>=1){var c={x:St.x*u,y:St.y*u};if(c.x||c.y){var h=Mt(s);r.default.window(s)?s.scrollBy(c.x,c.y):s&&(s.scrollLeft+=c.x,s.scrollTop+=c.y);var d=Mt(s),f={x:d.x-h.x,y:d.y-h.y};(f.x||f.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:f,interaction:t,container:s})}St.prevTime=a}St.isScrolling&&(_t.default.cancel(St.i),St.i=_t.default.request(St.scroll))},check:function(t,e){var n;return null==(n=t.options[e].autoScroll)?void 0:n.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&St.check(e.interactable,e.prepared.name))if(e.simulation)St.x=St.y=0;else{var i,o,s,a,l=e.interactable,u=e.element,c=e.prepared.name,h=l.options[c].autoScroll,d=Pt(h.container,l,u);if(r.default.window(d))a=n.clientX<St.margin,i=n.clientY<St.margin,o=n.clientX>d.innerWidth-St.margin,s=n.clientY>d.innerHeight-St.margin;else{var f=x.getElementClientRect(d);a=n.clientX<f.left+St.margin,i=n.clientY<f.top+St.margin,o=n.clientX>f.right-St.margin,s=n.clientY>f.bottom-St.margin}St.x=o?1:a?-1:0,St.y=s?1:i?-1:0,St.isScrolling||(St.margin=h.margin,St.speed=h.speed,St.start(e))}}};function Pt(t,n,i){return(r.default.string(t)?(0,L.getStringOptionResult)(t,n,i):t)||(0,e.getWindow)(i)}function Mt(t){return r.default.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var kt={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=St,St.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=St.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,St.stop(),St.interaction&&(St.interaction=null)},"interactions:stop":St.stop,"interactions:action-move":function(t){return St.onInteractionMove(t)}}};Et.default=kt;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.warnOnce=function(t,n){var i=!1;return function(){return i||(e.window.console.warn(n),i=!0),t.apply(this,arguments)}},Lt.copyAction=function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t};var It={};function Ct(t){return r.default.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function zt(t){return r.default.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(It,"__esModule",{value:!0}),It.default=void 0;var Ot={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(e,n,i,o){var r=function(t,e,n,i,o){var r=t.getRect(i),s={action:null,interactable:t,interaction:n,element:i,rect:r,buttons:e.buttons||{0:1,1:4,3:8,4:16}[e.button]};return o.fire("auto-start:check",s),s.action}(this,n,i,o,t);return this.options.actionChecker?this.options.actionChecker(e,n,r,this,o,i):r},e.prototype.ignoreFrom=(0,Lt.warnOnce)((function(t){return this._backCompatOption("ignoreFrom",t)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=(0,Lt.warnOnce)((function(t){return this._backCompatOption("allowFrom",t)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=zt,e.prototype.styleCursor=Ct}};It.default=Ot;var At={};function Bt(t,e,n,i,o){return e.testIgnoreAllow(e.options[t.name],n,i)&&e.options[t.name].enabled&&Zt(e,n,t,o)?t:null}function Dt(t,e,n,i,o,r,s){for(var a=0,l=i.length;a<l;a++){var u=i[a],c=o[a],h=u.getAction(e,n,t,c);if(h){var d=Bt(h,u,c,r,s);if(d)return{action:d,interactable:u,element:c}}}return{action:null,interactable:null,element:null}}function jt(t,e,n,i,o){var s=[],a=[],l=i;function u(t){s.push(t),a.push(l)}for(;r.default.element(l);){s=[],a=[],o.interactables.forEachMatch(l,u);var c=Dt(t,e,n,s,a,i,o);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;l=x.parentNode(l)}return{action:null,interactable:null,element:null}}function Rt(t,e,n){var i=e.action,o=e.interactable,r=e.element;i=i||{name:null},t.interactable=o,t.element=r,(0,Lt.copyAction)(t.prepared,i),t.rect=o&&i.name?o.getRect(r):null,Wt(t,n),n.fire("autoStart:prepared",{interaction:t})}function Zt(t,e,n,i){var o=t.options,r=o[n.name].max,s=o[n.name].maxPerElement,a=i.autoStart.maxInteractions,l=0,u=0,c=0;if(!(r&&s&&a))return!1;for(var h=0;h<i.interactions.list.length;h++){var d=i.interactions.list[h],f=d.prepared.name;if(d.interacting()){if(++l>=a)return!1;if(d.interactable===t){if((u+=f===n.name?1:0)>=r)return!1;if(d.element===e&&(c++,f===n.name&&c>=s))return!1}}}return a>0}function Nt(t,e){return r.default.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function Ft(t,e,n){var i=n.autoStart.cursorElement;i&&i!==t&&(i.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function Wt(t,e){var n=t.interactable,i=t.element,o=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var s="";if(o.name){var a=n.options[o.name].cursorChecker;s=r.default.func(a)?a(o,n,i,t._interacting):e.actions.map[o.name].getCursor(o)}Ft(t.element,s||"",e)}else e.autoStart.cursorElement&&Ft(e.autoStart.cursorElement,"",e)}Object.defineProperty(At,"__esModule",{value:!0}),At.default=void 0;var qt={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin(It.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,k.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return Nt(e,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Zt,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget;n.interacting()||Rt(n,jt(n,i,o,r,e),e)},"interactions:move":function(t,e){!function(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||Rt(n,jt(n,i,o,r,e),e)}(t,e),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire("autoStart:before-start",t);var i=n.interactable,o=n.prepared.name;o&&i&&(i.options[o].manualStart||!Zt(i,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,i,n.element),Wt(n,e)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,i=n.interactable;i&&i.options.styleCursor&&Ft(n.element,"",e)}},maxInteractions:Nt,withinInteractionLimit:Zt,validateAction:Bt};At.default=qt;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var Yt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,i=t.eventTarget,o=t.dx,s=t.dy;if("drag"===n.prepared.name){var a=Math.abs(o),l=Math.abs(s),u=n.interactable.options.drag,c=u.startAxis,h=a>l?"x":a<l?"y":"xy";if(n.prepared.axis="start"===u.lockAxis?h[0]:u.lockAxis,"xy"!==h&&"xy"!==c&&c!==h){n.prepared.name=null;for(var d=i,f=function(t){if(t!==n.interactable){var o=n.interactable.options.drag;if(!o.manualStart&&t.testIgnoreAllow(o,d,i)){var r=t.getAction(n.downPointer,n.downEvent,n,d);if(r&&"drag"===r.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}(h,t)&&At.default.validateAction(r,t,d,i,e))return t}}};r.default.element(d);){var p=e.interactables.forEachMatch(d,f);if(p){n.prepared.name="drag",n.interactable=p,n.element=d;break}d=(0,x.parentNode)(d)}}}}}};Ht.default=Yt;var Xt={};function Vt(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0;var Ut={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(At.default),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=Vt(e);n>0&&(e.autoStartHoldTimer=setTimeout((function(){e.start(e.prepared,e.interactable,e.element)}),n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;Vt(e)>0&&(e.prepared.name=null)}},getHoldDuration:Vt};Xt.default=Ut;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=void 0;var $t={id:"auto-start",install:function(t){t.usePlugin(At.default),t.usePlugin(Xt.default),t.usePlugin(Ht.default)}};Gt.default=$t;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=void 0,Kt.default={};var Qt={};function Jt(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):r.default.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function te(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}function ee(t){var n=t.Interactable;n.prototype.preventDefault=Jt,n.prototype.checkAndPreventDefault=function(n){return function(t,n,i){var o=t.options.preventDefault;if("never"!==o)if("always"!==o){if(n.events.supportsPassive&&/^touch(start|move)$/.test(i.type)){var s=(0,e.getWindow)(i.target).document,a=n.getDocOptions(s);if(!a||!a.events||!1!==a.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(i.type)||r.default.element(i.target)&&(0,x.matchesSelector)(i.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||i.preventDefault()}else i.preventDefault()}(this,t,n)},t.interactions.docEvents.push({type:"dragstart",listener:function(e){for(var n=0;n<t.interactions.list.length;n++){var i=t.interactions.list[n];if(i.element&&(i.element===e.target||(0,x.nodeContains)(i.element,e.target)))return void i.interactable.checkAndPreventDefault(e)}}})}Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.install=ee,Qt.default=void 0;var ne={id:"core/interactablePreventDefault",install:ee,listeners:["down","move","up","cancel"].reduce((function(t,e){return t["interactions:"+e]=te,t}),{})};Qt.default=ne;var ie,oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=void 0,function(t){t.touchAction="touchAction",t.boxSizing="boxSizing",t.noListeners="noListeners"}(ie||(ie={}));var re="[interact.js] ",se={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},ae=[{name:ie.touchAction,perform:function(t){return!function(t,e,n){for(var i=t;r.default.element(i);){if(le(i,"touchAction",n))return!0;i=(0,x.parentNode)(i)}return!1}(t.element,0,/pan-|pinch|none/)},getInfo:function(t){return[t.element,se.touchAction]},text:'Consider adding CSS "touch-action: none" to this element\n'},{name:ie.boxSizing,perform:function(t){var e=t.element;return"resize"===t.prepared.name&&e instanceof p.default.HTMLElement&&!le(e,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo:function(t){return[t.element,se.boxSizing]}},{name:ie.noListeners,perform:function(t){var e=t.prepared.name;return!(t.interactable.events.types[e+"move"]||[]).length},getInfo:function(t){return[t.prepared.name,t.interactable]},text:"There are no listeners set for this action"}];function le(t,n,i){var o=t.style[n]||e.window.getComputedStyle(t)[n];return i.test((o||"").toString())}var ue={id:"dev-tools",install:function(t,e){var n=(void 0===e?{}:e).logger,i=t.Interactable,o=t.defaults;t.logger=n||console,o.base.devTools={ignore:{}},i.prototype.devTools=function(t){return t?((0,k.default)(this.options.devTools,t),this):this.options.devTools}},listeners:{"interactions:action-start":function(t,e){for(var n=t.interaction,i=0;i<ae.length;i++){var o,r=ae[i],s=n.interactable&&n.interactable.options;s&&s.devTools&&s.devTools.ignore[r.name]||!r.perform(n)||(o=e.logger).warn.apply(o,[re+r.text].concat(r.getInfo(n)))}}},checks:ae,CheckName:ie,links:se,prefix:re};oe.default=ue;var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0,ce.default={};var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.default=function t(e){var n={};for(var i in e){var o=e[i];r.default.plainObject(o)?n[i]=t(o):r.default.array(o)?n[i]=V.from(o):n[i]=o}return n};var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.getRectOffset=me,de.default=void 0;var fe=function(){function t(t){this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=null,this.result=null,this.endResult=null,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=pe()}var e=t.prototype;return e.start=function(t,e){var n=t.phase,i=this.interaction,o=function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(t){return!!t}))}(i);this.prepareStates(o),this.edges=(0,k.default)({},i.edges),this.startOffset=me(i.rect,e),this.startDelta={x:0,y:0};var r={phase:n,pageCoords:e,preEnd:!1};return this.result=pe(),this.startAll(r),this.result=this.setAll(r)},e.fillArg=function(t){var e=this.interaction;t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect=t.rect||e.rect,t.edges=this.edges,t.startOffset=this.startOffset},e.startAll=function(t){this.fillArg(t);for(var e=0;e<this.states.length;e++){var n=this.states[e];n.methods.start&&(t.state=n,n.methods.start(t))}},e.setAll=function(t){this.fillArg(t);var e=t.phase,n=t.preEnd,i=t.skipModifiers,o=t.rect;t.coords=(0,k.default)({},t.pageCoords),t.rect=(0,k.default)({},o);for(var r=i?this.states.slice(i):this.states,s=pe(t.coords,t.rect),a=0;a<r.length;a++){var l=r[a],u=l.options,c=(0,k.default)({},t.coords),h=null;l.methods.set&&this.shouldDo(u,n,e)&&(t.state=l,h=l.methods.set(t),L.addEdges(this.interaction.edges,t.rect,{x:t.coords.x-c.x,y:t.coords.y-c.y})),s.eventProps.push(h)}s.delta.x=t.coords.x-t.pageCoords.x,s.delta.y=t.coords.y-t.pageCoords.y,s.rectDelta.left=t.rect.left-o.left,s.rectDelta.right=t.rect.right-o.right,s.rectDelta.top=t.rect.top-o.top,s.rectDelta.bottom=t.rect.bottom-o.bottom;var d=this.result.coords,f=this.result.rect;if(d&&f){var p=s.rect.left!==f.left||s.rect.right!==f.right||s.rect.top!==f.top||s.rect.bottom!==f.bottom;s.changed=p||d.x!==s.coords.x||d.y!==s.coords.y}return s},e.applyToInteraction=function(t){var e=this.interaction,n=t.phase,i=e.coords.cur,o=e.coords.start,r=this.result,s=this.startDelta,a=r.delta;"start"===n&&(0,k.default)(this.startDelta,r.delta);for(var l=[[o,s],[i,a]],u=0;u<l.length;u++){var c=l[u],h=c[0],d=c[1];h.page.x+=d.x,h.page.y+=d.y,h.client.x+=d.x,h.client.y+=d.y}var f=this.result.rectDelta,p=t.rect||e.rect;p.left+=f.left,p.right+=f.right,p.top+=f.top,p.bottom+=f.bottom,p.width=p.right-p.left,p.height=p.bottom-p.top},e.setAndApply=function(t){var e=this.interaction,n=t.phase,i=t.preEnd,o=t.skipModifiers,r=this.setAll({preEnd:i,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page});if(this.result=r,!r.changed&&(!o||o<this.states.length)&&e.interacting())return!1;if(t.modifiedCoords){var s=e.coords.cur.page,a={x:t.modifiedCoords.x-s.x,y:t.modifiedCoords.y-s.y};r.coords.x+=a.x,r.coords.y+=a.y,r.delta.x+=a.x,r.delta.y+=a.y}this.applyToInteraction(t)},e.beforeEnd=function(t){var e=t.interaction,n=t.event,i=this.states;if(i&&i.length){for(var o=!1,r=0;r<i.length;r++){var s=i[r];t.state=s;var a=s.options,l=s.methods,u=l.beforeEnd&&l.beforeEnd(t);if(u)return this.endResult=u,!1;o=o||!o&&this.shouldDo(a,!0,t.phase,!0)}o&&e.move({event:n,preEnd:!0})}},e.stop=function(t){var e=t.interaction;if(this.states&&this.states.length){var n=(0,k.default)({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);this.fillArg(n);for(var i=0;i<this.states.length;i++){var o=this.states[i];n.state=o,o.methods.stop&&o.methods.stop(n)}this.states=null,this.endResult=null}},e.prepareStates=function(t){this.states=[];for(var e=0;e<t.length;e++){var n=t[e],i=n.options,o=n.methods,r=n.name;this.states.push({options:i,methods:o,index:e,name:r})}return this.states},e.restoreInteractionCoords=function(t){var e=t.interaction,n=e.coords,i=e.rect,o=e.modification;if(o.result){for(var r=o.startDelta,s=o.result,a=s.delta,l=s.rectDelta,u=[[n.start,r],[n.cur,a]],c=0;c<u.length;c++){var h=u[c],d=h[0],f=h[1];d.page.x-=f.x,d.page.y-=f.y,d.client.x-=f.x,d.client.y-=f.y}i.left-=l.left,i.right-=l.right,i.top-=l.top,i.bottom-=l.bottom}},e.shouldDo=function(t,e,n,i){return!(!t||!1===t.enabled||i&&!t.endOnly||t.endOnly&&!e||"start"===n&&!t.setStart)},e.copyFrom=function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.edges=t.edges,this.states=t.states.map((function(t){return(0,he.default)(t)})),this.result=pe((0,k.default)({},t.result.coords),(0,k.default)({},t.result.rect))},e.destroy=function(){for(var t in this)this[t]=null},t}();function pe(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function me(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}de.default=fe;var ve={};function ge(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}Object.defineProperty(ve,"__esModule",{value:!0}),ve.makeModifier=function(t,e){var n=t.defaults,i={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},o=function(t){var o=t||{};for(var r in o.enabled=!1!==o.enabled,n)r in o||(o[r]=n[r]);var s={options:o,methods:i,name:e,enable:function(){return o.enabled=!0,s},disable:function(){return o.enabled=!1,s}};return s};return e&&"string"==typeof e&&(o._defaults=n,o._methods=i),o},ve.addEventModifiers=ge,ve.default=void 0;var ye={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new de.default(e)},"interactions:before-action-start":function(t){var e=t.interaction.modification;e.start(t,t.interaction.coords.start.page),t.interaction.edges=e.edges,e.applyToInteraction(t)},"interactions:before-action-move":function(t){return t.interaction.modification.setAndApply(t)},"interactions:before-action-end":function(t){return t.interaction.modification.beforeEnd(t)},"interactions:action-start":ge,"interactions:action-move":ge,"interactions:action-end":ge,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}};ve.default=ye;var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.defaults=void 0,_e.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.InteractEvent=void 0;var xe=function(t){var e,n;function i(e,n,i,o,r,s,a){var l;(l=t.call(this,e)||this).target=void 0,l.currentTarget=void 0,l.relatedTarget=null,l.screenX=void 0,l.screenY=void 0,l.button=void 0,l.buttons=void 0,l.ctrlKey=void 0,l.shiftKey=void 0,l.altKey=void 0,l.metaKey=void 0,l.page=void 0,l.client=void 0,l.delta=void 0,l.rect=void 0,l.x0=void 0,l.y0=void 0,l.t0=void 0,l.dt=void 0,l.duration=void 0,l.clientX0=void 0,l.clientY0=void 0,l.velocity=void 0,l.speed=void 0,l.swipe=void 0,l.timeStamp=void 0,l.axes=void 0,l.preEnd=void 0,r=r||e.element;var u=e.interactable,c=(u&&u.options||_e.defaults).deltaSource,h=(0,C.default)(u,r,i),d="start"===o,f="end"===o,p=d?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(l):e.prevEvent,m=d?e.coords.start:f?{page:p.page,client:p.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return l.page=(0,k.default)({},m.page),l.client=(0,k.default)({},m.client),l.rect=(0,k.default)({},e.rect),l.timeStamp=m.timeStamp,f||(l.page.x-=h.x,l.page.y-=h.y,l.client.x-=h.x,l.client.y-=h.y),l.ctrlKey=n.ctrlKey,l.altKey=n.altKey,l.shiftKey=n.shiftKey,l.metaKey=n.metaKey,l.button=n.button,l.buttons=n.buttons,l.target=r,l.currentTarget=r,l.preEnd=s,l.type=a||i+(o||""),l.interactable=u,l.t0=d?e.pointers[e.pointers.length-1].downTime:p.t0,l.x0=e.coords.start.page.x-h.x,l.y0=e.coords.start.page.y-h.y,l.clientX0=e.coords.start.client.x-h.x,l.clientY0=e.coords.start.client.y-h.y,l.delta=d||f?{x:0,y:0}:{x:l[c].x-p[c].x,y:l[c].y-p[c].y},l.dt=e.coords.delta.timeStamp,l.duration=l.timeStamp-l.t0,l.velocity=(0,k.default)({},e.coords.velocity[c]),l.speed=(0,A.default)(l.velocity.x,l.velocity.y),l.swipe=f||"inertiastart"===o?l.getSwipe():null,l}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getSwipe=function(){var t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,i=202.5<=e&&e<337.5;return{up:i,down:!i&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}},o.preventDefault=function(){},o.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},o.stopPropagation=function(){this.propagationStopped=!0},i}(Y.BaseEvent);be.InteractEvent=xe,Object.defineProperties(xe.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.PointerInfo=void 0,we.PointerInfo=function(t,e,n,i,o){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=e,this.event=n,this.downTime=i,this.downTarget=o};var Te,Ee,Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Object.defineProperty(Se,"PointerInfo",{enumerable:!0,get:function(){return we.PointerInfo}}),Se.default=Se.Interaction=Se._ProxyMethods=Se._ProxyValues=void 0,Se._ProxyValues=Te,function(t){t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy=""}(Te||(Se._ProxyValues=Te={})),Se._ProxyMethods=Ee,function(t){t.start="",t.move="",t.end="",t.stop="",t.interacting=""}(Ee||(Se._ProxyMethods=Ee={}));var Pe=0,Me=function(){var t;function e(t){var e=this,n=t.pointerType,i=t.scopeFire;this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=(0,Lt.warnOnce)((function(t){this.move(t)}),"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:R.newCoords(),prev:R.newCoords(),cur:R.newCoords(),delta:R.newCoords(),velocity:R.newCoords()},this._id=Pe++,this._scopeFire=i,this.pointerType=n;var o=this;this._proxy={};var r=function(t){Object.defineProperty(e._proxy,t,{get:function(){return o[t]}})};for(var s in Te)r(s);var a=function(t){Object.defineProperty(e._proxy,t,{value:function(){return o[t].apply(o,arguments)}})};for(var l in Ee)a(l);this._scopeFire("interactions:new",{interaction:this})}(t=[{key:"pointerMoveTolerance",get:function(){return 1}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,t);var n=e.prototype;return n.pointerDown=function(t,e,n){var i=this.updatePointer(t,e,n,!0),o=this.pointers[i];this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:n,pointerIndex:i,pointerInfo:o,type:"down",interaction:this})},n.start=function(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===t.name?2:1)||!e.options[t.name].enabled)&&((0,Lt.copyAction)(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=this.prepared.edges?(0,k.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)},n.pointerMove=function(t,e,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,n,!1);var i,o,r=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(i=this.coords.cur.client.x-this.coords.start.client.x,o=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,A.default)(i,o)>this.pointerMoveTolerance);var s=this.getPointerIndex(t),a={pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:e,type:"move",eventTarget:n,dx:i,dy:o,duplicate:r,interaction:this};r||R.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",a),r||this.simulation||(this.interacting()&&(a.type=null,this.move(a)),this.pointerWasMoved&&R.copyCoords(this.coords.prev,this.coords.cur))},n.move=function(t){t&&t.event||R.setZeroCoords(this.coords.delta),(t=(0,k.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)},n.pointerUp=function(t,e,n,i){var o=this.getPointerIndex(t);-1===o&&(o=this.updatePointer(t,e,n,!1));var r=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:"+r,{pointer:t,pointerIndex:o,pointerInfo:this.pointers[o],event:e,eventTarget:n,type:r,curEventTarget:i,interaction:this}),this.simulation||this.end(e),this.removePointer(t,e)},n.documentBlur=function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})},n.end=function(t){var e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,!0===e&&this.stop()},n.currentAction=function(){return this._interacting?this.prepared.name:null},n.interacting=function(){return this._interacting},n.stop=function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null},n.getPointerIndex=function(t){var e=R.getPointerId(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:V.findIndex(this.pointers,(function(t){return t.id===e}))},n.getPointerInfo=function(t){return this.pointers[this.getPointerIndex(t)]},n.updatePointer=function(t,e,n,i){var o=R.getPointerId(t),r=this.getPointerIndex(t),s=this.pointers[r];return i=!1!==i&&(i||/(down|start)$/i.test(e.type)),s?s.pointer=t:(s=new we.PointerInfo(o,t,e,null,null),r=this.pointers.length,this.pointers.push(s)),R.setCoords(this.coords.cur,this.pointers.map((function(t){return t.pointer})),this._now()),R.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),i&&(this.pointerIsDown=!0,s.downTime=this.coords.cur.timeStamp,s.downTarget=n,R.pointerExtend(this.downPointer,t),this.interacting()||(R.copyCoords(this.coords.start,this.coords.cur),R.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:n,down:i,pointerInfo:s,pointerIndex:r,interaction:this}),r},n.removePointer=function(t,e){var n=this.getPointerIndex(t);if(-1!==n){var i=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:i,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}},n._updateLatestPointer=function(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n},n.destroy=function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null},n._createPreparedEvent=function(t,e,n,i){return new be.InteractEvent(this,t,this.prepared.name,e,this.element,n,i)},n._fireEvent=function(t){this.interactable.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)},n._doPhase=function(t){var e=t.event,n=t.phase,i=t.preEnd,o=t.type,r=this.rect;if(r&&"move"===n&&(L.addEdges(this.edges,r,this.coords.delta[this.interactable.options.deltaSource]),r.width=r.right-r.left,r.height=r.bottom-r.top),!1===this._scopeFire("interactions:before-action-"+n,t))return!1;var s=t.iEvent=this._createPreparedEvent(e,n,i,o);return this._scopeFire("interactions:action-"+n,t),"start"===n&&(this.prevEvent=s),this._fireEvent(s),this._scopeFire("interactions:after-action-"+n,t),!0},n._now=function(){return Date.now()},e}();Se.Interaction=Me;var ke=Me;Se.default=ke;var Le={};function Ie(t){t.pointerIsDown&&(Ae(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}function Ce(t){ze(t.interaction)}function ze(t){if(!function(t){return!(!t.offset.pending.x&&!t.offset.pending.y)}(t))return!1;var e=t.offset.pending;return Ae(t.coords.cur,e),Ae(t.coords.delta,e),L.addEdges(t.edges,t.rect,e),e.x=0,e.y=0,!0}function Oe(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function Ae(t,e){var n=t.page,i=t.client,o=e.x,r=e.y;n.x+=o,n.y+=r,i.x+=o,i.y+=r}Object.defineProperty(Le,"__esModule",{value:!0}),Le.addTotal=Ie,Le.applyPending=ze,Le.default=void 0,Se._ProxyMethods.offsetBy="";var Be={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=Oe},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return Ie(t.interaction)},"interactions:before-action-start":Ce,"interactions:before-action-move":Ce,"interactions:before-action-end":function(t){var e=t.interaction;if(ze(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}};Le.default=Be;var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.default=De.InertiaState=void 0;var je=function(){function t(t){this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=null,this.modifierCount=0,this.modifierArg=null,this.startCoords=null,this.t0=0,this.v0=0,this.te=0,this.targetOffset=null,this.modifiedOffset=null,this.currentOffset=null,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=null,this.interaction=void 0,this.interaction=t}var e=t.prototype;return e.start=function(t){var e=this.interaction,n=Re(e);if(!n||!n.enabled)return!1;var i=e.coords.velocity.client,o=(0,A.default)(i.x,i.y),r=this.modification||(this.modification=new de.default(e));if(r.copyFrom(e.modification),this.t0=e._now(),this.allowResume=n.allowResume,this.v0=o,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg={interaction:e,interactable:e.interactable,element:e.element,rect:e.rect,edges:e.edges,pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"},this.t0-e.coords.cur.timeStamp<50&&o>n.minSpeed&&o>n.endSpeed)this.startInertia();else{if(r.result=r.setAll(this.modifierArg),!r.result.changed)return!1;this.startSmoothEnd()}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:t,phase:"inertiastart"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=!0,e.simulation=this,!0},e.startInertia=function(){var t=this,e=this.interaction.coords.velocity.client,n=Re(this.interaction),i=n.resistance,o=-Math.log(n.endSpeed/this.v0)/i;this.targetOffset={x:(e.x-o)/i,y:(e.y-o)/i},this.te=o,this.lambda_v0=i/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var r=this.modification,s=this.modifierArg;s.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},r.result=r.setAll(s),r.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+r.result.delta.x,y:this.targetOffset.y+r.result.delta.y}),this.onNextFrame((function(){return t.inertiaTick()}))},e.startSmoothEnd=function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return t.smoothEndTick()}))},e.onNextFrame=function(t){var e=this;this.timeout=_t.default.request((function(){e.active&&t()}))},e.inertiaTick=function(){var t,e,n,i,o,r=this,s=this.interaction,a=Re(s).resistance,l=(s._now()-this.t0)/1e3;if(l<this.te){var u,c=1-(Math.exp(-a*l)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=this.targetOffset.x,e=this.targetOffset.y,n=this.modifiedOffset.x,i=this.modifiedOffset.y,u={x:Ze(o=c,0,t,n),y:Ze(o,0,e,i)}):u={x:this.targetOffset.x*c,y:this.targetOffset.y*c};var h={x:u.x-this.currentOffset.x,y:u.y-this.currentOffset.y};this.currentOffset.x+=h.x,this.currentOffset.y+=h.y,s.offsetBy(h),s.move(),this.onNextFrame((function(){return r.inertiaTick()}))}else s.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()},e.smoothEndTick=function(){var t=this,e=this.interaction,n=e._now()-this.t0,i=Re(e).smoothEndDuration;if(n<i){var o={x:Ne(n,0,this.targetOffset.x,i),y:Ne(n,0,this.targetOffset.y,i)},r={x:o.x-this.currentOffset.x,y:o.y-this.currentOffset.y};this.currentOffset.x+=r.x,this.currentOffset.y+=r.y,e.offsetBy(r),e.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return t.smoothEndTick()}))}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()},e.resume=function(t){var e=t.pointer,n=t.event,i=t.eventTarget,o=this.interaction;o.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),o.updatePointer(e,n,i,!0),o._doPhase({interaction:o,event:n,phase:"resume"}),(0,R.copyCoords)(o.coords.prev,o.coords.cur),this.stop()},e.end=function(){this.interaction.move(),this.interaction.end(),this.stop()},e.stop=function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,_t.default.cancel(this.timeout)},t}();function Re(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}function Ze(t,e,n,i){var o=1-t;return o*o*e+2*o*t*n+t*t*i}function Ne(t,e,n,i){return-n*(t/=i)*(t-2)+e}De.InertiaState=je;var Fe={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(Le.default),t.usePlugin(ve.default),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new je(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,i=e.inertia;if(i.active)for(var o=n;r.default.element(o);){if(o===e.element){i.resume(t);break}o=x.parentNode(o)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":ve.addEventModifiers,"interactions:action-inertiastart":ve.addEventModifiers,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};De.default=Fe;var We={};function qe(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t.immediatePropagationStopped)break;i(t)}}Object.defineProperty(We,"__esModule",{value:!0}),We.Eventable=void 0;var He=function(){function t(t){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=(0,k.default)({},t||{})}var e=t.prototype;return e.fire=function(t){var e,n=this.global;(e=this.types[t.type])&&qe(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&qe(t,e)},e.on=function(t,e){var n=(0,z.default)(t,e);for(t in n)this.types[t]=V.merge(this.types[t]||[],n[t])},e.off=function(t,e){var n=(0,z.default)(t,e);for(t in n){var i=this.types[t];if(i&&i.length)for(var o=0;o<n[t].length;o++){var r=n[t][o],s=i.indexOf(r);-1!==s&&i.splice(s,1)}}},e.getRect=function(t){return null},t}();We.Eventable=He;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=function(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(0===t.indexOf(n)&&t.substr(n.length)in e.phases)return!0;return!1};var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.Interactable=void 0;var Ve=function(){var t;function n(t,n,i,o){this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new We.Eventable,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=n.actions,this.target=t,this._context=n.context||i,this._win=(0,e.getWindow)((0,x.trySelector)(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}(t=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,t);var i=n.prototype;return i.setOnEvents=function(t,e){return r.default.func(e.onstart)&&this.on(t+"start",e.onstart),r.default.func(e.onmove)&&this.on(t+"move",e.onmove),r.default.func(e.onend)&&this.on(t+"end",e.onend),r.default.func(e.oninertiastart)&&this.on(t+"inertiastart",e.oninertiastart),this},i.updatePerActionListeners=function(t,e,n){(r.default.array(e)||r.default.object(e))&&this.off(t,e),(r.default.array(n)||r.default.object(n))&&this.on(t,n)},i.setPerAction=function(t,e){var n=this._defaults;for(var i in e){var o=i,s=this.options[t],a=e[o];"listeners"===o&&this.updatePerActionListeners(t,s.listeners,a),r.default.array(a)?s[o]=V.from(a):r.default.plainObject(a)?(s[o]=(0,k.default)(s[o]||{},(0,he.default)(a)),r.default.object(n.perAction[o])&&"enabled"in n.perAction[o]&&(s[o].enabled=!1!==a.enabled)):r.default.bool(a)&&r.default.object(n.perAction[o])?s[o].enabled=a:s[o]=a}},i.getRect=function(t){return t=t||(r.default.element(this.target)?this.target:null),r.default.string(this.target)&&(t=t||this._context.querySelector(this.target)),(0,x.getElementRect)(t)},i.rectChecker=function(t){var e=this;return r.default.func(t)?(this._rectChecker=t,this.getRect=function(t){var n=(0,k.default)({},e._rectChecker(t));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===t?(delete this.getRect,delete this._rectChecker,this):this.getRect},i._backCompatOption=function(t,e){if((0,x.trySelector)(e)||r.default.object(e)){for(var n in this.options[t]=e,this._actions.map)this.options[n][t]=e;return this}return this.options[t]},i.origin=function(t){return this._backCompatOption("origin",t)},i.deltaSource=function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},i.context=function(){return this._context},i.inContext=function(t){return this._context===t.ownerDocument||(0,x.nodeContains)(this._context,t)},i.testIgnoreAllow=function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)},i.testAllow=function(t,e,n){return!t||!!r.default.element(n)&&(r.default.string(t)?(0,x.matchesUpTo)(n,t,e):!!r.default.element(t)&&(0,x.nodeContains)(t,n))},i.testIgnore=function(t,e,n){return!(!t||!r.default.element(n))&&(r.default.string(t)?(0,x.matchesUpTo)(n,t,e):!!r.default.element(t)&&(0,x.nodeContains)(t,n))},i.fire=function(t){return this.events.fire(t),this},i._onOff=function(t,e,n,i){r.default.object(e)&&!r.default.array(e)&&(i=n,n=null);var o="on"===t?"add":"remove",s=(0,z.default)(e,n);for(var a in s){"wheel"===a&&(a=y.default.wheelEvent);for(var l=0;l<s[a].length;l++){var u=s[a][l];(0,Ye.default)(a,this._actions)?this.events[t](a,u):r.default.string(this.target)?this._scopeEvents[o+"Delegate"](this.target,this._context,a,u,i):this._scopeEvents[o](this.target,a,u,i)}}return this},i.on=function(t,e,n){return this._onOff("on",t,e,n)},i.off=function(t,e,n){return this._onOff("off",t,e,n)},i.set=function(t){var e=this._defaults;for(var n in r.default.object(t)||(t={}),this.options=(0,he.default)(e.base),this._actions.methodDict){var i=n,o=this._actions.methodDict[i];this.options[i]={},this.setPerAction(i,(0,k.default)((0,k.default)({},e.perAction),e.actions[i])),this[o](t[i])}for(var s in t)r.default.func(this[s])&&this[s](t[s]);return this},i.unset=function(){if(r.default.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var e=this._scopeEvents.delegatedEvents[t],n=e.length-1;n>=0;n--){var i=e[n],o=i.selector,s=i.context,a=i.listeners;o===this.target&&s===this._context&&e.splice(n,1);for(var l=a.length-1;l>=0;l--)this._scopeEvents.removeDelegate(this.target,this._context,t,a[l][0],a[l][1])}else this._scopeEvents.remove(this.target,"all")},n}();Xe.Interactable=Ve;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.InteractableSet=void 0;var Ge=function(){function t(t){var e=this;this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(t){var n=t.interactable,i=n.target,o=n._context,s=r.default.string(i)?e.selectorMap[i]:i[e.scope.id],a=V.findIndex(s,(function(t){return t.context===o}));s[a]&&(s[a].context=null,s[a].interactable=null),s.splice(a,1)}})}var e=t.prototype;return e.new=function(t,e){e=(0,k.default)(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document,this.scope.events),i={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),r.default.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(i)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:t,options:e,interactable:n,win:this.scope._win}),n},e.get=function(t,e){var n=e&&e.context||this.scope.document,i=r.default.string(t),o=i?this.selectorMap[t]:t[this.scope.id];if(!o)return null;var s=V.find(o,(function(e){return e.context===n&&(i||e.interactable.inContext(t))}));return s&&s.interactable},e.forEachMatch=function(t,e){for(var n=0;n<this.list.length;n++){var i=this.list[n],o=void 0;if((r.default.string(i.target)?r.default.element(t)&&x.matchesSelector(t,i.target):t===i.target)&&i.inContext(t)&&(o=e(i)),void 0!==o)return o}},t}();Ue.InteractableSet=Ge;var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.default=void 0;var Ke=function(){function t(t){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,(0,B.default)(this,t)}var e=t.prototype;return e.preventOriginalDefault=function(){this.originalEvent.preventDefault()},e.stopPropagation=function(){this.originalEvent.stopPropagation()},e.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation()},t}();function Qe(t){if(!r.default.object(t))return{capture:!!t,passive:!1};var e=(0,k.default)({},t);return e.capture=!!t.capture,e.passive=!!t.passive,e}var Je={id:"events",install:function(t){var e=[],n={},i=[],o={add:s,remove:a,addDelegate:function(t,e,o,r,a){var c=Qe(a);if(!n[o]){n[o]=[];for(var h=0;h<i.length;h++){var d=i[h];s(d,o,l),s(d,o,u,!0)}}var f=n[o],p=V.find(f,(function(n){return n.selector===t&&n.context===e}));p||(p={selector:t,context:e,listeners:[]},f.push(p)),p.listeners.push([r,c])},removeDelegate:function(t,e,i,o,r){var s,c=Qe(r),h=n[i],d=!1;if(h)for(s=h.length-1;s>=0;s--){var f=h[s];if(f.selector===t&&f.context===e){for(var p=f.listeners,m=p.length-1;m>=0;m--){var v=p[m],g=v[0],y=v[1],_=y.capture,b=y.passive;if(g===o&&_===c.capture&&b===c.passive){p.splice(m,1),p.length||(h.splice(s,1),a(e,i,l),a(e,i,u,!0)),d=!0;break}}if(d)break}}},delegateListener:l,delegateUseCapture:u,delegatedEvents:n,documents:i,targets:e,supportsOptions:!1,supportsPassive:!1};function s(t,n,i,r){var s=Qe(r),a=V.find(e,(function(e){return e.eventTarget===t}));a||(a={eventTarget:t,events:{}},e.push(a)),a.events[n]||(a.events[n]=[]),t.addEventListener&&!V.contains(a.events[n],i)&&(t.addEventListener(n,i,o.supportsOptions?s:s.capture),a.events[n].push(i))}function a(t,n,i,r){var s=Qe(r),l=V.findIndex(e,(function(e){return e.eventTarget===t})),u=e[l];if(u&&u.events)if("all"!==n){var c=!1,h=u.events[n];if(h){if("all"===i){for(var d=h.length-1;d>=0;d--)a(t,n,h[d],s);return}for(var f=0;f<h.length;f++)if(h[f]===i){t.removeEventListener(n,i,o.supportsOptions?s:s.capture),h.splice(f,1),0===h.length&&(delete u.events[n],c=!0);break}}c&&!Object.keys(u.events).length&&e.splice(l,1)}else for(n in u.events)u.events.hasOwnProperty(n)&&a(t,n,"all")}function l(t,e){for(var i=Qe(e),o=new Ke(t),s=n[t.type],a=R.getEventTargets(t)[0],l=a;r.default.element(l);){for(var u=0;u<s.length;u++){var c=s[u],h=c.selector,d=c.context;if(x.matchesSelector(l,h)&&x.nodeContains(d,a)&&x.nodeContains(d,l)){var f=c.listeners;o.currentTarget=l;for(var p=0;p<f.length;p++){var m=f[p],v=m[0],g=m[1],y=g.capture,_=g.passive;y===i.capture&&_===i.passive&&v(o)}}}l=x.parentNode(l)}}function u(t){return l(t,!0)}return t.document.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),t.events=o,o}};$e.default=Je;var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.createInteractStatic=function(t){var e=function e(n,i){var o=t.interactables.get(n,i);return o||((o=t.interactables.new(n,i)).events.global=e.globalEvents),o};return e.getPointerAverage=R.pointerAverage,e.getTouchBBox=R.touchBBox,e.getTouchDistance=R.touchDistance,e.getTouchAngle=R.touchAngle,e.getElementRect=x.getElementRect,e.getElementClientRect=x.getElementClientRect,e.matchesSelector=x.matchesSelector,e.closest=x.closest,e.globalEvents={},e.version="1.10.2",e.scope=t,e.use=function(t,e){return this.scope.usePlugin(t,e),this},e.isSet=function(t,e){return!!this.scope.interactables.get(t,e&&e.context)},e.on=(0,Lt.warnOnce)((function(t,e,n){if(r.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),r.default.array(t)){for(var i=0;i<t.length;i++){var o=t[i];this.on(o,e,n)}return this}if(r.default.object(t)){for(var s in t)this.on(s,t[s],e);return this}return(0,Ye.default)(t,this.scope.actions)?this.globalEvents[t]?this.globalEvents[t].push(e):this.globalEvents[t]=[e]:this.scope.events.add(this.scope.document,t,e,{options:n}),this}),"The interact.on() method is being deprecated"),e.off=(0,Lt.warnOnce)((function(t,e,n){if(r.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),r.default.array(t)){for(var i=0;i<t.length;i++){var o=t[i];this.off(o,e,n)}return this}if(r.default.object(t)){for(var s in t)this.off(s,t[s],e);return this}var a;return(0,Ye.default)(t,this.scope.actions)?t in this.globalEvents&&-1!==(a=this.globalEvents[t].indexOf(e))&&this.globalEvents[t].splice(a,1):this.scope.events.remove(this.scope.document,t,e,n),this}),"The interact.off() method is being deprecated"),e.debug=function(){return this.scope},e.supportsTouch=function(){return y.default.supportsTouch},e.supportsPointerEvent=function(){return y.default.supportsPointerEvent},e.stop=function(){for(var t=0;t<this.scope.interactions.list.length;t++)this.scope.interactions.list[t].stop();return this},e.pointerMoveTolerance=function(t){return r.default.number(t)?(this.scope.interactions.pointerMoveTolerance=t,this):this.scope.interactions.pointerMoveTolerance},e.addDocument=function(t,e){this.scope.addDocument(t,e)},e.removeDocument=function(t){this.scope.removeDocument(t)},e};var en={};Object.defineProperty(en,"__esModule",{value:!0}),en.default=void 0;var nn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0;e<nn.methodOrder.length;e++){var n;n=nn.methodOrder[e];var i=nn[n](t);if(i)return i}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,i=t.eventTarget,o=t.scope;if(!/down|start/i.test(n))return null;for(var r=0;r<o.interactions.list.length;r++){var s=o.interactions.list[r],a=i;if(s.simulation&&s.simulation.allowResume&&s.pointerType===e)for(;a;){if(a===s.element)return s;a=x.parentNode(a)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,i=t.pointerType,o=t.eventType,r=t.scope;if("mouse"!==i&&"pen"!==i)return null;for(var s=0;s<r.interactions.list.length;s++){var a=r.interactions.list[s];if(a.pointerType===i){if(a.simulation&&!on(a,n))continue;if(a.interacting())return a;e||(e=a)}}if(e)return e;for(var l=0;l<r.interactions.list.length;l++){var u=r.interactions.list[l];if(!(u.pointerType!==i||/down/i.test(o)&&u.simulation))return u}return null},hasPointer:function(t){for(var e=t.pointerId,n=t.scope,i=0;i<n.interactions.list.length;i++){var o=n.interactions.list[i];if(on(o,e))return o}return null},idle:function(t){for(var e=t.pointerType,n=t.scope,i=0;i<n.interactions.list.length;i++){var o=n.interactions.list[i];if(1===o.pointers.length){var r=o.interactable;if(r&&(!r.options.gesture||!r.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&e===o.pointerType)return o}return null}};function on(t,e){return t.pointers.some((function(t){return t.id===e}))}var rn=nn;en.default=rn;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.default=void 0;var an=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function ln(t,e){return function(n){var i=e.interactions.list,o=R.getPointerType(n),r=R.getEventTargets(n),s=r[0],a=r[1],l=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var u=0;u<n.changedTouches.length;u++){var c=n.changedTouches[u],h={pointer:c,pointerId:R.getPointerId(c),pointerType:o,eventType:n.type,eventTarget:s,curEventTarget:a,scope:e},d=un(h);l.push([h.pointer,h.eventTarget,h.curEventTarget,d])}}else{var f=!1;if(!y.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var p=0;p<i.length&&!f;p++)f="mouse"!==i[p].pointerType&&i[p].pointerIsDown;f=f||e.now()-e.prevTouchTime<500||0===n.timeStamp}if(!f){var m={pointer:n,pointerId:R.getPointerId(n),pointerType:o,eventType:n.type,curEventTarget:a,eventTarget:s,scope:e},v=un(m);l.push([m.pointer,m.eventTarget,m.curEventTarget,v])}}for(var g=0;g<l.length;g++){var _=l[g],b=_[0],x=_[1],w=_[2];_[3][t](b,n,x,w)}}}function un(t){var e=t.pointerType,n=t.scope,i={interaction:en.default.search(t),searchDetails:t};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:e})}function cn(t,e){var n=t.doc,i=t.scope,o=t.options,r=i.interactions.docEvents,s=i.events,a=s[e];for(var l in i.browser.isIOS&&!o.events&&(o.events={passive:!1}),s.delegatedEvents)a(n,l,s.delegateListener),a(n,l,s.delegateUseCapture,!0);for(var u=o&&o.events,c=0;c<r.length;c++){var h=r[c];a(n,h.type,h.listener,u)}}var hn={id:"core/interactions",install:function(t){for(var e={},n=0;n<an.length;n++){var i=an[n];e[i]=ln(i,t)}var o,r=y.default.pEventTypes;function s(){for(var e=0;e<t.interactions.list.length;e++){var n=t.interactions.list[e];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var i=function(){var e=n.pointers[o];t.documents.some((function(t){var n=t.doc;return(0,x.nodeContains)(n,e.downTarget)}))||n.removePointer(e.pointer,e.event)},o=0;o<n.pointers.length;o++)i()}}(o=p.default.PointerEvent?[{type:r.down,listener:s},{type:r.down,listener:e.pointerDown},{type:r.move,listener:e.pointerMove},{type:r.up,listener:e.pointerUp},{type:r.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:s},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(e){for(var n=0;n<t.interactions.list.length;n++)t.interactions.list[n].documentBlur(e)}}),t.prevTouchTime=0,t.Interaction=function(e){var n,i,o;function r(){return e.apply(this,arguments)||this}return i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,r.prototype._now=function(){return t.now()},(o=[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(e){t.interactions.pointerMoveTolerance=e}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(r.prototype,o),r}(Se.default),t.interactions={list:[],new:function(e){e.scopeFire=function(e,n){return t.fire(e,n)};var n=new t.Interaction(e);return t.interactions.list.push(n),n},listeners:e,docEvents:o,pointerMoveTolerance:1},t.usePlugin(Qt.default)},listeners:{"scope:add-document":function(t){return cn(t,"add")},"scope:remove-document":function(t){return cn(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,i=e.interactions.list.length-1;i>=0;i--){var o=e.interactions.list[i];o.interactable===n&&(o.stop(),e.fire("interactions:destroy",{interaction:o}),o.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(i,1))}}},onDocSignal:cn,doOnInteractions:ln,methodNames:an};sn.default=hn;var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.initScope=pn,dn.Scope=void 0;var fn=function(){function t(){var t=this;this.id="__interact_scope_"+Math.floor(100*Math.random()),this.isInitialized=!1,this.listenerMaps=[],this.browser=y.default,this.defaults=(0,he.default)(_e.defaults),this.Eventable=We.Eventable,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(0,tn.createInteractStatic)(this),this.InteractEvent=be.InteractEvent,this.Interactable=void 0,this.interactables=new Ue.InteractableSet(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(e){return t.removeDocument(e.target)};var e=this;this.Interactable=function(t){var n,i;function o(){return t.apply(this,arguments)||this}i=t,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var r,s=o.prototype;return s.set=function(n){return t.prototype.set.call(this,n),e.fire("interactable:set",{options:n,interactable:this}),this},s.unset=function(){t.prototype.unset.call(this),e.interactables.list.splice(e.interactables.list.indexOf(this),1),e.fire("interactable:unset",{interactable:this})},(r=[{key:"_defaults",get:function(){return e.defaults}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(o.prototype,r),o}(Xe.Interactable)}var n=t.prototype;return n.addListeners=function(t,e){this.listenerMaps.push({id:e,map:t})},n.fire=function(t,e){for(var n=0;n<this.listenerMaps.length;n++){var i=this.listenerMaps[n].map[t];if(i&&!1===i(e,this,t))return!1}},n.init=function(t){return this.isInitialized?this:pn(this,t)},n.pluginIsInstalled=function(t){return this._plugins.map[t.id]||-1!==this._plugins.list.indexOf(t)},n.usePlugin=function(t,e){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,i=this.listenerMaps.length,o=t.before.reduce((function(t,e){return t[e]=!0,t[mn(e)]=!0,t}),{});n<i;n++){var r=this.listenerMaps[n].id;if(o[r]||o[mn(r)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this},n.addDocument=function(t,n){if(-1!==this.getDocIndex(t))return!1;var i=e.getWindow(t);n=n?(0,k.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})},n.removeDocument=function(t){var n=this.getDocIndex(t),i=e.getWindow(t),o=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:o})},n.getDocIndex=function(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1},n.getDocOptions=function(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options},n.now=function(){return(this.window.Date||Date).now()},t}();function pn(t,n){return t.isInitialized=!0,e.init(n),p.default.init(n),y.default.init(n),_t.default.init(n),t.window=n,t.document=n.document,t.usePlugin(sn.default),t.usePlugin($e.default),t}function mn(t){return t&&t.replace(/\/.*$/,"")}dn.Scope=fn;var vn={};Object.defineProperty(vn,"__esModule",{value:!0}),vn.init=vn.default=void 0;var gn=new dn.Scope,yn=gn.interactStatic;vn.default=yn;var _n=function(t){return gn.init(t)};vn.init=_n,"object"==typeof window&&window&&_n(window);var bn={};Object.defineProperty(bn,"__esModule",{value:!0}),bn.default=void 0,bn.default=function(){};var xn={};Object.defineProperty(xn,"__esModule",{value:!0}),xn.default=void 0,xn.default=function(){};var wn={};Object.defineProperty(wn,"__esModule",{value:!0}),wn.default=void 0,wn.default=function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(e){var n=e[0],i=e[1];return n in t||i in t})),n=function(n,i){for(var o=t.range,r=t.limits,s=void 0===r?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:r,a=t.offset,l=void 0===a?{x:0,y:0}:a,u={range:o,grid:t,x:null,y:null},c=0;c<e.length;c++){var h=e[c],d=h[0],f=h[1],p=Math.round((n-l.x)/t[d]),m=Math.round((i-l.y)/t[f]);u[d]=Math.max(s.left,Math.min(s.right,p*t[d]+l.x)),u[f]=Math.max(s.top,Math.min(s.bottom,m*t[f]+l.y))}return u};return n.grid=t,n.coordFields=e,n};var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0}),Object.defineProperty(Tn,"edgeTarget",{enumerable:!0,get:function(){return bn.default}}),Object.defineProperty(Tn,"elements",{enumerable:!0,get:function(){return xn.default}}),Object.defineProperty(Tn,"grid",{enumerable:!0,get:function(){return wn.default}});var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.default=void 0;var Sn={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=(0,k.default)(e.snappers||{},Tn),e.createSnapGrid=e.snappers.grid}};En.default=Sn;var Pn={};function Mn(){return(Mn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.aspectRatio=Pn.default=void 0;var kn={start:function(t){var e=t.state,n=t.rect,i=t.edges,o=t.pageCoords,r=e.options.ratio,s=e.options,a=s.equalDelta,l=s.modifiers;"preserve"===r&&(r=n.width/n.height),e.startCoords=(0,k.default)({},o),e.startRect=(0,k.default)({},n),e.ratio=r,e.equalDelta=a;var u=e.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(e.xIsPrimaryAxis=!(!i.left&&!i.right),e.equalDelta)e.edgeSign=(u.left?1:-1)*(u.top?1:-1);else{var c=e.xIsPrimaryAxis?u.top:u.left;e.edgeSign=c?-1:1}if((0,k.default)(t.edges,u),l&&l.length){var h=new de.default(t.interaction);h.copyFrom(t.interaction.modification),h.prepareStates(l),e.subModification=h,h.startAll(Mn({},t))}},set:function(t){var e=t.state,n=t.rect,i=t.coords,o=(0,k.default)({},i),r=e.equalDelta?Ln:In;if(r(e,e.xIsPrimaryAxis,i,n),!e.subModification)return null;var s=(0,k.default)({},n);(0,L.addEdges)(e.linkedEdges,s,{x:i.x-o.x,y:i.y-o.y});var a=e.subModification.setAll(Mn({},t,{rect:s,edges:e.linkedEdges,pageCoords:i,prevCoords:i,prevRect:s})),l=a.delta;return a.changed&&(r(e,Math.abs(l.x)>Math.abs(l.y),a.coords,a.rect),(0,k.default)(i,a.coords)),a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ln(t,e,n){var i=t.startCoords,o=t.edgeSign;e?n.y=i.y+(n.x-i.x)*o:n.x=i.x+(n.y-i.y)*o}function In(t,e,n,i){var o=t.startRect,r=t.startCoords,s=t.ratio,a=t.edgeSign;if(e){var l=i.width/s;n.y=r.y+(l-o.height)*a}else{var u=i.height*s;n.x=r.x+(u-o.width)*a}}Pn.aspectRatio=kn;var Cn=(0,ve.makeModifier)(kn,"aspectRatio");Pn.default=Cn;var zn={};Object.defineProperty(zn,"__esModule",{value:!0}),zn.default=void 0;var On=function(){};On._defaults={};var An=On;zn.default=An;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Object.defineProperty(Bn,"default",{enumerable:!0,get:function(){return zn.default}});var Dn={};function jn(t,e,n){return r.default.func(t)?L.resolveRectLike(t,e.interactable,e.element,[n.x,n.y,e]):L.resolveRectLike(t,e.interactable,e.element)}Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.getRestrictionRect=jn,Dn.restrict=Dn.default=void 0;var Rn={start:function(t){var e=t.rect,n=t.startOffset,i=t.state,o=t.interaction,r=t.pageCoords,s=i.options,a=s.elementRect,l=(0,k.default)({left:0,top:0,right:0,bottom:0},s.offset||{});if(e&&a){var u=jn(s.restriction,o,r);if(u){var c=u.right-u.left-e.width,h=u.bottom-u.top-e.height;c<0&&(l.left+=c,l.right+=c),h<0&&(l.top+=h,l.bottom+=h)}l.left+=n.left-e.width*a.left,l.top+=n.top-e.height*a.top,l.right+=n.right-e.width*(1-a.right),l.bottom+=n.bottom-e.height*(1-a.bottom)}i.offset=l},set:function(t){var e=t.coords,n=t.interaction,i=t.state,o=i.options,r=i.offset,s=jn(o.restriction,n,e);if(s){var a=L.xywhToTlbr(s);e.x=Math.max(Math.min(a.right-r.right,e.x),a.left+r.left),e.y=Math.max(Math.min(a.bottom-r.bottom,e.y),a.top+r.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Dn.restrict=Rn;var Zn=(0,ve.makeModifier)(Rn,"restrict");Dn.default=Zn;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.restrictEdges=Nn.default=void 0;var Fn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Wn={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function qn(t,e){for(var n=["top","left","bottom","right"],i=0;i<n.length;i++){var o=n[i];o in t||(t[o]=e[o])}return t}var Hn={noInner:Fn,noOuter:Wn,start:function(t){var e,n=t.interaction,i=t.startOffset,o=t.state,r=o.options;if(r){var s=(0,Dn.getRestrictionRect)(r.offset,n,n.coords.start.page);e=L.rectToXY(s)}e=e||{x:0,y:0},o.offset={top:e.y+i.top,left:e.x+i.left,bottom:e.y-i.bottom,right:e.x-i.right}},set:function(t){var e=t.coords,n=t.edges,i=t.interaction,o=t.state,r=o.offset,s=o.options;if(n){var a=(0,k.default)({},e),l=(0,Dn.getRestrictionRect)(s.inner,i,a)||{},u=(0,Dn.getRestrictionRect)(s.outer,i,a)||{};qn(l,Fn),qn(u,Wn),n.top?e.y=Math.min(Math.max(u.top+r.top,a.y),l.top+r.top):n.bottom&&(e.y=Math.max(Math.min(u.bottom+r.bottom,a.y),l.bottom+r.bottom)),n.left?e.x=Math.min(Math.max(u.left+r.left,a.x),l.left+r.left):n.right&&(e.x=Math.max(Math.min(u.right+r.right,a.x),l.right+r.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Nn.restrictEdges=Hn;var Yn=(0,ve.makeModifier)(Hn,"restrictEdges");Nn.default=Yn;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.restrictRect=Xn.default=void 0;var Vn=(0,k.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Dn.restrict.defaults),Un={start:Dn.restrict.start,set:Dn.restrict.set,defaults:Vn};Xn.restrictRect=Un;var Gn=(0,ve.makeModifier)(Un,"restrictRect");Xn.default=Gn;var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.restrictSize=$n.default=void 0;var Kn={width:-1/0,height:-1/0},Qn={width:1/0,height:1/0},Jn={start:function(t){return Nn.restrictEdges.start(t)},set:function(t){var e=t.interaction,n=t.state,i=t.rect,o=t.edges,r=n.options;if(o){var s=L.tlbrToXywh((0,Dn.getRestrictionRect)(r.min,e,t.coords))||Kn,a=L.tlbrToXywh((0,Dn.getRestrictionRect)(r.max,e,t.coords))||Qn;n.options={endOnly:r.endOnly,inner:(0,k.default)({},Nn.restrictEdges.noInner),outer:(0,k.default)({},Nn.restrictEdges.noOuter)},o.top?(n.options.inner.top=i.bottom-s.height,n.options.outer.top=i.bottom-a.height):o.bottom&&(n.options.inner.bottom=i.top+s.height,n.options.outer.bottom=i.top+a.height),o.left?(n.options.inner.left=i.right-s.width,n.options.outer.left=i.right-a.width):o.right&&(n.options.inner.right=i.left+s.width,n.options.outer.right=i.left+a.width),Nn.restrictEdges.set(t),n.options=r}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};$n.restrictSize=Jn;var ti=(0,ve.makeModifier)(Jn,"restrictSize");$n.default=ti;var ei={};Object.defineProperty(ei,"__esModule",{value:!0}),Object.defineProperty(ei,"default",{enumerable:!0,get:function(){return zn.default}});var ni={};Object.defineProperty(ni,"__esModule",{value:!0}),ni.snap=ni.default=void 0;var ii={start:function(t){var e,n=t.interaction,i=t.interactable,o=t.element,r=t.rect,s=t.state,a=t.startOffset,l=s.options,u=l.offsetWithOrigin?function(t){var e=t.interaction.element;return(0,L.rectToXY)((0,L.resolveRectLike)(t.state.options.origin,null,null,[e]))||(0,C.default)(t.interactable,e,t.interaction.prepared.name)}(t):{x:0,y:0};if("startCoords"===l.offset)e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var c=(0,L.resolveRectLike)(l.offset,i,o,[n]);(e=(0,L.rectToXY)(c)||{x:0,y:0}).x+=u.x,e.y+=u.y}var h=l.relativePoints;s.offsets=r&&h&&h.length?h.map((function(t,n){return{index:n,relativePoint:t,x:a.left-r.width*t.x+e.x,y:a.top-r.height*t.y+e.y}})):[(0,k.default)({index:0,relativePoint:null},e)]},set:function(t){var e=t.interaction,n=t.coords,i=t.state,o=i.options,s=i.offsets,a=(0,C.default)(e.interactable,e.element,e.prepared.name),l=(0,k.default)({},n),u=[];o.offsetWithOrigin||(l.x-=a.x,l.y-=a.y);for(var c=0;c<s.length;c++)for(var h=s[c],d=l.x-h.x,f=l.y-h.y,p=0,m=o.targets.length;p<m;p++){var v,g=o.targets[p];(v=r.default.func(g)?g(d,f,e._proxy,h,p):g)&&u.push({x:(r.default.number(v.x)?v.x:d)+h.x,y:(r.default.number(v.y)?v.y:f)+h.y,range:r.default.number(v.range)?v.range:o.range,source:g,index:p,offset:h})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},_=0;_<u.length;_++){var b=u[_],x=b.range,w=b.x-l.x,T=b.y-l.y,E=(0,A.default)(w,T),S=E<=x;x===1/0&&y.inRange&&y.range!==1/0&&(S=!1),y.target&&!(S?y.inRange&&x!==1/0?E/x<y.distance/y.range:x===1/0&&y.range!==1/0||E<y.distance:!y.inRange&&E<y.distance)||(y.target=b,y.distance=E,y.range=x,y.inRange=S,y.delta.x=w,y.delta.y=T)}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),i.closest=y,y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};ni.snap=ii;var oi=(0,ve.makeModifier)(ii,"snap");ni.default=oi;var ri={};Object.defineProperty(ri,"__esModule",{value:!0}),ri.snapSize=ri.default=void 0;var si={start:function(t){var e=t.state,n=t.edges,i=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],ni.snap.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,i=t.coords,o=n.options,s=n.offsets,a={x:i.x-s[0].x,y:i.y-s[0].y};n.options=(0,k.default)({},o),n.options.targets=[];for(var l=0;l<(o.targets||[]).length;l++){var u=(o.targets||[])[l],c=void 0;if(c=r.default.func(u)?u(a.x,a.y,e):u){for(var h=0;h<n.targetFields.length;h++){var d=n.targetFields[h],f=d[0],p=d[1];if(f in c||p in c){c.x=c[f],c.y=c[p];break}}n.options.targets.push(c)}}var m=ni.snap.set(t);return n.options=o,m},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};ri.snapSize=si;var ai=(0,ve.makeModifier)(si,"snapSize");ri.default=ai;var li={};Object.defineProperty(li,"__esModule",{value:!0}),li.snapEdges=li.default=void 0;var ui={start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],ri.snapSize.start(t)):null},set:ri.snapSize.set,defaults:(0,k.default)((0,he.default)(ri.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};li.snapEdges=ui;var ci=(0,ve.makeModifier)(ui,"snapEdges");li.default=ci;var hi={};Object.defineProperty(hi,"__esModule",{value:!0}),Object.defineProperty(hi,"default",{enumerable:!0,get:function(){return zn.default}});var di={};Object.defineProperty(di,"__esModule",{value:!0}),Object.defineProperty(di,"default",{enumerable:!0,get:function(){return zn.default}});var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.default=void 0;var pi={aspectRatio:Pn.default,restrictEdges:Nn.default,restrict:Dn.default,restrictRect:Xn.default,restrictSize:$n.default,snapEdges:li.default,snap:ni.default,snapSize:ri.default,spring:hi.default,avoid:Bn.default,transform:di.default,rubberband:ei.default};fi.default=pi;var mi={};Object.defineProperty(mi,"__esModule",{value:!0}),mi.default=void 0;var vi={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(ve.default),t.usePlugin(En.default),e.modifiers=fi.default,fi.default){var i=fi.default[n],o=i._defaults,r=i._methods;o._methods=r,t.defaults.perAction[n]=o}}};mi.default=vi;var gi={};Object.defineProperty(gi,"__esModule",{value:!0}),gi.default=void 0,gi.default={};var yi={};function _i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Object.defineProperty(yi,"__esModule",{value:!0}),yi.PointerEvent=yi.default=void 0;var bi=function(t){var e,n;function i(e,n,i,o,r,s){var a;if((a=t.call(this,r)||this).type=void 0,a.originalEvent=void 0,a.pointerId=void 0,a.pointerType=void 0,a.double=void 0,a.pageX=void 0,a.pageY=void 0,a.clientX=void 0,a.clientY=void 0,a.dt=void 0,a.eventable=void 0,R.pointerExtend(_i(a),i),i!==n&&R.pointerExtend(_i(a),n),a.timeStamp=s,a.originalEvent=i,a.type=e,a.pointerId=R.getPointerId(n),a.pointerType=R.getPointerType(n),a.target=o,a.currentTarget=null,"tap"===e){var l=r.getPointerIndex(n);a.dt=a.timeStamp-r.pointers[l].downTime;var u=a.timeStamp-r.tapTime;a.double=!!(r.prevTap&&"doubletap"!==r.prevTap.type&&r.prevTap.target===a.target&&u<500)}else"doubletap"===e&&(a.dt=n.timeStamp-r.tapTime);return a}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o._subtractOrigin=function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this},o._addOrigin=function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this},o.preventDefault=function(){this.originalEvent.preventDefault()},i}(Y.BaseEvent);yi.PointerEvent=yi.default=bi;var xi={};Object.defineProperty(xi,"__esModule",{value:!0}),xi.default=void 0;var wi={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=wi,t.defaults.actions.pointerEvents=wi.defaults,(0,k.default)(t.actions.phaselessTypes,wi.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Si(t),Ti({interaction:n,pointer:i,event:o,eventTarget:r,type:"move"},e))},"interactions:down":function(t,e){!function(t,e){for(var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget,s=t.pointerIndex,a=n.pointers[s].hold,l=x.getPath(r),u={interaction:n,pointer:i,event:o,eventTarget:r,type:"hold",targets:[],path:l,node:null},c=0;c<l.length;c++){var h=l[c];u.node=h,e.fire("pointerEvents:collect-targets",u)}if(u.targets.length){for(var d=1/0,f=0;f<u.targets.length;f++){var p=u.targets[f].eventable.options.holdDuration;p<d&&(d=p)}a.duration=d,a.timeout=setTimeout((function(){Ti({interaction:n,eventTarget:r,pointer:i,event:o,type:"hold"},e)}),d)}}(t,e),Ti(t,e)},"interactions:up":function(t,e){Si(t),Ti(t,e),function(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget;n.pointerWasMoved||Ti({interaction:n,eventTarget:r,pointer:i,event:o,type:"tap"},e)}(t,e)},"interactions:cancel":function(t,e){Si(t),Ti(t,e)}},PointerEvent:yi.PointerEvent,fire:Ti,collectEventTargets:Ei,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Ti(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget,s=t.type,a=t.targets,l=void 0===a?Ei(t,e):a,u=new yi.PointerEvent(s,i,o,r,n,e.now());e.fire("pointerEvents:new",{pointerEvent:u});for(var c={interaction:n,pointer:i,event:o,eventTarget:r,targets:l,type:s,pointerEvent:u},h=0;h<l.length;h++){var d=l[h];for(var f in d.props||{})u[f]=d.props[f];var p=(0,C.default)(d.eventable,d.node);if(u._subtractOrigin(p),u.eventable=d.eventable,u.currentTarget=d.node,d.eventable.fire(u),u._addOrigin(p),u.immediatePropagationStopped||u.propagationStopped&&h+1<l.length&&l[h+1].node!==u.currentTarget)break}if(e.fire("pointerEvents:fired",c),"tap"===s){var m=u.double?Ti({interaction:n,pointer:i,event:o,eventTarget:r,type:"doubletap"},e):u;n.prevTap=m,n.tapTime=m.timeStamp}return u}function Ei(t,e){var n=t.interaction,i=t.pointer,o=t.event,r=t.eventTarget,s=t.type,a=n.getPointerIndex(i),l=n.pointers[a];if("tap"===s&&(n.pointerWasMoved||!l||l.downTarget!==r))return[];for(var u=x.getPath(r),c={interaction:n,pointer:i,event:o,eventTarget:r,type:s,path:u,targets:[],node:null},h=0;h<u.length;h++){var d=u[h];c.node=d,e.fire("pointerEvents:collect-targets",c)}return"hold"===s&&(c.targets=c.targets.filter((function(t){return t.eventable.options.holdDuration===n.pointers[a].hold.duration}))),c.targets}function Si(t){var e=t.interaction,n=t.pointerIndex,i=e.pointers[n].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var Pi=wi;xi.default=Pi;var Mi={};function ki(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.default=void 0;var Li={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(xi.default);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(t,e){return t["pointerEvents:"+e]=ki,t}),{"pointerEvents:new":function(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,i=t.pointerEvent,o=t.eventTarget,r=t.targets;if("hold"===i.type&&r.length){var s=r[0].eventable.options.holdRepeatInterval;s<=0||(n.holdIntervalHandle=setTimeout((function(){e.pointerEvents.fire({interaction:n,eventTarget:o,type:"hold",pointer:i,event:i},e)}),s))}}})};Mi.default=Li;var Ii={};function Ci(t){return(0,k.default)(this.events.options,t),this}Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.default=void 0;var zi={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=Ci;var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){var i=n.call(this,t,e);return i===this&&(this.events.options[t]=e),i}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,i=t.node,o=t.type,r=t.eventTarget;e.interactables.forEachMatch(i,(function(t){var e=t.events,s=e.options;e.types[o]&&e.types[o].length&&t.testIgnoreAllow(s,i,r)&&n.push({node:i,eventable:e,props:{interactable:t}})}))},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":function(t,e){var n=t.interactable,i=t.options;(0,k.default)(n.events.options,e.pointerEvents.defaults),(0,k.default)(n.events.options,i.pointerEvents||{})}}};Ii.default=zi;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.default=void 0;var Ai={id:"pointer-events",install:function(t){t.usePlugin(xi),t.usePlugin(Mi.default),t.usePlugin(Ii.default)}};Oi.default=Ai;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.default=void 0,Bi.default={};var Di={};function ji(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(e){return function(t,e,n){for(var i=r.default.string(t.target)?V.from(t._context.querySelectorAll(t.target)):[t.target],o=n.window.Promise,s=o?[]:null,a=function(){var r=i[l],a=t.getRect(r);if(!a)return"break";var u=V.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===t&&n.element===r&&n.prepared.name===e.name})),c=void 0;if(u)u.move(),s&&(c=u._reflowPromise||new o((function(t){u._reflowResolve=t})));else{var h=(0,L.tlbrToXywh)(a),d={page:{x:h.x,y:h.y},client:{x:h.x,y:h.y},timeStamp:n.now()},f=R.coordsToEvent(d);c=function(t,e,n,i,o){var r=t.interactions.new({pointerType:"reflow"}),s={interaction:r,event:o,pointer:o,eventTarget:n,phase:"reflow"};r.interactable=e,r.element=n,r.prevEvent=o,r.updatePointer(o,o,n,!0),R.setZeroCoords(r.coords.delta),(0,Lt.copyAction)(r.prepared,i),r._doPhase(s);var a=t.window.Promise,l=a?new a((function(t){r._reflowResolve=t})):void 0;return r._reflowPromise=l,r.start(i,e,n),r._interacting?(r.move(s),r.end(o)):(r.stop(),r._reflowResolve()),r.removePointer(o,o),l}(n,t,r,e,f)}s&&s.push(c)},l=0;l<i.length&&"break"!==a();l++);return s&&o.all(s).then((function(){return t}))}(this,e,t)}}Object.defineProperty(Di,"__esModule",{value:!0}),Di.install=ji,Di.default=void 0;var Ri={id:"reflow",install:ji,listeners:{"interactions:stop":function(t,e){var n=t.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),V.remove(e.interactions.list,n))}}};Di.default=Ri;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.default=void 0,Zi.default={};var Ni={exports:{}};Object.defineProperty(Ni.exports,"__esModule",{value:!0}),Ni.exports.default=void 0,vn.default.use(gi.default),vn.default.use(Qt.default),vn.default.use(Le.default),vn.default.use(Kt.default),vn.default.use(yt.default),vn.default.use(Oi.default),vn.default.use(De.default),vn.default.use(mi.default),vn.default.use(Gt.default),vn.default.use(vt.default),vn.default.use(Et.default),vn.default.use(Di.default),vn.default.use(ce.default),vn.default.use(Zi.default),vn.default.use(Bi.default),vn.default.use(oe.default);var Fi=vn.default;if(Ni.exports.default=Fi,Ni)try{Ni.exports=vn.default}catch(t){}vn.default.default=vn.default,Ni=Ni.exports;var Wi={exports:{}};Object.defineProperty(Wi.exports,"__esModule",{value:!0}),Wi.exports.default=void 0;var qi=Ni.default;if(Wi.exports.default=qi,Wi)try{Wi.exports=Ni.default}catch(t){}return Ni.default.default=Ni.default,Wi.exports}()},function(t,e,n){
/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t){"use strict";function e(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function r(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function s(t,e,n){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function a(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function l(){return!1}function u(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return c(t).split(/\s+/)}function d(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?n(t.options):{}),e)t.options[i]=e[i];return t.options}function f(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var p=/\{ *([\w_-]+) *\}/g;function m(t,e){return t.replace(p,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-b));return b=e+n,window.setTimeout(t,n)}var w=window.requestAnimationFrame||_("RequestAnimationFrame")||x,T=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function E(t,e,n){if(!n||w!==x)return w.call(window,i(t,e));t.call(e)}function S(t){t&&T.call(window,t)}var P={extend:e,create:n,bind:i,lastId:o,stamp:r,throttle:s,wrapNum:a,falseFn:l,formatNum:u,trim:c,splitWords:h,setOptions:d,getParamString:f,template:m,isArray:v,indexOf:g,emptyImageUrl:y,requestFn:w,cancelFn:T,requestAnimFrame:E,cancelAnimFrame:S};function M(){}M.extend=function(t){var i=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=i.__super__=this.prototype,r=n(o);for(var s in r.constructor=i,i.prototype=r,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(i[s]=this[s]);return t.statics&&(e(i,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(n(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},i},M.include=function(t){return e(this.prototype,t),this},M.mergeOptions=function(t){return e(this.prototype.options,t),this},M.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var k={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=h(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var o=0,r=(t=h(t)).length;o<r;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,s=0,a=r.length;s<a;s++)if(r[s].fn===e&&r[s].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var s=i[o];if(s.ctx===n&&s.fn===e)return s.fn=l,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=l;delete this._events[t]}},fire:function(t,n,i){if(!this.listens(t,i))return this;var o=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var l=r[s];l.fn.call(l.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var r=i((function(){this.off(t,e,n).off(t,r,n)}),this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[r(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[r(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};k.addEventListener=k.on,k.removeEventListener=k.clearAllEventListeners=k.off,k.addOneTimeEventListener=k.once,k.fireEvent=k.fire,k.hasEventListeners=k.listens;var I=M.extend(k);function C(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var z=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function O(t,e,n){return t instanceof C?t:v(t)?new C(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new C(t.x,t.y):new C(t,e,n)}function A(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function B(t,e){return!t||t instanceof A?t:new A(t,e)}function D(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function j(t,e){return t instanceof D?t:new D(t,e)}function R(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function Z(t,e,n){return t instanceof R?t:v(t)&&"object"!=typeof t[0]?3===t.length?new R(t[0],t[1],t[2]):2===t.length?new R(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new R(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new R(t,e,n)}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new C(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new C(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(t){var e=(t=O(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=O(t)).x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},A.prototype={extend:function(t){return t=O(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new C((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new C(this.min.x,this.max.y)},getTopRight:function(){return new C(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof C?O(t):B(t))instanceof A?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=B(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return r&&s},overlaps:function(t){t=B(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,s=o.y>e.y&&i.y<n.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},D.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof R)e=t,n=t;else{if(!(t instanceof D))return t?this.extend(Z(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new R(e.lat,e.lng),this._northEast=new R(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new D(new R(e.lat-i,e.lng-o),new R(n.lat+i,n.lng+o))},getCenter:function(){return new R((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new R(this.getNorth(),this.getWest())},getSouthEast:function(){return new R(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof R||"lat"in t?Z(t):j(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof D?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return r&&s},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,s=o.lng>e.lng&&i.lng<n.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},R.prototype={equals:function(t,e){return!!t&&(t=Z(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return W.distance(this,Z(t))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new R(this.lat,this.lng,this.alt)}};var N,F={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new A(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?a(t.lng,this.wrapLng,!0):t.lng;return new R(this.wrapLat?a(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new D(new R(r.lat-i,r.lng-o),new R(s.lat-i,s.lng-o))}},W=e({},F,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=r*r+Math.cos(i)*Math.cos(o)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),q={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new C(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new R((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(N=6378137*Math.PI,new A([-N,-N],[N,N]))};function H(t,e,n,i){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function Y(t,e,n,i){return new H(t,e,n,i)}H.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new C((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var X=e({},W,{code:"EPSG:3857",projection:q,transformation:function(){var t=.5/(Math.PI*q.R);return Y(t,.5,-t,.5)}()}),V=e({},X,{code:"EPSG:900913"});function U(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t,e){var n,i,o,r,s,a,l="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(s=t[n]).length;i<r;i++)l+=(i?"L":"M")+(a=s[i]).x+" "+a.y;l+=e?Mt?"z":"x":""}return l||"M0 0"}var $=document.documentElement.style,K="ActiveXObject"in window,Q=K&&!document.addEventListener,J="msLaunchUri"in navigator&&!("documentMode"in document),tt=Lt("webkit"),et=Lt("android"),nt=Lt("android 2")||Lt("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=et&&Lt("Google")&&it<537&&!("AudioNode"in window),rt=!!window.opera,st=!J&&Lt("chrome"),at=Lt("gecko")&&!tt&&!rt&&!K,lt=!st&&Lt("safari"),ut=Lt("phantom"),ct="OTransition"in $,ht=0===navigator.platform.indexOf("Win"),dt=K&&"transition"in $,ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nt,pt="MozPerspective"in $,mt=!window.L_DISABLE_3D&&(dt||ft||pt)&&!ct&&!ut,vt="undefined"!=typeof orientation||Lt("mobile"),gt=vt&&tt,yt=vt&&ft,_t=!window.PointerEvent&&window.MSPointerEvent,bt=!(!window.PointerEvent&&!_t),xt=!window.L_NO_TOUCH&&(bt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),wt=vt&&rt,Tt=vt&&at,Et=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,St=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(t){}return t}(),Pt=!!document.createElement("canvas").getContext,Mt=!(!document.createElementNS||!U("svg").createSVGRect),kt=!Mt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Lt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var It={ie:K,ielt9:Q,edge:J,webkit:tt,android:et,android23:nt,androidStock:ot,opera:rt,chrome:st,gecko:at,safari:lt,phantom:ut,opera12:ct,win:ht,ie3d:dt,webkit3d:ft,gecko3d:pt,any3d:mt,mobile:vt,mobileWebkit:gt,mobileWebkit3d:yt,msPointer:_t,pointer:bt,touch:xt,mobileOpera:wt,mobileGecko:Tt,retina:Et,passiveEvents:St,canvas:Pt,svg:Mt,vml:kt},Ct=_t?"MSPointerDown":"pointerdown",zt=_t?"MSPointerMove":"pointermove",Ot=_t?"MSPointerUp":"pointerup",At=_t?"MSPointerCancel":"pointercancel",Bt={},Dt=!1;function jt(t,e,n,o){return"touchstart"===e?function(t,e,n){var o=i((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ae(t),Ft(t,e)}));t["_leaflet_touchstart"+n]=o,t.addEventListener(Ct,o,!1),Dt||(document.addEventListener(Ct,Rt,!0),document.addEventListener(zt,Zt,!0),document.addEventListener(Ot,Nt,!0),document.addEventListener(At,Nt,!0),Dt=!0)}(t,n,o):"touchmove"===e?function(t,e,n){var i=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Ft(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(zt,i,!1)}(t,n,o):"touchend"===e&&function(t,e,n){var i=function(t){Ft(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(Ot,i,!1),t.addEventListener(At,i,!1)}(t,n,o),this}function Rt(t){Bt[t.pointerId]=t}function Zt(t){Bt[t.pointerId]&&(Bt[t.pointerId]=t)}function Nt(t){delete Bt[t.pointerId]}function Ft(t,e){for(var n in t.touches=[],Bt)t.touches.push(Bt[n]);t.changedTouches=[t],e(t)}var Wt,qt,Ht,Yt,Xt,Vt=_t?"MSPointerDown":bt?"pointerdown":"touchstart",Ut=_t?"MSPointerUp":bt?"pointerup":"touchend",Gt="_leaflet_",$t=de(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kt=de(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qt="webkitTransition"===Kt||"OTransition"===Kt?Kt+"End":"transitionend";function Jt(t){return"string"==typeof t?document.getElementById(t):t}function te(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function ee(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function ne(t){var e=t.parentNode;e&&e.removeChild(t)}function ie(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function oe(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function re(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function se(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=ce(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ae(t,e){if(void 0!==t.classList)for(var n=h(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!se(t,e)){var r=ce(t);ue(t,(r?r+" ":"")+e)}}function le(t,e){void 0!==t.classList?t.classList.remove(e):ue(t,c((" "+ce(t)+" ").replace(" "+e+" "," ")))}function ue(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ce(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function he(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function de(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function fe(t,e,n){var i=e||new C(0,0);t.style[$t]=(dt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function pe(t,e){t._leaflet_pos=e,mt?fe(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function me(t){return t._leaflet_pos||new C(0,0)}if("onselectstart"in document)Wt=function(){Ee(window,"selectstart",Ae)},qt=function(){Pe(window,"selectstart",Ae)};else{var ve=de(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Wt=function(){if(ve){var t=document.documentElement.style;Ht=t[ve],t[ve]="none"}},qt=function(){ve&&(document.documentElement.style[ve]=Ht,Ht=void 0)}}function ge(){Ee(window,"dragstart",Ae)}function ye(){Pe(window,"dragstart",Ae)}function _e(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(be(),Yt=t,Xt=t.style.outline,t.style.outline="none",Ee(window,"keydown",be))}function be(){Yt&&(Yt.style.outline=Xt,Yt=void 0,Xt=void 0,Pe(window,"keydown",be))}function xe(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function we(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Te={TRANSFORM:$t,TRANSITION:Kt,TRANSITION_END:Qt,get:Jt,getStyle:te,create:ee,remove:ne,empty:ie,toFront:oe,toBack:re,hasClass:se,addClass:ae,removeClass:le,setClass:ue,getClass:ce,setOpacity:he,testProp:de,setTransform:fe,setPosition:pe,getPosition:me,disableTextSelection:Wt,enableTextSelection:qt,disableImageDrag:ge,enableImageDrag:ye,preventOutline:_e,restoreOutline:be,getSizedParentNode:xe,getScale:we};function Ee(t,e,n,i){if("object"==typeof e)for(var o in e)Le(t,o,e[o],n);else for(var r=0,s=(e=h(e)).length;r<s;r++)Le(t,e[r],n,i);return this}var Se="_leaflet_events";function Pe(t,e,n,i){if("object"==typeof e)for(var o in e)Ie(t,o,e[o],n);else if(e)for(var r=0,s=(e=h(e)).length;r<s;r++)Ie(t,e[r],n,i);else{for(var a in t[Se])Ie(t,a,t[Se][a]);delete t[Se]}return this}function Me(){if(bt)return!(J||lt)}var ke={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Le(t,e,n,i){var o=e+r(n)+(i?"_"+r(i):"");if(t[Se]&&t[Se][o])return this;var s=function(e){return n.call(i||t,e||window.event)},a=s;bt&&0===e.indexOf("touch")?jt(t,e,s,o):xt&&"dblclick"===e&&!Me()?function(t,e,n){var i,o,r=!1;function s(t){if(bt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),n=e-(i||e);o=t.touches?t.touches[0]:t,r=n>0&&n<=250,i=e}function a(t){if(r&&!o.cancelBubble){if(bt){if("mouse"===t.pointerType)return;var n,s,a={};for(s in o)n=o[s],a[s]=n&&n.bind?n.bind(o):n;o=a}o.type="dblclick",o.button=0,e(o),i=null}}t[Gt+Vt+n]=s,t[Gt+Ut+n]=a,t[Gt+"dblclick"+n]=e,t.addEventListener(Vt,s,!!St&&{passive:!1}),t.addEventListener(Ut,a,!!St&&{passive:!1}),t.addEventListener("dblclick",e,!1)}(t,s,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(ke[e]||e,s,!!St&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,We(t,e)&&a(e)},t.addEventListener(ke[e],s,!1)):t.addEventListener(e,a,!1):"attachEvent"in t&&t.attachEvent("on"+e,s),t[Se]=t[Se]||{},t[Se][o]=s}function Ie(t,e,n,i){var o=e+r(n)+(i?"_"+r(i):""),s=t[Se]&&t[Se][o];if(!s)return this;bt&&0===e.indexOf("touch")?function(t,e,n){var i=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Ct,i,!1):"touchmove"===e?t.removeEventListener(zt,i,!1):"touchend"===e&&(t.removeEventListener(Ot,i,!1),t.removeEventListener(At,i,!1))}(t,e,o):xt&&"dblclick"===e&&!Me()?function(t,e){var n=t[Gt+Vt+e],i=t[Gt+Ut+e],o=t[Gt+"dblclick"+e];t.removeEventListener(Vt,n,!!St&&{passive:!1}),t.removeEventListener(Ut,i,!!St&&{passive:!1}),t.removeEventListener("dblclick",o,!1)}(t,o):"removeEventListener"in t?t.removeEventListener(ke[e]||e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[Se][o]=null}function Ce(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Fe(t),this}function ze(t){return Le(t,"wheel",Ce),this}function Oe(t){return Ee(t,"mousedown touchstart dblclick",Ce),Le(t,"click",Ne),this}function Ae(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Be(t){return Ae(t),Ce(t),this}function De(t,e){if(!e)return new C(t.clientX,t.clientY);var n=we(e),i=n.boundingClientRect;return new C((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var je=ht&&st?2*window.devicePixelRatio:at?window.devicePixelRatio:1;function Re(t){return J?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/je:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ze={};function Ne(t){Ze[t.type]=!0}function Fe(t){var e=Ze[t.type];return Ze[t.type]=!1,e}function We(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var qe={on:Ee,off:Pe,stopPropagation:Ce,disableScrollPropagation:ze,disableClickPropagation:Oe,preventDefault:Ae,stop:Be,getMousePosition:De,getWheelDelta:Re,fakeStop:Ne,skipped:Fe,isExternalTarget:We,addListener:Ee,removeListener:Pe},He=I.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=me(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),pe(this._el,n),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ye=I.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(Z(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kt&&mt&&!wt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ee(this._proxy,Qt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){return n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(Z(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,n),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(mt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof C?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=O(e.paddingTopLeft||e.padding||[0,0]),i=O(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=O(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new He,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ae(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!mt)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=Z(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),l=a*this.getZoomScale(s,e),u=o.distanceTo(i)||1;function c(t){var e=(l*l-a*a+2.0164*(t?-1:1)*2.0164*u*u)/(2*(t?l:a)*2.0164*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function h(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}var f=c(0);function p(t){return a*(d(f)*(h(e=f+1.42*t)/d(e))-h(f))/2.0164;var e}var m=Date.now(),v=(c(1)-f)/1.42,g=n.duration?1e3*n.duration:1e3*v*.8;return this._moveStart(!0,n.noMoveStart),function n(){var r=(Date.now()-m)/g,l=function(t){return 1-Math.pow(1-t,1.5)}(r)*v;r<=1?(this._flyToFrame=E(n,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(p(l)/u)),s),this.getScaleZoom(a/function(t){return a*(d(f)/d(f+1.42*t))}(l),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=j(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=O((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=O(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),s=this.project(t),a=this.getPixelBounds(),l=a.getSize().divideBy(2),u=B([a.min.add(n),a.max.subtract(i)]);if(!u.contains(s)){this._enforcingBounds=!0;var c=r.subtract(s),h=O(s.x+c.x,s.y+c.y);(s.x<u.min.x||s.x>u.max.x)&&(h.x=r.x-c.x,c.x>0?h.x+=l.x-n.x:h.x-=l.x-i.x),(s.y<u.min.y||s.y>u.max.y)&&(h.y=r.y-c.y,c.y>0?h.y+=l.y-n.y:h.y-=l.y-i.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),r=n.divideBy(2).round(),s=o.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),o=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new R(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ne(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ee("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new D(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=O(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),u=B(this.project(a,i),this.project(s,i)).getSize(),c=mt?this.options.zoomSnap:1,h=l.x/u.x,d=l.y/u.y,f=e?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(f,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new C(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new A(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(Z(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(O(t),e)},layerPointToLatLng:function(t){var e=O(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(Z(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Z(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(Z(t),Z(e))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Z(t)))},mouseEventToContainerPoint:function(t){return De(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=Jt(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ee(e,"scroll",this._onScroll,this),this._containerId=r(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt,ae(t,"leaflet-container"+(xt?" leaflet-touch":"")+(Et?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(lt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=te(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pe(this._mapPane,new C(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ae(t.markerPane,"leaflet-zoom-hide"),ae(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){pe(this._mapPane,new C(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){pe(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[r(this._container)]=this;var e=t?Pe:Ee;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),mt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=E((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((n=this._targets[r(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!We(s,t))break;if(i.push(n),o)break}if(s===this._container)break;s=s.parentNode}return i.length||a||o||!We(s,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Fe(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||_e(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var o=e({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,n))).length){var r=i[0];"contextmenu"===n&&r.listens(n,!0)&&Ae(t);var s={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=r.getLatLng&&(!r._radius||r._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(n,s,!0),s.originalEvent._stopped||!1===i[l].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,n))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return me(this._mapPane)||new C(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return B([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new A(i.subtract(o),i.add(o)),s=this._getBoundsOffset(r,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new A(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=B(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new C(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=mt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=ee("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=$t,n=this._proxy.style[e];fe(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();fe(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(E((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),E((function(){this._moveEnd(!0)}),this))}}),Xe=M.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return ae(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ve=function(t){return new Xe(t)};Ye.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ee("div",e+"control-container",this._container);function i(i,o){var r=e+i+" "+e+o;t[i+o]=ee("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ne(this._controlCorners[t]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ue=Xe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Xe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(r(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ee("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Oe(e),ze(e);var i=this._section=ee("section",t+"-list");n&&(this._map.on("click",this.collapse,this),et||Ee(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ee("a",t+"-toggle",e);o.href="#",o.title="Layers",xt?(Ee(o,"click",Be),Ee(o,"click",this.expand,this)):Ee(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ee("div",t+"-base",i),this._separator=ee("div",t+"-separator",i),this._overlaysList=ee("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&r(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ie(this._baseLayersList),ie(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(r(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+r(this),i),this._layerControlInputs.push(e),e.layerId=r(t.layer),Ee(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var s=document.createElement("div");return n.appendChild(s),s.appendChild(e),s.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Ge=Xe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ee("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=ee("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),Oe(r),Ee(r,"click",Be),Ee(r,"click",o,this),Ee(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";le(this._zoomInButton,e),le(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ae(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ae(this._zoomInButton,e)}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Ge,this.addControl(this.zoomControl))}));var $e=Xe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=ee("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ee("div",e,n)),t.imperial&&(this._iScale=ee("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Ke=Xe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ee("div","leaflet-control-attribution"),Oe(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook((function(){this.options.attributionControl&&(new Ke).addTo(this)})),Xe.Layers=Ue,Xe.Zoom=Ge,Xe.Scale=$e,Xe.Attribution=Ke,Ve.layers=function(t,e,n){return new Ue(t,e,n)},Ve.zoom=function(t){return new Ge(t)},Ve.scale=function(t){return new $e(t)},Ve.attribution=function(t){return new Ke(t)};var Qe=M.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(t,e){return t.addHandler(e,this),this};var Je,tn={Events:k},en=xt?"touchstart mousedown":"mousedown",nn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},on={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},rn=I.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){d(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ee(this._dragStartTarget,en,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rn._dragging===this&&this.finishDrag(),Pe(this._dragStartTarget,en,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!se(this._element,"leaflet-zoom-anim")&&!(rn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(rn._dragging=this,this._preventOutline&&_e(this._element),ge(),Wt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=xe(this._element);this._startPoint=new C(e.clientX,e.clientY),this._parentScale=we(n),Ee(document,on[t.type],this._onMove,this),Ee(document,nn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new C(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ae(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=me(this._element).subtract(n),ae(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,S(this._animRequest),this._lastEvent=t,this._animRequest=E(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),pe(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in le(document.body,"leaflet-dragging"),this._lastTarget&&(le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),on)Pe(document,on[t],this._onMove,this),Pe(document,nn[t],this._onUp,this);ye(),qt(),this._moved&&this._moving&&(S(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,rn._dragging=!1}});function sn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,o,r){var s,a,l,u=0;for(a=o+1;a<=r-1;a++)(l=hn(e[a],e[o],e[r],!0))>u&&(s=a,u=l);u>i&&(n[s]=1,t(e,n,i,o,s),t(e,n,i,s,r))}(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r}(t=function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)s=t[i],a=t[o],l=void 0,u=void 0,l=a.x-s.x,u=a.y-s.y,l*l+u*u>e&&(n.push(t[i]),o=i);var s,a,l,u;return o<r-1&&n.push(t[r-1]),n}(t,n),n)}function an(t,e,n){return Math.sqrt(hn(t,e,n,!0))}function ln(t,e,n,i,o){var r,s,a,l=i?Je:cn(t,n),u=cn(e,n);for(Je=u;;){if(!(l|u))return[t,e];if(l&u)return!1;a=cn(s=un(t,e,r=l||u,n,o),n),r===l?(t=s,l=a):(e=s,u=a)}}function un(t,e,n,i,o){var r,s,a=e.x-t.x,l=e.y-t.y,u=i.min,c=i.max;return 8&n?(r=t.x+a*(c.y-t.y)/l,s=c.y):4&n?(r=t.x+a*(u.y-t.y)/l,s=u.y):2&n?(r=c.x,s=t.y+l*(c.x-t.x)/a):1&n&&(r=u.x,s=t.y+l*(u.x-t.x)/a),new C(r,s,o)}function cn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function hn(t,e,n,i){var o,r=e.x,s=e.y,a=n.x-r,l=n.y-s,u=a*a+l*l;return u>0&&((o=((t.x-r)*a+(t.y-s)*l)/u)>1?(r=n.x,s=n.y):o>0&&(r+=a*o,s+=l*o)),a=t.x-r,l=t.y-s,i?a*a+l*l:new C(r,s)}function dn(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function fn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),dn(t)}var pn={simplify:sn,pointToSegmentDistance:an,closestPointOnSegment:function(t,e,n){return hn(t,e,n)},clipSegment:ln,_getEdgeIntersection:un,_getBitCode:cn,_sqClosestPointOnSegment:hn,isFlat:dn,_flat:fn};function mn(t,e,n){var i,o,r,s,a,l,u,c,h,d=[1,4,2,8];for(o=0,u=t.length;o<u;o++)t[o]._code=cn(t[o],e);for(s=0;s<4;s++){for(c=d[s],i=[],o=0,r=(u=t.length)-1;o<u;r=o++)a=t[o],l=t[r],a._code&c?l._code&c||((h=un(l,a,c,e,n))._code=cn(h,e),i.push(h)):(l._code&c&&((h=un(l,a,c,e,n))._code=cn(h,e),i.push(h)),i.push(a));t=i}return t}var vn={clipPolygon:mn},gn={project:function(t){return new C(t.lng,t.lat)},unproject:function(t){return new R(t.y,t.x)},bounds:new A([-180,-90],[180,90])},yn={R:6378137,R_MINOR:6356752.314245179,bounds:new A([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=r*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),r/2);return i=-n*Math.log(Math.max(a,1e-10)),new C(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=u=Math.PI/2-2*Math.atan(s*e)-a;return new R(a*n,t.x*n/i)}},_n={LonLat:gn,Mercator:yn,SphericalMercator:q},bn=e({},W,{code:"EPSG:3395",projection:yn,transformation:function(){var t=.5/(Math.PI*yn.R);return Y(t,.5,-t,.5)}()}),xn=e({},W,{code:"EPSG:4326",projection:gn,transformation:Y(1/180,1,-1/180,.5)}),wn=e({},F,{projection:gn,transformation:Y(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});F.Earth=W,F.EPSG3395=bn,F.EPSG3857=X,F.EPSG900913=V,F.EPSG4326=xn,F.Simple=wn;var Tn=I.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[r(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[r(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ye.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=r(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=r(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&r(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[r(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=r(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var En=Tn.extend({initialize:function(t,e){var n,i;if(d(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r(t)}}),Sn=En.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),En.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),En.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new D;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Pn=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=O(i),r=O("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Et&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Mn=Pn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Mn.imagePath||(Mn.imagePath=this._detectIconPath()),(this.options.imagePath||Mn.imagePath)+Pn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ee("div","leaflet-default-icon-path",document.body),e=te(t,"background-image")||te(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),kn=Qe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new rn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ae(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=me(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=B(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!l.contains(r)){var u=O((Math.max(l.max.x,r.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),pe(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=E(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=me(e._icon),o=e._map.layerPointToLatLng(i);n&&pe(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Ln=Tn.extend({options:{icon:new Mn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=Z(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=Z(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ae(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(ae(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&pe(this._icon,t),this._shadow&&pe(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&he(this._icon,t),this._shadow&&he(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),In=Tn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Cn=In.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=Z(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=Z(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return In.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new A(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),zn=Cn.extend({initialize:function(t,n,i){if("number"==typeof n&&(n=e({},i,{radius:n})),d(this,n),this._latlng=Z(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:In.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===W.distance){var o=Math.PI/180,r=this._mRadius/W.R/o,s=n.project([e+r,t]),a=n.project([e-r,t]),l=s.add(a).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(u*o))/(Math.cos(e*o)*Math.cos(u*o)))/o;(isNaN(c)||0===c)&&(c=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x,this._radiusY=l.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),On=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=hn,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],u=1,c=l.length;u<c;u++){var h=r(t,e=l[u-1],n=l[u],!0);h<i&&(i=h,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a=this._rings[0],l=a.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<l-1;t++)if(o=a[t],r=a[t+1],(i+=n=o.distanceTo(r))>e)return s=(i-e)/n,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=Z(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new D,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=dn(t),i=0,o=t.length;i<o;i++)n?(e[i]=Z(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new C(t,t);this._pxBounds=new A([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof R,s=t.length;if(r){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,s,a,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,r=(a=this._rings[e]).length;n<r-1;n++)(s=ln(a[n],a[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(s[0]),s[1]===a[n+1]&&n!==r-2||(l[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=sn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(s=(a=this._parts[n]).length)-1;i<s;o=i++)if((e||0!==i)&&an(t,a[o],a[i])<=l)return!0;return!1}});On._flat=fn;var An=On.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a,l,u=this._rings[0],c=u.length;if(!c)return null;for(r=s=a=0,t=0,e=c-1;t<c;e=t++)n=u[t],i=u[e],o=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*o,a+=(n.y+i.y)*o,r+=3*o;return l=0===r?u[0]:[s/r,a/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=On.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof R&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){On.prototype._setLatLngs.call(this,t),dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new C(e,e);if(t=new A(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=mn(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,s,a,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(l=(e=this._parts[o]).length)-1;r<l;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||On.prototype._containsPoint.call(this,t,!0)}}),Bn=Sn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=v(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=Dn(t,r);return s?(s.feature=qn(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Dn(t,e){var n,i,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Rn;if(!a&&!s)return null;switch(s.type){case"Point":return jn(u,t,n=c(a),e);case"MultiPoint":for(o=0,r=a.length;o<r;o++)n=c(a[o]),l.push(jn(u,t,n,e));return new Sn(l);case"LineString":case"MultiLineString":return i=Zn(a,"LineString"===s.type?0:1,c),new On(i,e);case"Polygon":case"MultiPolygon":return i=Zn(a,"Polygon"===s.type?1:2,c),new An(i,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var h=Dn({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Sn(l);default:throw new Error("Invalid GeoJSON object.")}}function jn(t,e,n,i){return t?t(e,n):new Ln(n,i&&i.markersInheritOptions&&i)}function Rn(t){return new R(t[1],t[0],t[2])}function Zn(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?Zn(t[r],e-1,n):(n||Rn)(t[r]),o.push(i);return o}function Nn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function Fn(t,e,n,i){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?Fn(t[r],e-1,n,i):Nn(t[r],i));return!e&&n&&o.push(o[0]),o}function Wn(t,n){return t.feature?e({},t.feature,{geometry:n}):qn(n)}function qn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Hn={toGeoJSON:function(t){return Wn(this,{type:"Point",coordinates:Nn(this.getLatLng(),t)})}};function Yn(t,e){return new Bn(t,e)}Ln.include(Hn),zn.include(Hn),Cn.include(Hn),On.include({toGeoJSON:function(t){var e=!dn(this._latlngs);return Wn(this,{type:(e?"Multi":"")+"LineString",coordinates:Fn(this._latlngs,e?1:0,!1,t)})}}),An.include({toGeoJSON:function(t){var e=!dn(this._latlngs),n=e&&!dn(this._latlngs[0]),i=Fn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Wn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),En.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Wn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=qn(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}})),n?Wn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Xn=Yn,Vn=Tn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&oe(this._image),this},bringToBack:function(){return this._map&&re(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ee("img");ae(e,"leaflet-image-layer"),this._zoomAnimated&&ae(e,"leaflet-zoom-animated"),this.options.className&&ae(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;fe(this._image,n,e)},_reset:function(){var t=this._image,e=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();pe(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){he(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Un=Vn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ee("video");if(ae(e,"leaflet-image-layer"),this._zoomAnimated&&ae(e,"leaflet-zoom-animated"),this.options.className&&ae(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],r=0;r<n.length;r++)o.push(n[r].src);this._url=n.length>0?o:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var s=0;s<this._url.length;s++){var a=ee("source");a.src=this._url[s],e.appendChild(a)}}}}),Gn=Vn.extend({_initImage:function(){var t=this._image=this._url;ae(t,"leaflet-image-layer"),this._zoomAnimated&&ae(t,"leaflet-zoom-animated"),this.options.className&&ae(t,this.options.className),t.onselectstart=l,t.onmousemove=l}}),$n=Tn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&he(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&he(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(he(this._container,0),this._removeTimeout=setTimeout(i(ne,void 0,this._container),200)):ne(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Z(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&oe(this._container),this},bringToBack:function(){return this._map&&re(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Tn||(n=e,e=t),e instanceof Sn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=O(this.options.offset),n=this._getAnchor();this._zoomAnimated?pe(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Kn=$n.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){$n.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",Ce))},onRemove:function(t){$n.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",Ce))},getEvents:function(){var t=$n.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ee("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ee("div",t+"-content-wrapper",e);if(this._contentNode=ee("div",t+"-content",n),Oe(e),ze(this._contentNode),Ee(e,"contextmenu",Ce),this._tipContainer=ee("div",t+"-tip-container",e),this._tip=ee("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ee("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Ee(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight;o&&i>o?(e.height=o+"px",ae(t,"leaflet-popup-scrolled")):le(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();pe(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(te(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new C(this._containerLeft,-n-this._containerBottom);o._add(me(this._container));var r=t.layerPointToContainerPoint(o),s=O(this.options.autoPanPadding),a=O(this.options.autoPanPaddingTopLeft||s),l=O(this.options.autoPanPaddingBottomRight||s),u=t.getSize(),c=0,h=0;r.x+i+l.x>u.x&&(c=r.x+i-u.x+l.x),r.x-c-a.x<0&&(c=r.x-a.x),r.y+n+l.y>u.y&&(h=r.y+n-u.y+l.y),r.y-h-a.y<0&&(h=r.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),Be(t)},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(t,e,n){return t instanceof Kn||(t=new Kn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Tn.include({bindPopup:function(t,e){return t instanceof Kn?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Kn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Be(t),e instanceof In?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Qn=$n.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){$n.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){$n.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=$n.prototype.getEvents.call(this);return xt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ee("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,o=this._container,r=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(t),a=this.options.direction,l=o.offsetWidth,u=o.offsetHeight,c=O(this.options.offset),h=this._getAnchor();"top"===a?(e=l/2,n=u):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=u/2):"right"===a?(e=0,n=u/2):"left"===a?(e=l,n=u/2):s.x<r.x?(a="right",e=0,n=u/2):(a="left",e=l+2*(c.x+h.x),n=u/2),t=t.subtract(O(e,n,!0)).add(c).add(h),le(o,"leaflet-tooltip-right"),le(o,"leaflet-tooltip-left"),le(o,"leaflet-tooltip-top"),le(o,"leaflet-tooltip-bottom"),ae(o,"leaflet-tooltip-"+a),pe(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&he(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ye.include({openTooltip:function(t,e,n){return t instanceof Qn||(t=new Qn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Tn.include({bindTooltip:function(t,e){return t instanceof Qn?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Qn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),xt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ae(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(le(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Jn=Pn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ie(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=O(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Pn.Default=Mn;var ti=Tn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ne(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(oe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(re(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof C?t:new C(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){he(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);he(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(S(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ee("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ne(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=ee("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ne(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),s=n-1,a=new C(+o,+r);a.z=+s;var l=this._tileCoordsToKey(a),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),s>i&&this._retainParent(o,r,s,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new C(o,r);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();mt?fe(t.el,o,i):pe(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new A(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),s=[],a=this.options.keepBuffer,l=new A(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new C(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=o.min.y;h<=o.max.y;h++)for(var d=o.min.x;d<=o.max.x;d++){var f=new C(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new D(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new C(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ne(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ae(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,Q&&this.options.opacity<1&&he(t,this.options.opacity),et&&!nt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&E(i(this._tileReady,this,t,null,r)),pe(r,n),this._tiles[o]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(he(n.el,0),S(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ae(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new C(this._wrapX?a(t.x,this._wrapX):t.x,this._wrapY?a(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new A(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ei=ti.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Et&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),et||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ee(n,"load",i(this._tileOnLoad,this,e,n)),Ee(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var n={r:Et?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return m(this._url,e(n,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=y,ne(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return ot||e.el.setAttribute("src",y),ti.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return ti.prototype._tileReady.call(this,t,e,n)}});function ni(t,e){return new ei(t,e)}var ii=ei.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var o in n)o in this.options||(i[o]=n[o]);var r=(n=d(this,n)).detectRetina&&Et?2:1,s=this.getTileSize();i.width=s.x*r,i.height=s.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ei.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=B(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,s=(this._wmsVersion>=1.3&&this._crs===xn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=ei.prototype.getTileUrl.call(this,t);return a+f(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});ei.WMS=ii,ni.wms=function(t,e){return new ii(t,e)};var oi=Tn.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=me(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),s=this._map.project(t,e).subtract(r),a=o.multiplyBy(-n).add(i).add(o).subtract(s);mt?fe(this._container,a,n):pe(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new A(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ri=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ee(t,"mousemove",this._onMouseMove,this),Ee(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ee(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,ne(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){oi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Et?2:1;pe(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Et&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[r(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[r(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,o=s[n].length;i<o;i++)r=s[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(n=e);n&&(Ne(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(le(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,o,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(ae(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function si(t){return Pt?new ri(t):null}var ai=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),li={_initContainer:function(){this._container=ee("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ai("shape");ae(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ai("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ne(e),t.removeInteractiveTarget(e),delete this._layers[r(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=ai("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=ai("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){oe(t._container)},_bringToBack:function(t){re(t._container)}},ui=kt?ai:U,ci=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=ui("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ui("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){oi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),pe(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ui("path");t.options.className&&ae(e,t.options.className),t.options.interactive&&ae(e,"leaflet-interactive"),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ne(t._path),t.removeInteractiveTarget(t._path),delete this._layers[r(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,G(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){oe(t._path)},_bringToBack:function(t){re(t._path)}});function hi(t){return Mt||kt?new ci(t):null}kt&&ci.include(li),Ye.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&si(t)||hi(t)}});var di=An.extend({initialize:function(t,e){An.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});ci.create=ui,ci.pointsToPath=G,Bn.geometryToLayer=Dn,Bn.coordsToLatLng=Rn,Bn.coordsToLatLngs=Zn,Bn.latLngToCoords=Nn,Bn.latLngsToCoords=Fn,Bn.getFeature=Wn,Bn.asFeature=qn,Ye.mergeOptions({boxZoom:!0});var fi=Qe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Wt(),ge(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ee(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ee("div","leaflet-zoom-box",this._container),ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new A(this._point,this._startPoint),n=e.getSize();pe(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ne(this._box),le(this._container,"leaflet-crosshair")),qt(),ye(),Pe(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ye.addInitHook("addHandler","boxZoom",fi),Ye.mergeOptions({doubleClickZoom:!0});var pi=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ye.addInitHook("addHandler","doubleClickZoom",pi),Ye.mergeOptions({dragging:!0,inertia:!nt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mi=Qe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new rn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){le(this._map._container,"leaflet-grab"),le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=o.multiplyBy(s/r),l=a.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=a.multiplyBy(u/l),h=u/(n.inertiaDeceleration*s),d=c.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),E((function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Ye.addInitHook("addHandler","dragging",mi),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vi=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ee(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=O(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Be(t)}}});Ye.addInitHook("addHandler","keyboard",vi),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gi=Qe.extend({addHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Re(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),o),Be(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Ye.addInitHook("addHandler","scrollWheelZoom",gi),Ye.mergeOptions({tap:!0,tapTolerance:15});var yi=Qe.extend({addHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ae(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new C(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ae(n,"leaflet-active"),this._holdTimeout=setTimeout(i((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Ee(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Pe(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&le(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new C(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});!xt||bt&&!lt||Ye.addInitHook("addHandler","tap",yi),Ye.mergeOptions({touchZoom:xt&&!nt,bounceAtZoomLimits:!0});var _i=Qe.extend({addHooks:function(){ae(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){le(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend",this._onTouchEnd,this),Ae(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var a=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=E(a,this,!0),Ae(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ye.addInitHook("addHandler","touchZoom",_i),Ye.BoxZoom=fi,Ye.DoubleClickZoom=pi,Ye.Drag=mi,Ye.Keyboard=vi,Ye.ScrollWheelZoom=gi,Ye.Tap=yi,Ye.TouchZoom=_i,t.version="1.7.1",t.Control=Xe,t.control=Ve,t.Browser=It,t.Evented=I,t.Mixin=tn,t.Util=P,t.Class=M,t.Handler=Qe,t.extend=e,t.bind=i,t.stamp=r,t.setOptions=d,t.DomEvent=qe,t.DomUtil=Te,t.PosAnimation=He,t.Draggable=rn,t.LineUtil=pn,t.PolyUtil=vn,t.Point=C,t.point=O,t.Bounds=A,t.bounds=B,t.Transformation=H,t.transformation=Y,t.Projection=_n,t.LatLng=R,t.latLng=Z,t.LatLngBounds=D,t.latLngBounds=j,t.CRS=F,t.GeoJSON=Bn,t.geoJSON=Yn,t.geoJson=Xn,t.Layer=Tn,t.LayerGroup=En,t.layerGroup=function(t,e){return new En(t,e)},t.FeatureGroup=Sn,t.featureGroup=function(t,e){return new Sn(t,e)},t.ImageOverlay=Vn,t.imageOverlay=function(t,e,n){return new Vn(t,e,n)},t.VideoOverlay=Un,t.videoOverlay=function(t,e,n){return new Un(t,e,n)},t.SVGOverlay=Gn,t.svgOverlay=function(t,e,n){return new Gn(t,e,n)},t.DivOverlay=$n,t.Popup=Kn,t.popup=function(t,e){return new Kn(t,e)},t.Tooltip=Qn,t.tooltip=function(t,e){return new Qn(t,e)},t.Icon=Pn,t.icon=function(t){return new Pn(t)},t.DivIcon=Jn,t.divIcon=function(t){return new Jn(t)},t.Marker=Ln,t.marker=function(t,e){return new Ln(t,e)},t.TileLayer=ei,t.tileLayer=ni,t.GridLayer=ti,t.gridLayer=function(t){return new ti(t)},t.SVG=ci,t.svg=hi,t.Renderer=oi,t.Canvas=ri,t.canvas=si,t.Path=In,t.CircleMarker=Cn,t.circleMarker=function(t,e){return new Cn(t,e)},t.Circle=zn,t.circle=function(t,e,n){return new zn(t,e,n)},t.Polyline=On,t.polyline=function(t,e){return new On(t,e)},t.Polygon=An,t.polygon=function(t,e){return new An(t,e)},t.Rectangle=di,t.rectangle=function(t,e){return new di(t,e)},t.Map=Ye,t.map=function(t,e){return new Ye(t,e)};var bi=window.L;t.noConflict=function(){return window.L=bi,this},window.L=t}(e)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){
/*!
 * Lazy Load - JavaScript plugin for lazy loading images
 *
 * Copyright (c) 2007-2019 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   https://appelsiini.net/projects/lazyload
 *
 * Version: 2.0.0-rc.2
 *
 */
var n;n=void 0!==e?e:this.window||this.global,t.exports=function(t){"use strict";t=window;const e={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0},n=function(){let t={},e=!1,i=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++);let r=function(i){for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e&&"[object Object]"===Object.prototype.toString.call(i[o])?t[o]=n(!0,t[o],i[o]):t[o]=i[o])};for(;i<o;i++)r(arguments[i]);return t};function i(t,i){this.settings=n(e,i||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}if(i.prototype={init:function(){if(!t.IntersectionObserver)return void this.loadImages();let e=this,n={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver((function(t){Array.prototype.forEach.call(t,(function(t){if(t.isIntersecting){e.observer.unobserve(t.target);let n=t.target.getAttribute(e.settings.src),i=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(n&&(t.target.src=n),i&&(t.target.srcset=i)):t.target.style.backgroundImage="url("+n+")"}}))}),n),Array.prototype.forEach.call(this.images,(function(t){e.observer.observe(t)}))},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(!this.settings)return;let t=this;Array.prototype.forEach.call(this.images,(function(e){let n=e.getAttribute(t.settings.src),i=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(n&&(e.src=n),i&&(e.srcset=i)):e.style.backgroundImage="url('"+n+"')"}))},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,e){return new i(t,e)},t.jQuery){const e=t.jQuery;e.fn.lazyload=function(t){return(t=t||{}).attribute=t.attribute||"data-src",new i(e.makeArray(this),t),this}}return i}(n)}).call(this,n(8))},function(t,e,n){"use strict";var i=n(22);t.exports=n(35)(i,requestAnimationFrame,console)},function(t,e,n){"use strict";var i=n(23),o=n(24);t.exports=function(t,e){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names *must* be separated");if(null==e)return t;var n=t.indexOf("?"),r=t.indexOf("#"),s=r<0?t.length:r,a=n<0?s:n,l=t.slice(0,a),u={};o(u,e);var c=l.replace(/:([^\/\.-]+)(\.{3})?/g,(function(t,n,i){return delete u[n],null==e[n]?t:i?e[n]:encodeURIComponent(String(e[n]))})),h=c.indexOf("?"),d=c.indexOf("#"),f=d<0?c.length:d,p=h<0?f:h,m=c.slice(0,p);n>=0&&(m+=t.slice(n,s)),h>=0&&(m+=(n<0?"?":"&")+c.slice(h,f));var v=i(u);return v&&(m+=(n<0&&h<0?"?":"&")+v),r>=0&&(m+=t.slice(r)),d>=0&&(m+=(r<0?"":"&")+c.slice(d)),m}},function(t,e,n){"use strict";var i=n(25);t.exports=function(t){var e=t.indexOf("?"),n=t.indexOf("#"),o=n<0?t.length:n,r=e<0?o:e,s=t.slice(0,r).replace(/\/{2,}/g,"/");return s?("/"!==s[0]&&(s="/"+s),s.length>1&&"/"===s[s.length-1]&&(s=s.slice(0,-1))):s="/",{path:s,params:e<0?{}:i(t.slice(e+1,o))}}},function(t,e){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})},function(t,e,n){var i,o;"undefined"!=typeof window&&window,void 0===(o="function"==typeof(i=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(t,r),delete i[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?i.call(e,n,e,t):i)||(t.exports=o)},function(t,e,n){var i,o;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */window,void 0===(o="function"==typeof(i=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function o(t){var n=getComputedStyle(t);return n||e("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var r,s=!1;function a(e){if(function(){if(!s){s=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var i=o(e);r=200==Math.round(t(i.width)),a.isBoxSizeOuter=r,n.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var l=o(e);if("none"==l.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<i;e++)t[n[e]]=0;return t}();var u={};u.width=e.offsetWidth,u.height=e.offsetHeight;for(var c=u.isBorderBox="border-box"==l.boxSizing,h=0;h<i;h++){var d=n[h],f=l[d],p=parseFloat(f);u[d]=isNaN(p)?0:p}var m=u.paddingLeft+u.paddingRight,v=u.paddingTop+u.paddingBottom,g=u.marginLeft+u.marginRight,y=u.marginTop+u.marginBottom,_=u.borderLeftWidth+u.borderRightWidth,b=u.borderTopWidth+u.borderBottomWidth,x=c&&r,w=t(l.width);!1!==w&&(u.width=w+(x?0:m+_));var T=t(l.height);return!1!==T&&(u.height=T+(x?0:v+b)),u.innerWidth=u.width-(m+_),u.innerHeight=u.height-(v+b),u.outerWidth=u.width+g,u.outerHeight=u.height+y,u}}return a})?i.call(e,n,e,t):i)||(t.exports=o)},function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var s=Date.now();function a(){var t={},e=!0,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);for(var o=function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e&&"[object Object]"===Object.prototype.toString.call(n[i])?t[i]=a(!0,t[i],n[i]):t[i]=n[i])};n<i;n++){var r=arguments[n];o(r)}return t}function l(t,e){if((M(t)||t===window||t===document)&&(t=[t]),L(t)||I(t)||(t=[t]),0!=O(t))if(L(t)&&!I(t))for(var n=t.length,i=0;i<n&&!1!==e.call(t[i],t[i],i,t);i++);else if(I(t))for(var o in t)if(z(t,o)&&!1===e.call(t[o],t[o],o,t))break}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t[s]=t[s]||[],o={all:i,evt:null,found:null};return e&&n&&O(i)>0&&l(i,(function(t,i){if(t.eventName==e&&t.fn.toString()==n.toString())return o.found=!0,o.evt=i,!1})),o}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.onElement,i=e.withCallback,o=e.avoidDuplicate,r=void 0===o||o,s=e.once,a=void 0!==s&&s,c=e.useCapture,h=void 0!==c&&c,d=arguments.length>2?arguments[2]:void 0,f=n||[];function p(t){S(i)&&i.call(d,t,this),a&&p.destroy()}return P(f)&&(f=document.querySelectorAll(f)),p.destroy=function(){l(f,(function(e){var n=u(e,t,p);n.found&&n.all.splice(n.evt,1),e.removeEventListener&&e.removeEventListener(t,p,h)}))},l(f,(function(e){var n=u(e,t,p);(e.addEventListener&&r&&!n.found||!r)&&(e.addEventListener(t,p,h),n.all.push({eventName:t,fn:p}))})),p}function h(t,e){l(e.split(" "),(function(e){return t.classList.add(e)}))}function d(t,e){l(e.split(" "),(function(e){return t.classList.remove(e)}))}function f(t,e){return t.classList.contains(e)}function p(t,e){for(;t!==document.body;){if(!(t=t.parentElement))return!1;if("function"==typeof t.matches?t.matches(e):t.msMatchesSelector(e))return t}}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||""===e)return!1;if("none"==e)return S(n)&&n(),!1;var i=x(),o=e.split(" ");l(o,(function(e){h(t,"g"+e)})),c(i,{onElement:t,avoidDuplicate:!1,once:!0,withCallback:function(t,e){l(o,(function(t){d(e,"g"+t)})),S(n)&&n()}})}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""==e)return t.style.webkitTransform="",t.style.MozTransform="",t.style.msTransform="",t.style.OTransform="",t.style.transform="",!1;t.style.webkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.OTransform=e,t.style.transform=e}function g(t){t.style.display="block"}function y(t){t.style.display="none"}function _(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.appendChild(n.firstChild);return e}function b(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function x(){var t,e=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}function w(t,e,n,i){if(t())e();else{var o;n||(n=100);var r=setInterval((function(){t()&&(clearInterval(r),o&&clearTimeout(o),e())}),n);i&&(o=setTimeout((function(){clearInterval(r)}),i))}}function T(t,e,n){if(C(t))console.error("Inject assets error");else if(S(e)&&(n=e,e=!1),P(e)&&e in window)S(n)&&n();else{var i;if(-1!==t.indexOf(".css")){if((i=document.querySelectorAll('link[href="'+t+'"]'))&&i.length>0)return void(S(n)&&n());var o=document.getElementsByTagName("head")[0],r=o.querySelectorAll('link[rel="stylesheet"]'),s=document.createElement("link");return s.rel="stylesheet",s.type="text/css",s.href=t,s.media="all",r?o.insertBefore(s,r[0]):o.appendChild(s),void(S(n)&&n())}if((i=document.querySelectorAll('script[src="'+t+'"]'))&&i.length>0){if(S(n)){if(P(e))return w((function(){return void 0!==window[e]}),(function(){n()})),!1;n()}}else{var a=document.createElement("script");a.type="text/javascript",a.src=t,a.onload=function(){if(S(n)){if(P(e))return w((function(){return void 0!==window[e]}),(function(){n()})),!1;n()}},document.body.appendChild(a)}}}function E(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function S(t){return"function"==typeof t}function P(t){return"string"==typeof t}function M(t){return!(!t||!t.nodeType||1!=t.nodeType)}function k(t){return Array.isArray(t)}function L(t){return t&&t.length&&isFinite(t.length)}function I(e){return"object"===t(e)&&null!=e&&!S(e)&&!k(e)}function C(t){return null==t}function z(t,e){return null!==t&&hasOwnProperty.call(t,e)}function O(t){if(I(t)){if(t.keys)return t.keys().length;var e=0;for(var n in t)z(t,n)&&e++;return e}return t.length}function A(t){return!isNaN(parseFloat(t))&&isFinite(t)}function B(t){if(t.events.hasOwnProperty("keyboard"))return!1;t.events.keyboard=c("keydown",{onElement:window,withCallback:function(e,n){var i=(e=e||window.event).keyCode;if(9==i){var r=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if("input"==r||"textarea"==r||"button"==r)return;e.preventDefault();var s=document.querySelectorAll(".gbtn");if(!s||s.length<=0)return;var a=o(s).filter((function(t){return f(t,"focused")}));if(!a.length){var l=document.querySelector('.gbtn[tabindex="0"]');return void(l&&(l.focus(),h(l,"focused")))}s.forEach((function(t){return d(t,"focused")}));var u=a[0].getAttribute("tabindex");u=u||"0";var c=parseInt(u)+1;c>s.length-1&&(c="0");var p=document.querySelector('.gbtn[tabindex="'.concat(c,'"]'));p&&(p.focus(),h(p,"focused"))}39==i&&t.nextSlide(),37==i&&t.prevSlide(),27==i&&t.close()}})}function D(t){return Math.sqrt(t.x*t.x+t.y*t.y)}var j=function(){function t(n){e(this,t),this.handlers=[],this.el=n}return i(t,[{key:"add",value:function(t){this.handlers.push(t)}},{key:"del",value:function(t){t||(this.handlers=[]);for(var e=this.handlers.length;e>=0;e--)this.handlers[e]===t&&this.handlers.splice(e,1)}},{key:"dispatch",value:function(){for(var t=0,e=this.handlers.length;t<e;t++){var n=this.handlers[t];"function"==typeof n&&n.apply(this.el,arguments)}}}]),t}();function R(t,e){var n=new j(t);return n.add(e),n}var Z=function(){function t(n,i){e(this,t),this.element="string"==typeof n?document.querySelector(n):n,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var o=function(){};this.rotate=R(this.element,i.rotate||o),this.touchStart=R(this.element,i.touchStart||o),this.multipointStart=R(this.element,i.multipointStart||o),this.multipointEnd=R(this.element,i.multipointEnd||o),this.pinch=R(this.element,i.pinch||o),this.swipe=R(this.element,i.swipe||o),this.tap=R(this.element,i.tap||o),this.doubleTap=R(this.element,i.doubleTap||o),this.longTap=R(this.element,i.longTap||o),this.singleTap=R(this.element,i.singleTap||o),this.pressMove=R(this.element,i.pressMove||o),this.twoFingerPressMove=R(this.element,i.twoFingerPressMove||o),this.touchMove=R(this.element,i.touchMove||o),this.touchEnd=R(this.element,i.touchEnd||o),this.touchCancel=R(this.element,i.touchCancel||o),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return i(t,[{key:"start",value:function(t){if(t.touches){this.now=Date.now(),this.x1=t.touches[0].pageX,this.y1=t.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(t,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var e=this.preV;if(t.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var n={x:t.touches[1].pageX-this.x1,y:t.touches[1].pageY-this.y1};e.x=n.x,e.y=n.y,this.pinchStartLen=D(e),this.multipointStart.dispatch(t,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(t,this.element),this._preventTap=!0}.bind(this),750)}}},{key:"move",value:function(t){if(t.touches){var e=this.preV,n=t.touches.length,i=t.touches[0].pageX,o=t.touches[0].pageY;if(this.isDoubleTap=!1,n>1){var r=t.touches[1].pageX,s=t.touches[1].pageY,a={x:t.touches[1].pageX-i,y:t.touches[1].pageY-o};null!==e.x&&(this.pinchStartLen>0&&(t.zoom=D(a)/this.pinchStartLen,this.pinch.dispatch(t,this.element)),t.angle=function(t,e){var n=function(t,e){var n=D(t)*D(e);if(0===n)return 0;var i=function(t,e){return t.x*e.x+t.y*e.y}(t,e)/n;return i>1&&(i=1),Math.acos(i)}(t,e);return function(t,e){return t.x*e.y-e.x*t.y}(t,e)>0&&(n*=-1),180*n/Math.PI}(a,e),this.rotate.dispatch(t,this.element)),e.x=a.x,e.y=a.y,null!==this.x2&&null!==this.sx2?(t.deltaX=(i-this.x2+r-this.sx2)/2,t.deltaY=(o-this.y2+s-this.sy2)/2):(t.deltaX=0,t.deltaY=0),this.twoFingerPressMove.dispatch(t,this.element),this.sx2=r,this.sy2=s}else{if(null!==this.x2){t.deltaX=i-this.x2,t.deltaY=o-this.y2;var l=Math.abs(this.x1-this.x2),u=Math.abs(this.y1-this.y2);(l>10||u>10)&&(this._preventTap=!0)}else t.deltaX=0,t.deltaY=0;this.pressMove.dispatch(t,this.element)}this.touchMove.dispatch(t,this.element),this._cancelLongTap(),this.x2=i,this.y2=o,n>1&&t.preventDefault()}}},{key:"end",value:function(t){if(t.changedTouches){this._cancelLongTap();var e=this;t.touches.length<2&&(this.multipointEnd.dispatch(t,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){e.swipe.dispatch(t,e.element)}),0)):(this.tapTimeout=setTimeout((function(){e._preventTap||e.tap.dispatch(t,e.element),e.isDoubleTap&&(e.doubleTap.dispatch(t,e.element),e.isDoubleTap=!1)}),0),e.isDoubleTap||(e.singleTapTimeout=setTimeout((function(){e.singleTap.dispatch(t,e.element)}),250))),this.touchEnd.dispatch(t,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(t){this.cancelAll(),this.touchCancel.dispatch(t,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}},{key:"on",value:function(t,e){this[t]&&this[t].add(e)}},{key:"off",value:function(t,e){this[t]&&this[t].del(e)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]),t}();function N(t){var e=function(){var t,e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}(),n=f(t,"gslide-media")?t:t.querySelector(".gslide-media"),i=t.querySelector(".gslide-description");h(n,"greset"),v(n,"translate3d(0, 0, 0)"),c(e,{onElement:n,once:!0,withCallback:function(t,e){d(n,"greset")}}),n.style.opacity="",i&&(i.style.opacity="")}function F(t){if(t.events.hasOwnProperty("touch"))return!1;var e,n,i,o=b(),r=o.width,s=o.height,a=!1,l=null,u=null,c=null,m=!1,g=1,y=1,_=!1,x=!1,w=null,T=null,E=null,S=null,P=0,M=0,k=!1,L=!1,I={},C={},z=0,O=0,A=document.getElementById("glightbox-slider"),B=document.querySelector(".goverlay"),D=new Z(A,{touchStart:function(e){if(a=!0,(f(e.targetTouches[0].target,"ginner-container")||p(e.targetTouches[0].target,".gslide-desc")||"a"==e.targetTouches[0].target.nodeName.toLowerCase())&&(a=!1),p(e.targetTouches[0].target,".gslide-inline")&&!f(e.targetTouches[0].target.parentNode,"gslide-inline")&&(a=!1),a){if(C=e.targetTouches[0],I.pageX=e.targetTouches[0].pageX,I.pageY=e.targetTouches[0].pageY,z=e.targetTouches[0].clientX,O=e.targetTouches[0].clientY,l=t.activeSlide,u=l.querySelector(".gslide-media"),i=l.querySelector(".gslide-inline"),c=null,f(u,"gslide-image")&&(c=u.querySelector("img")),d(B,"greset"),e.pageX>20&&e.pageX<window.innerWidth-20)return;e.preventDefault()}},touchMove:function(o){if(a&&(C=o.targetTouches[0],!_&&!x)){if(i&&i.offsetHeight>s){var l=I.pageX-C.pageX;if(Math.abs(l)<=13)return!1}m=!0;var h,d=o.targetTouches[0].clientX,f=o.targetTouches[0].clientY,p=z-d,g=O-f;if(Math.abs(p)>Math.abs(g)?(k=!1,L=!0):(L=!1,k=!0),e=C.pageX-I.pageX,P=100*e/r,n=C.pageY-I.pageY,M=100*n/s,k&&c&&(h=1-Math.abs(n)/s,B.style.opacity=h,t.settings.touchFollowAxis&&(P=0)),L&&(h=1-Math.abs(e)/r,u.style.opacity=h,t.settings.touchFollowAxis&&(M=0)),!c)return v(u,"translate3d(".concat(P,"%, 0, 0)"));v(u,"translate3d(".concat(P,"%, ").concat(M,"%, 0)"))}},touchEnd:function(){if(a){if(m=!1,x||_)return E=w,void(S=T);var e=Math.abs(parseInt(M)),n=Math.abs(parseInt(P));if(!(e>29&&c))return e<29&&n<25?(h(B,"greset"),B.style.opacity=1,N(u)):void 0;t.close()}},multipointEnd:function(){setTimeout((function(){_=!1}),50)},multipointStart:function(){_=!0,g=y||1},pinch:function(t){if(!c||m)return!1;_=!0,c.scaleX=c.scaleY=g*t.zoom;var e=g*t.zoom;if(x=!0,e<=1)return x=!1,e=1,S=null,E=null,w=null,T=null,void c.setAttribute("style","");e>4.5&&(e=4.5),c.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"),y=e},pressMove:function(t){if(x&&!_){var e=C.pageX-I.pageX,n=C.pageY-I.pageY;E&&(e+=E),S&&(n+=S),w=e,T=n;var i="translate3d(".concat(e,"px, ").concat(n,"px, 0)");y&&(i+=" scale3d(".concat(y,", ").concat(y,", 1)")),v(c,i)}},swipe:function(e){if(!x)if(_)_=!1;else{if("Left"==e.direction){if(t.index==t.elements.length-1)return N(u);t.nextSlide()}if("Right"==e.direction){if(0==t.index)return N(u);t.prevSlide()}}}});t.events.touch=D}var W=function(){function t(n,i){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e(this,t),this.img=n,this.slide=i,this.onclose=r,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",(function(t){return o.dragStart(t)}),!1),this.img.addEventListener("mouseup",(function(t){return o.dragEnd(t)}),!1),this.img.addEventListener("mousemove",(function(t){return o.drag(t)}),!1),this.img.addEventListener("click",(function(t){return o.slide.classList.contains("dragging-nav")?(o.zoomOut(),!1):o.zoomedIn?void(o.zoomedIn&&!o.dragging&&o.zoomOut()):o.zoomIn()}),!1),this.img.setZoomEvents=!0}return i(t,[{key:"zoomIn",value:function(){var t=this.widowWidth();if(!(this.zoomedIn||t<=768)){var e=this.img;if(e.setAttribute("data-style",e.getAttribute("style")),e.style.maxWidth=e.naturalWidth+"px",e.style.maxHeight=e.naturalHeight+"px",e.naturalWidth>t){var n=t/2-e.naturalWidth/2;this.setTranslate(this.img.parentNode,n,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function(t){t.preventDefault(),this.zoomedIn?("touchstart"===t.type?(this.initialX=t.touches[0].clientX-this.xOffset,this.initialY=t.touches[0].clientY-this.yOffset):(this.initialX=t.clientX-this.xOffset,this.initialY=t.clientY-this.yOffset),t.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(t){var e=this;t.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){e.dragging=!1,e.img.isDragging=!1,e.img.classList.remove("dragging")}),100)}},{key:"drag",value:function(t){this.active&&(t.preventDefault(),"touchmove"===t.type?(this.currentX=t.touches[0].clientX-this.initialX,this.currentY=t.touches[0].clientY-this.initialY):(this.currentX=t.clientX-this.initialX,this.currentY=t.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(t){if(this.zoomedIn){var e=t.clientX-this.img.naturalWidth/2,n=t.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,e,n)}}},{key:"setTranslate",value:function(t,e,n){t.style.transform="translate3d("+e+"px, "+n+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),t}(),q=function(){function t(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t);var o=i.dragEl,r=i.toleranceX,s=void 0===r?40:r,a=i.toleranceY,l=void 0===a?65:a,u=i.slide,c=void 0===u?null:u,h=i.instance,d=void 0===h?null:h;this.el=o,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=s,this.toleranceY=l,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=c,this.instance=d,this.el.addEventListener("mousedown",(function(t){return n.dragStart(t)}),!1),this.el.addEventListener("mouseup",(function(t){return n.dragEnd(t)}),!1),this.el.addEventListener("mousemove",(function(t){return n.drag(t)}),!1)}return i(t,[{key:"dragStart",value:function(t){if(this.slide.classList.contains("zoomed"))this.active=!1;else{"touchstart"===t.type?(this.initialX=t.touches[0].clientX-this.xOffset,this.initialY=t.touches[0].clientY-this.yOffset):(this.initialX=t.clientX-this.xOffset,this.initialY=t.clientY-this.yOffset);var e=t.target.nodeName.toLowerCase();t.target.classList.contains("nodrag")||p(t.target,".nodrag")||-1!==["input","select","textarea","button","a"].indexOf(e)?this.active=!1:(t.preventDefault(),(t.target===this.el||"img"!==e&&p(t.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=p(t.target,".ginner-container")))}}},{key:"dragEnd",value:function(t){var e=this;t&&t.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,"right"==this.doSlideChange&&this.instance.prevSlide(),"left"==this.doSlideChange&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout((function(){e.instance.preventOutsideClick=!1,e.toleranceReached=!1,e.lastDirection=null,e.dragging=!1,e.el.isDragging=!1,e.el.classList.remove("dragging"),e.slide.classList.remove("dragging-nav"),e.dragContainer.style.transform="",e.dragContainer.style.transition=""}),100)}},{key:"drag",value:function(t){if(this.active){t.preventDefault(),this.slide.classList.add("dragging-nav"),"touchmove"===t.type?(this.currentX=t.touches[0].clientX-this.initialX,this.currentY=t.touches[0].clientY-this.initialY):(this.currentX=t.clientX-this.initialX,this.currentY=t.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var e=Math.abs(this.currentX),n=Math.abs(this.currentY);if(e>0&&e>=Math.abs(this.currentY)&&(!this.lastDirection||"x"==this.lastDirection)){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var i=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&i&&(this.doSlideChange=i),this.instance.settings.dragAutoSnap&&i)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),"right"==i&&this.instance.prevSlide(),void("left"==i&&this.instance.nextSlide())}if(this.toleranceY>0&&n>0&&n>=e&&(!this.lastDirection||"y"==this.lastDirection)){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var o=this.shouldClose();return!this.instance.settings.dragAutoSnap&&o&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&o&&this.instance.close())}}}},{key:"shouldChange",value:function(){var t=!1;if(Math.abs(this.currentX)>=this.toleranceX){var e=this.currentX>0?"right":"left";("left"==e&&this.slide!==this.slide.parentNode.lastChild||"right"==e&&this.slide!==this.slide.parentNode.firstChild)&&(t=e)}return t}},{key:"shouldClose",value:function(){var t=!1;return Math.abs(this.currentY)>=this.toleranceY&&(t=!0),t}},{key:"setTranslate",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.style.transition=i?"all .2s ease":"",t.style.transform="translate3d(".concat(e,"px, ").concat(n,"px, 0)")}}]),t}();function H(t,e,n,i){var o=t.querySelector(".gslide-media"),r=new Image,s="gSlideTitle_"+n,a="gSlideDesc_"+n;r.addEventListener("load",(function(){S(i)&&i()}),!1),r.src=e.href,r.alt="",""!==e.title&&r.setAttribute("aria-labelledby",s),""!==e.description&&r.setAttribute("aria-describedby",a),o.insertBefore(r,o.firstChild)}function Y(t,e,n,i){var o=this,r=t.querySelector(".ginner-container"),s="gvideo"+n,a=t.querySelector(".gslide-media"),l=this.getAllPlayers();h(r,"gvideo-container"),a.insertBefore(_('<div class="gvideo-wrapper"></div>'),a.firstChild);var u=t.querySelector(".gvideo-wrapper");T(this.settings.plyr.css,"Plyr");var c=e.href,d=location.protocol.replace(":",""),f="",p="",m=!1;"file"==d&&(d="http"),a.style.maxWidth=e.width,T(this.settings.plyr.js,"Plyr",(function(){if(c.match(/vimeo\.com\/([0-9]*)/)){var t=/vimeo.*\/(\d+)/i.exec(c);f="vimeo",p=t[1]}if(c.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||c.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||c.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)){var r=function(t){return void 0!==(t=t.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?t[2].split(/[^0-9a-z_\-]/i)[0]:t}(c);f="youtube",p=r}if(null!==c.match(/\.(mp4|ogg|webm|mov)$/)){f="local";var a='<video id="'+s+'" ';a+='style="background:#000; max-width: '.concat(e.width,';" '),a+='preload="metadata" ',a+='x-webkit-airplay="allow" ',a+='webkit-playsinline="" ',a+="controls ",a+='class="gvideo-local">';var d=c.toLowerCase().split(".").pop(),v={mp4:"",ogg:"",webm:""};for(var g in v[d="mov"==d?"mp4":d]=c,v)if(v.hasOwnProperty(g)){var y=v[g];e.hasOwnProperty(g)&&(y=e[g]),""!==y&&(a+='<source src="'.concat(y,'" type="video/').concat(g,'">'))}m=_(a+="</video>")}var b=m||_('<div id="'.concat(s,'" data-plyr-provider="').concat(f,'" data-plyr-embed-id="').concat(p,'"></div>'));h(u,"".concat(f,"-video gvideo")),u.appendChild(b),u.setAttribute("data-id",s),u.setAttribute("data-index",n);var x=z(o.settings.plyr,"config")?o.settings.plyr.config:{},w=new Plyr("#"+s,x);w.on("ready",(function(t){var e=t.detail.plyr;l[s]=e,S(i)&&i()})),w.on("enterfullscreen",X),w.on("exitfullscreen",X)}))}function X(t){var e=p(t.target,".gslide-media");"enterfullscreen"==t.type&&h(e,"fullscreen"),"exitfullscreen"==t.type&&d(e,"fullscreen")}function V(t,e,n,i){var o,r=this,s=t.querySelector(".gslide-media"),a=!(!z(e,"href")||!e.href)&&e.href.split("#").pop().trim(),l=!(!z(e,"content")||!e.content)&&e.content;if(l&&(P(l)&&(o=_('<div class="ginlined-content">'.concat(l,"</div>"))),M(l))){"none"==l.style.display&&(l.style.display="block");var u=document.createElement("div");u.className="ginlined-content",u.appendChild(l),o=u}if(a){var d=document.getElementById(a);if(!d)return!1;var f=d.cloneNode(!0);f.style.height=e.height,f.style.maxWidth=e.width,h(f,"ginlined-content"),o=f}if(!o)return console.error("Unable to append inline slide content",e),!1;s.style.height=e.height,s.style.width=e.width,s.appendChild(o),this.events["inlineclose"+a]=c("click",{onElement:s.querySelectorAll(".gtrigger-close"),withCallback:function(t){t.preventDefault(),r.close()}}),S(i)&&i()}function U(t,e,n,i){var o=t.querySelector(".gslide-media"),r=function(t){var e=t.url,n=t.allow,i=t.callback,o=t.appendTo,r=document.createElement("iframe");return r.className="vimeo-video gvideo",r.src=e,r.style.width="100%",r.style.height="100%",n&&r.setAttribute("allow",n),r.onload=function(){h(r,"node-ready"),S(i)&&i()},o&&o.appendChild(r),r}({url:e.href,callback:i});o.parentNode.style.maxWidth=e.width,o.parentNode.style.height=e.height,o.appendChild(r)}var G=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),this.defaults={href:"",title:"",type:"",description:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},I(n)&&(this.defaults=a(this.defaults,n))}return i(t,[{key:"sourceType",value:function(t){var e=t;return null!==(t=t.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|svg)$/)?"image":t.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||t.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||t.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||t.match(/vimeo\.com\/([0-9]*)/)||null!==t.match(/\.(mp4|ogg|webm|mov)$/)?"video":null!==t.match(/\.(mp3|wav|wma|aac|ogg)$/)?"audio":t.indexOf("#")>-1&&""!==e.split("#").pop().trim()?"inline":t.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(t,e){var n=this,i=a({descPosition:e.descPosition},this.defaults);if(I(t)&&!M(t)){z(t,"type")||(z(t,"content")&&t.content?t.type="inline":z(t,"href")&&(t.type=this.sourceType(t.href)));var o=a(i,t);return this.setSize(o,e),o}var r="",s=t.getAttribute("data-glightbox"),u=t.nodeName.toLowerCase();if("a"===u&&(r=t.href),"img"===u&&(r=t.src),i.href=r,l(i,(function(o,r){z(e,r)&&"width"!==r&&(i[r]=e[r]);var s=t.dataset[r];C(s)||(i[r]=n.sanitizeValue(s))})),i.content&&(i.type="inline"),!i.type&&r&&(i.type=this.sourceType(r)),C(s)){if(!i.title&&"a"==u){var c=t.title;C(c)||""===c||(i.title=c)}if(!i.title&&"img"==u){var h=t.alt;C(h)||""===h||(i.title=h)}}else{var d=[];l(i,(function(t,e){d.push(";\\s?"+e)})),d=d.join("\\s?:|"),""!==s.trim()&&l(i,(function(t,e){var o=s,r=new RegExp("s?"+e+"s?:s?(.*?)("+d+"s?:|$)"),a=o.match(r);if(a&&a.length&&a[1]){var l=a[1].trim().replace(/;\s*$/,"");i[e]=n.sanitizeValue(l)}}))}if(i.description&&"."==i.description.substring(0,1)&&document.querySelector(i.description))i.description=document.querySelector(i.description).innerHTML;else{var f=t.querySelector(".glightbox-desc");f&&(i.description=f.innerHTML)}return this.setSize(i,e),this.slideConfig=i,i}},{key:"setSize",value:function(t,e){var n="video"==t.type?this.checkSize(e.videosWidth):this.checkSize(e.width),i=this.checkSize(e.height);return t.width=z(t,"width")&&""!==t.width?this.checkSize(t.width):n,t.height=z(t,"height")&&""!==t.height?this.checkSize(t.height):i,t}},{key:"checkSize",value:function(t){return A(t)?"".concat(t,"px"):t}},{key:"sanitizeValue",value:function(t){return"true"!==t&&"false"!==t?t:"true"===t}}]),t}(),$=function(){function t(n,i,o){e(this,t),this.element=n,this.instance=i,this.index=o}return i(t,[{key:"setContent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(f(e,"loaded"))return!1;var i=this.instance.settings,o=this.slideConfig,r=E();S(i.beforeSlideLoad)&&i.beforeSlideLoad({index:this.index,slide:e,player:!1});var s=o.type,a=o.descPosition,l=e.querySelector(".gslide-media"),u=e.querySelector(".gslide-title"),c=e.querySelector(".gslide-desc"),d=e.querySelector(".gdesc-inner"),p=n,m="gSlideTitle_"+this.index,v="gSlideDesc_"+this.index;if(S(i.afterSlideLoad)&&(p=function(){S(n)&&n(),i.afterSlideLoad({index:t.index,slide:e,player:t.instance.getSlidePlayerInstance(t.index)})}),""==o.title&&""==o.description?d&&d.parentNode.parentNode.removeChild(d.parentNode):(u&&""!==o.title?(u.id=m,u.innerHTML=o.title):u.parentNode.removeChild(u),c&&""!==o.description?(c.id=v,r&&i.moreLength>0?(o.smallDescription=this.slideShortDesc(o.description,i.moreLength,i.moreText),c.innerHTML=o.smallDescription,this.descriptionEvents(c,o)):c.innerHTML=o.description):c.parentNode.removeChild(c),h(l.parentNode,"desc-".concat(a)),h(d.parentNode,"description-".concat(a))),h(l,"gslide-".concat(s)),h(e,"loaded"),"video"!==s){if("external"!==s)return"inline"===s?(V.apply(this.instance,[e,o,this.index,p]),void(i.draggable&&new q({dragEl:e.querySelector(".gslide-inline"),toleranceX:i.dragToleranceX,toleranceY:i.dragToleranceY,slide:e,instance:this.instance}))):void("image"!==s?S(p)&&p():H(e,o,this.index,(function(){var n=e.querySelector("img");i.draggable&&new q({dragEl:n,toleranceX:i.dragToleranceX,toleranceY:i.dragToleranceY,slide:e,instance:t.instance}),o.zoomable&&n.naturalWidth>n.offsetWidth&&(h(n,"zoomable"),new W(n,e,(function(){t.instance.resize()}))),S(p)&&p()})));U.apply(this,[e,o,this.index,p])}else Y.apply(this.instance,[e,o,this.index,p])}},{key:"slideShortDesc",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");i.innerHTML=t;var o=i.innerText,r=n;if((t=o.trim()).length<=e)return t;var s=t.substr(0,e-1);return r?(i=null,s+'... <a href="#" class="desc-more">'+n+"</a>"):s}},{key:"descriptionEvents",value:function(t,e){var n=this,i=t.querySelector(".desc-more");if(!i)return!1;c("click",{onElement:i,withCallback:function(t,i){t.preventDefault();var o=document.body,r=p(i,".gslide-desc");if(!r)return!1;r.innerHTML=e.description,h(o,"gdesc-open");var s=c("click",{onElement:[o,p(r,".gslide-description")],withCallback:function(t,i){"a"!==t.target.nodeName.toLowerCase()&&(d(o,"gdesc-open"),h(o,"gdesc-closed"),r.innerHTML=e.smallDescription,n.descriptionEvents(r,e),setTimeout((function(){d(o,"gdesc-closed")}),400),s.destroy())}})}})}},{key:"create",value:function(){return _(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){var t=new G(this.instance.settings.slideExtraAttributes);return this.slideConfig=t.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),t}(),K=E(),Q=null!==E()||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,J=document.getElementsByTagName("html")[0],tt={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.3/plyr.css",js:"https://cdn.plyr.io/3.6.3/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:'<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',lightboxHTML:'<div id="glightbox-body" class="glightbox-container">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gnext gbtn" tabindex="0" aria-label="Next">{nextSVG}</button>\n    <button class="gprev gbtn" tabindex="1" aria-label="Previous">{prevSVG}</button>\n    <button class="gclose gbtn" tabindex="2" aria-label="Close">{closeSVG}</button>\n</div>\n</div>'},et=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),this.settings=a(tt,n),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return i(t,[{key:"init",value:function(){var t=this,e=this.getSelector();e&&(this.baseEvents=c("click",{onElement:e,withCallback:function(e,n){e.preventDefault(),t.open(n)}})),this.elements=this.getElements()}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0==this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var n=A(e)?e:this.settings.startAt;if(M(t)){var i=t.getAttribute("data-gallery");i&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,i)),C(n)&&(n=this.getElementIndex(t))<0&&(n=0)}A(n)||(n=0),this.build(),m(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var o=document.body,r=window.innerWidth-document.documentElement.clientWidth;if(r>0){var s=document.createElement("style");s.type="text/css",s.className="gcss-styles",s.innerText=".gscrollbar-fixer {margin-right: ".concat(r,"px}"),document.head.appendChild(s),h(o,"gscrollbar-fixer")}h(o,"glightbox-open"),h(J,"glightbox-open"),K&&(h(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(n,!0),1==this.elements.length?(h(this.prevButton,"glightbox-button-hidden"),h(this.nextButton,"glightbox-button-hidden")):(d(this.prevButton,"glightbox-button-hidden"),d(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),S(this.settings.onOpen)&&this.settings.onOpen(),Q&&this.settings.touchNavigation&&F(this),this.settings.keyboardNavigation&&B(this)}},{key:"openAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.open(null,t)}},{key:"showSlide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(this.loader),this.index=parseInt(e);var i=this.slidesContainer.querySelector(".current");i&&d(i,"current"),this.slideAnimateOut();var o=this.slidesContainer.querySelectorAll(".gslide")[e];if(f(o,"loaded"))this.slideAnimateIn(o,n),y(this.loader);else{g(this.loader);var r=this.elements[e],s={index:this.index,slide:o,slideNode:o,slideConfig:r.slideConfig,slideIndex:this.index,trigger:r.node,player:null};this.trigger("slide_before_load",s),r.instance.setContent(o,(function(){y(t.loader),t.resize(),t.slideAnimateIn(o,n),t.trigger("slide_after_load",s)}))}this.slideDescription=o.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&f(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(e+1),this.preloadSlide(e-1)),this.updateNavigationClasses(),this.activeSlide=o}},{key:"preloadSlide",value:function(t){var e=this;if(t<0||t>this.elements.length-1)return!1;if(C(this.elements[t]))return!1;var n=this.slidesContainer.querySelectorAll(".gslide")[t];if(f(n,"loaded"))return!1;var i=this.elements[t],o=i.type,r={index:t,slide:n,slideNode:n,slideConfig:i.slideConfig,slideIndex:t,trigger:i.node,player:null};this.trigger("slide_before_load",r),"video"==o||"external"==o?setTimeout((function(){i.instance.setContent(n,(function(){e.trigger("slide_after_load",r)}))}),200):i.instance.setContent(n,(function(){e.trigger("slide_after_load",r)}))}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(t<0||t>this.elements.length-1))return!1;t<0?t=this.elements.length-1:t>=this.elements.length&&(t=0),this.showSlide(t)}},{key:"insertSlide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;e<0&&(e=this.elements.length);var n=new $(t,this,e),i=n.getConfig(),o=a({},i),r=n.create(),s=this.elements.length-1;o.index=e,o.node=!1,o.instance=n,o.slideConfig=i,this.elements.splice(e,0,o);var l=null,u=null;if(this.slidesContainer){if(e>s)this.slidesContainer.appendChild(r);else{var c=this.slidesContainer.querySelectorAll(".gslide")[e];this.slidesContainer.insertBefore(r,c)}(this.settings.preload&&0==this.index&&0==e||this.index-1==e||this.index+1==e)&&this.preloadSlide(e),0==this.index&&0==e&&(this.index=1),this.updateNavigationClasses(),l=this.slidesContainer.querySelectorAll(".gslide")[e],u=this.getSlidePlayerInstance(e),o.slideNode=l}this.trigger("slide_inserted",{index:e,slide:l,slideNode:l,slideConfig:i,slideIndex:e,trigger:null,player:u}),S(this.settings.slideInserted)&&this.settings.slideInserted({index:e,slide:l,player:u})}},{key:"removeSlide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(t<0||t>this.elements.length-1)return!1;var e=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[t];e&&(this.getActiveSlideIndex()==t&&(t==this.elements.length-1?this.prevSlide():this.nextSlide()),e.parentNode.removeChild(e)),this.elements.splice(t,1),this.trigger("slide_removed",t),S(this.settings.slideRemoved)&&this.settings.slideRemoved(t)}},{key:"slideAnimateIn",value:function(t,e){var n=this,i=t.querySelector(".gslide-media"),o=t.querySelector(".gslide-description"),r={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:C(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:C(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},s={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(i.offsetWidth>0&&o&&(y(o),o.style.display=""),d(t,this.effectsClasses),e)m(t,this.settings.cssEfects[this.settings.openEffect].in,(function(){n.settings.autoplayVideos&&n.slidePlayerPlay(t),n.trigger("slide_changed",{prev:r,current:s}),S(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[r,s])}));else{var a=this.settings.slideEffect,l="none"!==a?this.settings.cssEfects[a].in:a;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(l=this.settings.cssEfects.slideBack.in),m(t,l,(function(){n.settings.autoplayVideos&&n.slidePlayerPlay(t),n.trigger("slide_changed",{prev:r,current:s}),S(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[r,s])}))}setTimeout((function(){n.resize(t)}),100),h(t,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var t=this.prevActiveSlide;d(t,this.effectsClasses),h(t,"prev");var e=this.settings.slideEffect,n="none"!==e?this.settings.cssEfects[e].out:e;this.slidePlayerPause(t),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:C(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:C(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),S(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(n=this.settings.cssEfects.slideBack.out),m(t,n,(function(){var e=t.querySelector(".gslide-media"),n=t.querySelector(".gslide-description");e.style.transform="",d(e,"greset"),e.style.opacity="",n&&(n.style.opacity=""),d(t,"prev")}))}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(t){var e="gvideo"+t,n=this.getAllPlayers();return!(!z(n,e)||!n[e])&&n[e]}},{key:"stopSlideVideo",value:function(t){if(M(t)){var e=t.querySelector(".gvideo-wrapper");e&&(t=e.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var n=this.getSlidePlayerInstance(t);n&&n.playing&&n.pause()}},{key:"slidePlayerPause",value:function(t){if(M(t)){var e=t.querySelector(".gvideo-wrapper");e&&(t=e.getAttribute("data-index"))}var n=this.getSlidePlayerInstance(t);n&&n.playing&&n.pause()}},{key:"playSlideVideo",value:function(t){if(M(t)){var e=t.querySelector(".gvideo-wrapper");e&&(t=e.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var n=this.getSlidePlayerInstance(t);n&&!n.playing&&n.play()}},{key:"slidePlayerPlay",value:function(t){if(M(t)){var e=t.querySelector(".gvideo-wrapper");e&&(t=e.getAttribute("data-index"))}var n=this.getSlidePlayerInstance(t);console.log("Player is"),console.log(n),n&&!n.playing&&(n.play(),this.settings.autofocusVideos&&n.elements.container.focus())}},{key:"setElements",value:function(t){var e=this;this.settings.elements=!1;var n=[];t&&t.length&&l(t,(function(t,i){var o=new $(t,e,i),r=o.getConfig(),s=a({},r);s.slideConfig=r,s.instance=o,s.index=i,n.push(s)})),this.elements=n,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(l(this.elements,(function(){var t=_(e.settings.slideHTML);e.slidesContainer.appendChild(t)})),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(t){var e=!1;return l(this.elements,(function(n,i){if(z(n,"node")&&n.node==t)return e=i,!0})),e}},{key:"getElements",value:function(){var t=this,e=[];this.elements=this.elements?this.elements:[],!C(this.settings.elements)&&k(this.settings.elements)&&this.settings.elements.length&&l(this.settings.elements,(function(n,i){var o=new $(n,t,i),r=o.getConfig(),s=a({},r);s.node=!1,s.index=i,s.instance=o,s.slideConfig=r,e.push(s)}));var n=!1;return this.getSelector()&&(n=document.querySelectorAll(this.getSelector())),n?(l(n,(function(n,i){var o=new $(n,t,i),r=o.getConfig(),s=a({},r);s.node=n,s.index=i,s.instance=o,s.slideConfig=r,s.gallery=n.getAttribute("data-gallery"),e.push(s)})),e):e}},{key:"getGalleryElements",value:function(t,e){return t.filter((function(t){return t.gallery==e}))}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&"data-"==this.settings.selector.substring(0,5)?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var t=[];for(var e in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(e)){var n=this.settings.cssEfects[e];t.push("g".concat(n.in)),t.push("g".concat(n.out))}return t.join(" ")}},{key:"build",value:function(){var t=this;if(this.built)return!1;var e=z(this.settings.svg,"next")?this.settings.svg.next:"",n=z(this.settings.svg,"prev")?this.settings.svg.prev:"",i=z(this.settings.svg,"close")?this.settings.svg.close:"",o=this.settings.lightboxHTML;o=_(o=(o=(o=o.replace(/{nextSVG}/g,e)).replace(/{prevSVG}/g,n)).replace(/{closeSVG}/g,i)),document.body.appendChild(o);var r=document.getElementById("glightbox-body");this.modal=r;var s=r.querySelector(".gclose");this.prevButton=r.querySelector(".gprev"),this.nextButton=r.querySelector(".gnext"),this.overlay=r.querySelector(".goverlay"),this.loader=r.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.events={},h(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&s&&(this.events.close=c("click",{onElement:s,withCallback:function(e,n){e.preventDefault(),t.close()}})),s&&!this.settings.closeButton&&s.parentNode.removeChild(s),this.nextButton&&(this.events.next=c("click",{onElement:this.nextButton,withCallback:function(e,n){e.preventDefault(),t.nextSlide()}})),this.prevButton&&(this.events.prev=c("click",{onElement:this.prevButton,withCallback:function(e,n){e.preventDefault(),t.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=c("click",{onElement:r,withCallback:function(e,n){t.preventOutsideClick||f(document.body,"glightbox-mobile")||p(e.target,".ginner-container")||p(e.target,".gbtn")||f(e.target,"gnext")||f(e.target,"gprev")||t.close()}})),l(this.elements,(function(e,n){t.slidesContainer.appendChild(e.instance.create()),e.slideNode=t.slidesContainer.querySelectorAll(".gslide")[n]})),Q&&h(document.body,"glightbox-touch"),this.events.resize=c("resize",{onElement:window,withCallback:function(){t.resize()}}),this.built=!0}},{key:"resize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((t=t||this.activeSlide)&&!f(t,"zoomed")){var e=b(),n=t.querySelector(".gvideo-wrapper"),i=t.querySelector(".gslide-image"),o=this.slideDescription,r=e.width,s=e.height;if(r<=768?h(document.body,"glightbox-mobile"):d(document.body,"glightbox-mobile"),n||i){var a=!1;if(o&&(f(o,"description-bottom")||f(o,"description-top"))&&!f(o,"gabsolute")&&(a=!0),i)if(r<=768){var l=i.querySelector("img");l.setAttribute("style","")}else if(a){var u=o.offsetHeight,c=i.querySelector("img");c.setAttribute("style","max-height: calc(100vh - ".concat(u,"px)")),o.setAttribute("style","max-width: ".concat(c.offsetWidth,"px;"))}if(n){var p=z(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"16:9",m=p.split(":"),v=900,g=v/(parseInt(m[0])/parseInt(m[1]));if(g=Math.floor(g),a&&(s-=o.offsetHeight),s<g&&r>v){var y=n.offsetWidth,_=n.offsetHeight,x=s/_,w={width:y*x,height:_*x};n.parentNode.setAttribute("style","max-width: ".concat(w.width,"px")),a&&o.setAttribute("style","max-width: ".concat(w.width,"px;"))}else n.parentNode.style.maxWidth="".concat(v,"px"),a&&o.setAttribute("style","max-width: ".concat(v,"px;"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var t=this.loop();d(this.nextButton,"disabled"),d(this.prevButton,"disabled"),0==this.index&&this.elements.length-1==0?(h(this.prevButton,"disabled"),h(this.nextButton,"disabled")):0!==this.index||t?this.index!==this.elements.length-1||t||h(this.nextButton,"disabled"):h(this.prevButton,"disabled")}},{key:"loop",value:function(){var t=z(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return t=z(this.settings,"loop")?this.settings.loop:t}},{key:"close",value:function(){var t=this;if(!this.lightboxOpen){if(this.events){for(var e in this.events)this.events.hasOwnProperty(e)&&this.events[e].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),h(this.modal,"glightbox-closing"),m(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),m(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,(function(){if(t.activeSlide=null,t.prevActiveSlideIndex=null,t.prevActiveSlide=null,t.built=!1,t.events){for(var e in t.events)t.events.hasOwnProperty(e)&&t.events[e].destroy();t.events=null}var n=document.body;d(J,"glightbox-open"),d(n,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),t.modal.parentNode.removeChild(t.modal),t.trigger("close"),S(t.settings.onClose)&&t.settings.onClose();var i=document.querySelector(".gcss-styles");i&&i.parentNode.removeChild(i),t.lightboxOpen=!1,t.closing=null}))}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||!S(e))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:t,once:n,callback:e})}},{key:"once",value:function(t,e){this.on(t,e,!0)}},{key:"trigger",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=[];l(this.apiEvents,(function(e,o){var r=e.evt,s=e.once,a=e.callback;r==t&&(a(n),s&&i.push(o))})),i.length&&l(i,(function(t){return e.apiEvents.splice(t,1)}))}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.0.7"}}]),t}();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new et(t);return e.init(),e}}()},function(t,e,n){"use strict";var i=n(5),o=n(18),r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,s={},a={}.hasOwnProperty;function l(t){for(var e in t)if(a.call(t,e))return!1;return!0}function u(t){for(var e,n="div",i=[],o={};e=r.exec(t);){var a=e[1],l=e[2];if(""===a&&""!==l)n=l;else if("#"===a)o.id=l;else if("."===a)i.push(l);else if("["===e[3][0]){var u=e[6];u&&(u=u.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?i.push(u):o[e[4]]=""===u?u:u||!0}}return i.length>0&&(o.className=i.join(" ")),s[t]={tag:n,attrs:o}}function c(t,e){var n=e.attrs,o=i.normalizeChildren(e.children),r=a.call(n,"class"),s=r?n.class:n.className;if(e.tag=t.tag,e.attrs=null,e.children=void 0,!l(t.attrs)&&!l(n)){var u={};for(var c in n)a.call(n,c)&&(u[c]=n[c]);n=u}for(var c in t.attrs)a.call(t.attrs,c)&&"className"!==c&&!a.call(n,c)&&(n[c]=t.attrs[c]);for(var c in null==s&&null==t.attrs.className||(n.className=null!=s?null!=t.attrs.className?String(t.attrs.className)+" "+String(s):s:null!=t.attrs.className?t.attrs.className:null),r&&(n.class=null),n)if(a.call(n,c)&&"key"!==c){e.attrs=n;break}return Array.isArray(o)&&1===o.length&&null!=o[0]&&"#"===o[0].tag?e.text=o[0].children:e.children=o,e}t.exports=function(t){if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");var e=o.apply(1,arguments);return"string"==typeof t&&(e.children=i.normalizeChildren(e.children),"["!==t)?c(s[t]||u(t),e):(e.tag=t,e)}},function(t,e,n){"use strict";var i=n(5);t.exports=function(){var t,e=arguments[this],n=this+1;if(null==e?e={}:("object"!=typeof e||null!=e.tag||Array.isArray(e))&&(e={},n=this),arguments.length===n+1)t=arguments[n],Array.isArray(t)||(t=[t]);else for(t=[];n<arguments.length;)t.push(arguments[n++]);return i("",e.key,e,t)}},function(t,e,n){"use strict";(function(e){var i=n(20);"undefined"!=typeof window?(void 0===window.Promise?window.Promise=i:window.Promise.prototype.finally||(window.Promise.prototype.finally=i.prototype.finally),t.exports=window.Promise):void 0!==e?(void 0===e.Promise?e.Promise=i:e.Promise.prototype.finally||(e.Promise.prototype.finally=i.prototype.finally),t.exports=e.Promise):t.exports=i}).call(this,n(8))},function(t,e,n){"use strict";(function(e){var n=function(t){if(!(this instanceof n))throw new Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var i=this,o=[],r=[],s=c(o,!0),a=c(r,!1),l=i._instance={resolvers:o,rejectors:r},u="function"==typeof e?e:setTimeout;function c(t,e){return function n(s){var c;try{if(!e||null==s||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof(c=s.then))u((function(){e||0!==t.length||console.error("Possible unhandled promise rejection:",s);for(var i=0;i<t.length;i++)t[i](s);o.length=0,r.length=0,l.state=e,l.retry=function(){n(s)}}));else{if(s===i)throw new TypeError("Promise can't be resolved w/ itself");h(c.bind(s))}}catch(t){a(t)}}}function h(t){var e=0;function n(t){return function(n){e++>0||t(n)}}var i=n(a);try{t(n(s),i)}catch(t){i(t)}}h(t)};n.prototype.then=function(t,e){var i,o,r=this._instance;function s(t,e,n,s){e.push((function(e){if("function"!=typeof t)n(e);else try{i(t(e))}catch(t){o&&o(t)}})),"function"==typeof r.retry&&s===r.state&&r.retry()}var a=new n((function(t,e){i=t,o=e}));return s(t,r.resolvers,i,!0),s(e,r.rejectors,o,!1),a},n.prototype.catch=function(t){return this.then(null,t)},n.prototype.finally=function(t){return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))},n.resolve=function(t){return t instanceof n?t:new n((function(e){e(t)}))},n.reject=function(t){return new n((function(e,n){n(t)}))},n.all=function(t){return new n((function(e,n){var i=t.length,o=0,r=[];if(0===t.length)e([]);else for(var s=0;s<t.length;s++)!function(s){function a(t){o++,r[s]=t,o===i&&e(r)}null==t[s]||"object"!=typeof t[s]&&"function"!=typeof t[s]||"function"!=typeof t[s].then?a(t[s]):t[s].then(a,n)}(s)}))},n.race=function(t){return new n((function(e,n){for(var i=0;i<t.length;i++)t[i].then(e,n)}))},t.exports=n}).call(this,n(21).setImmediate)},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(32),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(8))},function(t,e,n){"use strict";t.exports=n(34)(window)},function(t,e,n){"use strict";t.exports=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var n in t)i(n,t[n]);return e.join("&");function i(t,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)i(t+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)i(t+"["+o+"]",n[o]);else e.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}}},function(t,e,n){"use strict";t.exports=Object.assign||function(t,e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))}},function(t,e,n){"use strict";t.exports=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e=t.split("&"),n={},i={},o=0;o<e.length;o++){var r=e[o].split("="),s=decodeURIComponent(r[0]),a=2===r.length?decodeURIComponent(r[1]):"";"true"===a?a=!0:"false"===a&&(a=!1);var l=s.split(/\]\[?|\[/),u=i;s.indexOf("[")>-1&&l.pop();for(var c=0;c<l.length;c++){var h=l[c],d=l[c+1],f=""==d||!isNaN(parseInt(d,10));if(""===h)null==n[s=l.slice(0,c).join()]&&(n[s]=Array.isArray(u)?u.length:0),h=n[s]++;else if("__proto__"===h)break;if(c===l.length-1)u[h]=a;else{var p=Object.getOwnPropertyDescriptor(u,h);null!=p&&(p=p.value),null==p&&(u[h]=p=f?[]:{}),u=p}}}return i}},function(t,e,n){var i,o,r;
/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */window,o=[n(43),n(15)],void 0===(r="function"==typeof(i=function(t,e){"use strict";var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,s=i-o%i;r=Math[s&&s<1?"round":"floor"](r),this.cols=Math.max(r,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),o={x:this.columnWidth*i.col,y:i.y},r=i.y+t.size.outerHeight,s=n+i.col,a=i.col;a<s;a++)this.colYs[a]=r;return o},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},i._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++)e[i]=this._getColGroupY(i,t);return e},i._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;n=t>1&&n+t>this.cols?0:n;var i=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=i?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},i._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this._getOption("originLeft")?i.left:i.right,r=o+n.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,u=s;u<=a;u++)this.colYs[u]=Math.max(l,this.colYs[u])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){var i,o;
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */!function(r,s){"use strict";i=[n(14)],void 0===(o=function(t){return function(t,e){var n=t.jQuery,i=t.console;function o(t,e){for(var n in e)t[n]=e[n];return t}var r=Array.prototype.slice;function s(t,e,a){if(!(this instanceof s))return new s(t,e,a);var l,u=t;("string"==typeof t&&(u=document.querySelectorAll(t)),u)?(this.elements=(l=u,Array.isArray(l)?l:"object"==typeof l&&"number"==typeof l.length?r.call(l):[l]),this.options=o({},this.options),"function"==typeof e?a=e:o(this.options,e),a&&this.on("always",a),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):i.error("Bad element for imagesLoaded "+(u||t))}s.prototype=Object.create(e.prototype),s.prototype.options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&a[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var s=r[i];this.addElementBackgroundImages(s)}}}};var a={1:!0,9:!0,11:!0};function l(t){this.img=t}function u(t,e){this.url=t,this.element=e,this.img=new Image}return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,t),i=n.exec(e.backgroundImage)}},s.prototype.addImage=function(t){var e=new l(t);this.images.push(e)},s.prototype.addBackground=function(t,e){var n=new u(t,e);this.images.push(n)},s.prototype.check=function(){var t=this;function e(e,n,i){setTimeout((function(){t.progress(e,n,i)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(t){t.once("progress",e),t.check()})):this.complete()},s.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},l.prototype=Object.create(e.prototype),l.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},l.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype=Object.create(l.prototype),u.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},u.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},s.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((n=e).fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(n(this))})},s.makeJQueryPlugin(),s}(r,t)}.apply(e,i))||(t.exports=o)}("undefined"!=typeof window?window:this)},function(t,e,n){"use strict";var i=n(17);i.trust=n(29),i.fragment=n(30),t.exports=i},function(t,e,n){"use strict";var i=n(5);t.exports=function(t){return null==t&&(t=""),i("<",void 0,void 0,t,void 0,void 0)}},function(t,e,n){"use strict";var i=n(5),o=n(18);t.exports=function(){var t=o.apply(0,arguments);return t.tag="[",t.children=i.normalizeChildren(t.children),t}},function(t,e,n){"use strict";var i=n(19),o=n(10);t.exports=n(36)(window,i,o.redraw)},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,o,r,s,a,l=1,u={},c=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){r.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(o=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return u[l]=o,i(l),l++},d.clearImmediate=f}function f(t){delete u[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{f(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(8),n(33))},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var t=a(d);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var i=n(5);t.exports=function(t){var e,n=t&&t.document,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function r(t){return t.attrs&&t.attrs.xmlns||o[t.tag]}function s(t,e){if(t.state!==e)throw new Error("`vnode.state` must not be modified")}function a(t){var e=t.state;try{return this.apply(e,arguments)}finally{s(t,e)}}function l(){try{return n.activeElement}catch(t){return null}}function u(t,e,n,i,o,r,s){for(var a=n;a<i;a++){var l=e[a];null!=l&&c(t,l,o,s,r)}}function c(t,e,o,s,l){var h=e.tag;if("string"==typeof h)switch(e.state={},null!=e.attrs&&D(e.attrs,e,o),h){case"#":!function(t,e,i){e.dom=n.createTextNode(e.children),_(t,e.dom,i)}(t,e,l);break;case"<":d(t,e,s,l);break;case"[":!function(t,e,i,o,r){var s=n.createDocumentFragment();if(null!=e.children){var a=e.children;u(s,a,0,a.length,i,null,o)}e.dom=s.firstChild,e.domSize=s.childNodes.length,_(t,s,r)}(t,e,o,s,l);break;default:!function(t,e,o,s,a){var l=e.tag,c=e.attrs,h=c&&c.is,d=(s=r(e)||s)?h?n.createElementNS(s,l,{is:h}):n.createElementNS(s,l):h?n.createElement(l,{is:h}):n.createElement(l);e.dom=d,null!=c&&function(t,e,n){for(var i in e)P(t,i,null,e[i],n)}(e,c,s);if(_(t,d,a),!b(e)&&(null!=e.text&&(""!==e.text?d.textContent=e.text:e.children=[i("#",void 0,void 0,e.text,void 0,void 0)]),null!=e.children)){var f=e.children;u(d,f,0,f.length,o,null,s),"select"===e.tag&&null!=c&&function(t,e){if("value"in e)if(null===e.value)-1!==t.dom.selectedIndex&&(t.dom.value=null);else{var n=""+e.value;t.dom.value===n&&-1!==t.dom.selectedIndex||(t.dom.value=n)}"selectedIndex"in e&&P(t,"selectedIndex",null,e.selectedIndex,void 0)}(e,c)}}(t,e,o,s,l)}else!function(t,e,n,o,r){(function(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(n=t.state.view).$$reentrantLock$$)return;n.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(n=t.tag).$$reentrantLock$$)return;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}D(t.state,t,e),null!=t.attrs&&D(t.attrs,t,e);if(t.instance=i.normalize(a.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null})(e,n),null!=e.instance?(c(t,e.instance,n,o,r),e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0):e.domSize=0}(t,e,o,s,l)}var h={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function d(t,e,i,o){var r=e.children.match(/^\s*?<(\w+)/im)||[],s=n.createElement(h[r[1]]||"div");"http://www.w3.org/2000/svg"===i?(s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",s=s.firstChild):s.innerHTML=e.children,e.dom=s.firstChild,e.domSize=s.childNodes.length,e.instance=[];for(var a,l=n.createDocumentFragment();a=s.firstChild;)e.instance.push(a),l.appendChild(a);_(t,l,o)}function f(t,e,n,i,o,r){if(e!==n&&(null!=e||null!=n))if(null==e||0===e.length)u(t,n,0,n.length,i,o,r);else if(null==n||0===n.length)x(t,e,0,e.length);else{var s=null!=e[0]&&null!=e[0].key,a=null!=n[0]&&null!=n[0].key,l=0,h=0;if(!s)for(;h<e.length&&null==e[h];)h++;if(!a)for(;l<n.length&&null==n[l];)l++;if(null===a&&null==s)return;if(s!==a)x(t,e,h,e.length),u(t,n,l,n.length,i,o,r);else if(a){for(var d,f,_,b,T,E=e.length-1,S=n.length-1;E>=h&&S>=l&&(_=e[E],b=n[S],_.key===b.key);)_!==b&&p(t,_,b,i,o,r),null!=b.dom&&(o=b.dom),E--,S--;for(;E>=h&&S>=l&&(d=e[h],f=n[l],d.key===f.key);)h++,l++,d!==f&&p(t,d,f,i,g(e,h,o),r);for(;E>=h&&S>=l&&l!==S&&d.key===b.key&&_.key===f.key;)y(t,_,T=g(e,h,o)),_!==f&&p(t,_,f,i,T,r),++l<=--S&&y(t,d,o),d!==b&&p(t,d,b,i,o,r),null!=b.dom&&(o=b.dom),h++,_=e[--E],b=n[S],d=e[h],f=n[l];for(;E>=h&&S>=l&&_.key===b.key;)_!==b&&p(t,_,b,i,o,r),null!=b.dom&&(o=b.dom),S--,_=e[--E],b=n[S];if(l>S)x(t,e,h,E+1);else if(h>E)u(t,n,l,S+1,i,o,r);else{var P,M,k=o,L=S-l+1,I=new Array(L),C=0,z=0,O=2147483647,A=0;for(z=0;z<L;z++)I[z]=-1;for(z=S;z>=l;z--){null==P&&(P=m(e,h,E+1));var B=P[(b=n[z]).key];null!=B&&(O=B<O?B:-1,I[z-l]=B,_=e[B],e[B]=null,_!==b&&p(t,_,b,i,o,r),null!=b.dom&&(o=b.dom),A++)}if(o=k,A!==E-h+1&&x(t,e,h,E+1),0===A)u(t,n,l,S+1,i,o,r);else if(-1===O)for(C=(M=function(t){var e=[0],n=0,i=0,o=0,r=v.length=t.length;for(o=0;o<r;o++)v[o]=t[o];for(o=0;o<r;++o)if(-1!==t[o]){var s=e[e.length-1];if(t[s]<t[o])v[o]=s,e.push(o);else{for(n=0,i=e.length-1;n<i;){var a=(n>>>1)+(i>>>1)+(n&i&1);t[e[a]]<t[o]?n=a+1:i=a}t[o]<t[e[n]]&&(n>0&&(v[o]=e[n-1]),e[n]=o)}}n=e.length,i=e[n-1];for(;n-- >0;)e[n]=i,i=v[i];return v.length=0,e}(I)).length-1,z=S;z>=l;z--)f=n[z],-1===I[z-l]?c(t,f,i,r,o):M[C]===z-l?C--:y(t,f,o),null!=f.dom&&(o=n[z].dom);else for(z=S;z>=l;z--)f=n[z],-1===I[z-l]&&c(t,f,i,r,o),null!=f.dom&&(o=n[z].dom)}}else{var D=e.length<n.length?e.length:n.length;for(l=l<h?l:h;l<D;l++)(d=e[l])===(f=n[l])||null==d&&null==f||(null==d?c(t,f,i,r,g(e,l+1,o)):null==f?w(t,d):p(t,d,f,i,g(e,l+1,o),r));e.length>D&&x(t,e,l,e.length),n.length>D&&u(t,n,l,n.length,i,o,r)}}}function p(t,e,n,o,s,l){var u=e.tag;if(u===n.tag){if(n.state=e.state,n.events=e.events,function(t,e){do{var n;if(null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate)if(void 0!==(n=a.call(t.attrs.onbeforeupdate,t,e))&&!n)break;if("string"!=typeof t.tag&&"function"==typeof t.state.onbeforeupdate)if(void 0!==(n=a.call(t.state.onbeforeupdate,t,e))&&!n)break;return!1}while(0);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}(n,e))return;if("string"==typeof u)switch(null!=n.attrs&&j(n.attrs,n,o),u){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children);e.dom=t.dom}(e,n);break;case"<":!function(t,e,n,i,o){e.children!==n.children?(T(t,e),d(t,n,i,o)):(n.dom=e.dom,n.domSize=e.domSize,n.instance=e.instance)}(t,e,n,l,s);break;case"[":!function(t,e,n,i,o,r){f(t,e.children,n.children,i,o,r);var s=0,a=n.children;if(n.dom=null,null!=a){for(var l=0;l<a.length;l++){var u=a[l];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),s+=u.domSize||1)}1!==s&&(n.domSize=s)}}(t,e,n,o,s,l);break;default:!function(t,e,n,o){var s=e.dom=t.dom;o=r(e)||o,"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0));(function(t,e,n,i){if(null!=n)for(var o in n)P(t,o,e&&e[o],n[o],i);var r;if(null!=e)for(var o in e)null==(r=e[o])||null!=n&&null!=n[o]||M(t,o,r,i)})(e,t.attrs,e.attrs,o),b(e)||(null!=t.text&&null!=e.text&&""!==e.text?t.text.toString()!==e.text.toString()&&(t.dom.firstChild.nodeValue=e.text):(null!=t.text&&(t.children=[i("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=e.text&&(e.children=[i("#",void 0,void 0,e.text,void 0,void 0)]),f(s,t.children,e.children,n,null,o)))}(e,n,o,l)}else!function(t,e,n,o,r,s){if(n.instance=i.normalize(a.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");j(n.state,n,o),null!=n.attrs&&j(n.attrs,n,o);null!=n.instance?(null==e.instance?c(t,n.instance,o,s,r):p(t,e.instance,n.instance,o,r,s),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=e.instance?(w(t,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,o,s,l)}else w(t,e),c(t,n,o,l,s)}function m(t,e,n){for(var i=Object.create(null);e<n;e++){var o=t[e];if(null!=o){var r=o.key;null!=r&&(i[r]=e)}}return i}var v=[];function g(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function y(t,e,i){var o=n.createDocumentFragment();!function t(e,n,i){for(;null!=i.dom&&i.dom.parentNode===e;){if("string"!=typeof i.tag){if(null!=(i=i.instance))continue}else if("<"===i.tag)for(var o=0;o<i.instance.length;o++)n.appendChild(i.instance[o]);else if("["!==i.tag)n.appendChild(i.dom);else if(1===i.children.length){if(null!=(i=i.children[0]))continue}else for(o=0;o<i.children.length;o++){var r=i.children[o];null!=r&&t(e,n,r)}break}}(t,o,e),_(t,o,i)}function _(t,e,n){null!=n?t.insertBefore(e,n):t.appendChild(e)}function b(t){if(null==t.attrs||null==t.attrs.contenteditable&&null==t.attrs.contentEditable)return!1;var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=t.text||null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted");return!0}function x(t,e,n,i){for(var o=n;o<i;o++){var r=e[o];null!=r&&w(t,r)}}function w(t,e){var n,i,o,r=0,l=e.state;"string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&(null!=(o=a.call(e.state.onbeforeremove,e))&&"function"==typeof o.then&&(r=1,n=o));e.attrs&&"function"==typeof e.attrs.onbeforeremove&&(null!=(o=a.call(e.attrs.onbeforeremove,e))&&"function"==typeof o.then&&(r|=2,i=o));if(s(e,l),r){if(null!=n){var u=function(){1&r&&((r&=2)||c())};n.then(u,u)}if(null!=i){u=function(){2&r&&((r&=1)||c())};i.then(u,u)}}else S(e),E(t,e);function c(){s(e,l),S(e),E(t,e)}}function T(t,e){for(var n=0;n<e.instance.length;n++)t.removeChild(e.instance[n])}function E(t,e){for(;null!=e.dom&&e.dom.parentNode===t;){if("string"!=typeof e.tag){if(null!=(e=e.instance))continue}else if("<"===e.tag)T(t,e);else{if("["!==e.tag&&(t.removeChild(e.dom),!Array.isArray(e.children)))break;if(1===e.children.length){if(null!=(e=e.children[0]))continue}else for(var n=0;n<e.children.length;n++){var i=e.children[n];null!=i&&E(t,i)}}break}}function S(t){if("string"!=typeof t.tag&&"function"==typeof t.state.onremove&&a.call(t.state.onremove,t),t.attrs&&"function"==typeof t.attrs.onremove&&a.call(t.attrs.onremove,t),"string"!=typeof t.tag)null!=t.instance&&S(t.instance);else{var e=t.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];null!=i&&S(i)}}}function P(t,e,i,o,r){if("key"!==e&&"is"!==e&&null!=o&&!k(e)&&(i!==o||function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===l()||"option"===t.tag&&t.dom.parentNode===n.activeElement}(t,e)||"object"==typeof o)){if("o"===e[0]&&"n"===e[1])return B(t,e,o);if("xlink:"===e.slice(0,6))t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),o);else if("style"===e)O(t.dom,i,o);else if(L(t,e,r)){if("value"===e){if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===""+o&&t.dom===l())return;if("select"===t.tag&&null!==i&&t.dom.value===""+o)return;if("option"===t.tag&&null!==i&&t.dom.value===""+o)return}"input"===t.tag&&"type"===e?t.dom.setAttribute(e,o):t.dom[e]=o}else"boolean"==typeof o?o?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute("className"===e?"class":e,o)}}function M(t,e,n,i){if("key"!==e&&"is"!==e&&null!=n&&!k(e))if("o"!==e[0]||"n"!==e[1]||k(e))if("style"===e)O(t.dom,n,null);else if(!L(t,e,i)||"className"===e||"value"===e&&("option"===t.tag||"select"===t.tag&&-1===t.dom.selectedIndex&&t.dom===l())||"input"===t.tag&&"type"===e){var o=e.indexOf(":");-1!==o&&(e=e.slice(o+1)),!1!==n&&t.dom.removeAttribute("className"===e?"class":e)}else t.dom[e]=null;else B(t,e,void 0)}function k(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function L(t,e,n){return void 0===n&&(t.tag.indexOf("-")>-1||null!=t.attrs&&t.attrs.is||"href"!==e&&"list"!==e&&"form"!==e&&"width"!==e&&"height"!==e)&&e in t.dom}var I=/[A-Z]/g;function C(t){return"-"+t.toLowerCase()}function z(t){return"-"===t[0]&&"-"===t[1]?t:"cssFloat"===t?"float":t.replace(I,C)}function O(t,e,n){if(e===n);else if(null==n)t.style.cssText="";else if("object"!=typeof n)t.style.cssText=n;else if(null==e||"object"!=typeof e)for(var i in t.style.cssText="",n){null!=(o=n[i])&&t.style.setProperty(z(i),String(o))}else{for(var i in n){var o;null!=(o=n[i])&&(o=String(o))!==String(e[i])&&t.style.setProperty(z(i),o)}for(var i in e)null!=e[i]&&null==n[i]&&t.style.removeProperty(z(i))}}function A(){this._=e}function B(t,e,n){if(null!=t.events){if(t.events[e]===n)return;null==n||"function"!=typeof n&&"object"!=typeof n?(null!=t.events[e]&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0):(null==t.events[e]&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n)}else null==n||"function"!=typeof n&&"object"!=typeof n||(t.events=new A,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n)}function D(t,e,n){"function"==typeof t.oninit&&a.call(t.oninit,e),"function"==typeof t.oncreate&&n.push(a.bind(t.oncreate,e))}function j(t,e,n){"function"==typeof t.onupdate&&n.push(a.bind(t.onupdate,e))}return A.prototype=Object.create(null),A.prototype.handleEvent=function(t){var e,n=this["on"+t.type];"function"==typeof n?e=n.call(t.currentTarget,t):"function"==typeof n.handleEvent&&n.handleEvent(t),this._&&!1!==t.redraw&&(0,this._)(),!1===e&&(t.preventDefault(),t.stopPropagation())},function(t,n,o){if(!t)throw new TypeError("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var r=[],s=l(),a=t.namespaceURI;null==t.vnodes&&(t.textContent=""),n=i.normalizeChildren(Array.isArray(n)?n:[n]);var u=e;try{e="function"==typeof o?o:void 0,f(t,t.vnodes,n,r,null,"http://www.w3.org/1999/xhtml"===a?void 0:a)}finally{e=u}t.vnodes=n,null!=s&&l()!==s&&"function"==typeof s.focus&&s.focus();for(var c=0;c<r.length;c++)r[c]()}}},function(t,e,n){"use strict";var i=n(5);t.exports=function(t,e,n){var o=[],r=!1,s=!1;function a(){if(r)throw new Error("Nested m.redraw.sync() call");r=!0;for(var e=0;e<o.length;e+=2)try{t(o[e],i(o[e+1]),l)}catch(t){n.error(t)}r=!1}function l(){s||(s=!0,e((function(){s=!1,a()})))}return l.sync=a,{mount:function(e,n){if(null!=n&&null==n.view&&"function"!=typeof n)throw new TypeError("m.mount(element, component) expects a component, not a vnode");var r=o.indexOf(e);r>=0&&(o.splice(r,2),t(e,[],l)),null!=n&&(o.push(e,n),t(e,i(n),l))},redraw:l}}},function(t,e,n){"use strict";var i=n(11);t.exports=function(t,e,n){var o=0;function r(t){return new e(t)}function s(t){return function(o,s){"string"!=typeof o?(s=o,o=o.url):null==s&&(s={});var a=new e((function(e,n){t(i(o,s.params),s,(function(t){if("function"==typeof s.type)if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=new s.type(t[n]);else t=new s.type(t);e(t)}),n)}));if(!0===s.background)return a;var l=0;function u(){0==--l&&"function"==typeof n&&n()}return function t(e){var n=e.then;return e.constructor=r,e.then=function(){l++;var i=n.apply(e,arguments);return i.then(u,(function(t){if(u(),0===l)throw t})),t(i)},e}(a)}}function a(t,e){for(var n in t.headers)if({}.hasOwnProperty.call(t.headers,n)&&e.test(n))return!0;return!1}return r.prototype=e.prototype,r.__proto__=e,{request:s((function(e,n,i,o){var r,s=null!=n.method?n.method.toUpperCase():"GET",l=n.body,u=!(null!=n.serialize&&n.serialize!==JSON.serialize||l instanceof t.FormData),c=n.responseType||("function"==typeof n.extract?"":"json"),h=new t.XMLHttpRequest,d=!1,f=h,p=h.abort;for(var m in h.abort=function(){d=!0,p.call(this)},h.open(s,e,!1!==n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),u&&null!=l&&!a(n,/^content-type$/i)&&h.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||a(n,/^accept$/i)||h.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(h.withCredentials=n.withCredentials),n.timeout&&(h.timeout=n.timeout),h.responseType=c,n.headers)({}).hasOwnProperty.call(n.headers,m)&&h.setRequestHeader(m,n.headers[m]);h.onreadystatechange=function(t){if(!d&&4===t.target.readyState)try{var r,s=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(e),a=t.target.response;if("json"===c?t.target.responseType||"function"==typeof n.extract||(a=JSON.parse(t.target.responseText)):c&&"text"!==c||null==a&&(a=t.target.responseText),"function"==typeof n.extract?(a=n.extract(t.target,n),s=!0):"function"==typeof n.deserialize&&(a=n.deserialize(a)),s)i(a);else{try{r=t.target.responseText}catch(t){r=a}var l=new Error(r);l.code=t.target.status,l.response=a,o(l)}}catch(t){o(t)}},"function"==typeof n.config&&(h=n.config(h,n,e)||h)!==f&&(r=h.abort,h.abort=function(){d=!0,r.call(this)}),null==l?h.send():"function"==typeof n.serialize?h.send(n.serialize(l)):l instanceof t.FormData?h.send(l):h.send(JSON.stringify(l))})),jsonp:s((function(e,n,i,r){var s=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+o++,a=t.document.createElement("script");t[s]=function(e){delete t[s],a.parentNode.removeChild(a),i(e)},a.onerror=function(){delete t[s],a.parentNode.removeChild(a),r(new Error("JSONP request failed"))},a.src=e+(e.indexOf("?")<0?"?":"&")+encodeURIComponent(n.callbackKey||"callback")+"="+encodeURIComponent(s),t.document.documentElement.appendChild(a)}))}}},function(t,e,n){"use strict";var i=n(10);t.exports=n(38)(window,i)},function(t,e,n){"use strict";(function(e){var i=n(5),o=n(17),r=n(19),s=n(11),a=n(12),l=n(39),u=n(24),c={};t.exports=function(t,n){var h;function d(e,n,i){if(e=s(e,n),null!=h){h();var o=i?i.state:null,r=i?i.title:null;i&&i.replace?t.history.replaceState(o,r,_.prefix+e):t.history.pushState(o,r,_.prefix+e)}else t.location.href=_.prefix+e}var f,p,m,v,g=c,y=_.SKIP={};function _(o,s,b){if(null==o)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var x,w=0,T=Object.keys(b).map((function(t){if("/"!==t[0])throw new SyntaxError("Routes must start with a `/`");if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Route parameter names must be separated with either `/`, `.`, or `-`");return{route:t,component:b[t],check:l(t)}})),E="function"==typeof e?e:setTimeout,S=r.resolve(),P=!1;if(h=null,null!=s){var M=a(s);if(!T.some((function(t){return t.check(M)})))throw new ReferenceError("Default route doesn't match any known routes")}function k(){P=!1;var e=t.location.hash;"#"!==_.prefix[0]&&(e=t.location.search+e,"?"!==_.prefix[0]&&"/"!==(e=t.location.pathname+e)[0]&&(e="/"+e));var i=e.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(_.prefix.length),o=a(i);function r(){if(i===s)throw new Error("Could not resolve default route "+s);d(s,null,{replace:!0})}u(o.params,t.history.state),function t(e){for(;e<T.length;e++)if(T[e].check(o)){var s=T[e].component,a=T[e].route,l=s,u=v=function(r){if(u===v){if(r===y)return t(e+1);f=null==r||"function"!=typeof r.view&&"function"!=typeof r?"div":r,p=o.params,m=i,v=null,g=s.render?s:null,2===w?n.redraw():(w=2,n.redraw.sync())}};return void(s.view||"function"==typeof s?(s={},u(l)):s.onmatch?S.then((function(){return s.onmatch(o.params,i,a)})).then(u,r):u("div"))}r()}(0)}return h=function(){P||(P=!0,E(k))},"function"==typeof t.history.pushState?(x=function(){t.removeEventListener("popstate",h,!1)},t.addEventListener("popstate",h,!1)):"#"===_.prefix[0]&&(h=null,x=function(){t.removeEventListener("hashchange",k,!1)},t.addEventListener("hashchange",k,!1)),n.mount(o,{onbeforeupdate:function(){return!(!(w=w?2:1)||c===g)},oncreate:k,onremove:x,view:function(){if(w&&c!==g){var t=[i(f,p.key,p)];return g&&(t=g.render(t[0])),t}}})}return _.set=function(t,e,n){null!=v&&((n=n||{}).replace=!0),v=null,d(t,e,n)},_.get=function(){return m},_.prefix="#!",_.Link={view:function(t){var e,n,i=t.attrs.options,r={};u(r,t.attrs),r.selector=r.options=r.key=r.oninit=r.oncreate=r.onbeforeupdate=r.onupdate=r.onbeforeremove=r.onremove=null;var s=o(t.attrs.selector||"a",r,t.children);return(s.attrs.disabled=Boolean(s.attrs.disabled))?(s.attrs.href=null,s.attrs["aria-disabled"]="true",s.attrs.onclick=null):(e=s.attrs.onclick,n=s.attrs.href,s.attrs.href=_.prefix+n,s.attrs.onclick=function(t){var o;"function"==typeof e?o=e.call(t.currentTarget,t):null==e||"object"!=typeof e||"function"==typeof e.handleEvent&&e.handleEvent(t),!1===o||t.defaultPrevented||0!==t.button&&0!==t.which&&1!==t.which||t.currentTarget.target&&"_self"!==t.currentTarget.target||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||(t.preventDefault(),t.redraw=!1,_.set(n,null,i))}),s}},_.param=function(t){return p&&null!=t?p[t]:p},_}}).call(this,n(21).setImmediate)},function(t,e,n){"use strict";var i=n(12);t.exports=function(t){var e=i(t),n=Object.keys(e.params),o=[],r=new RegExp("^"+e.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,(function(t,e,n){return null==e?"\\"+t:(o.push({k:e,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))}))+"$");return function(t){for(var i=0;i<n.length;i++)if(e.params[n[i]]!==t.params[n[i]])return!1;if(!o.length)return r.test(t.path);var s=r.exec(t.path);if(null==s)return!1;for(i=0;i<o.length;i++)t.params[o[i].k]=o[i].r?s[i+1]:decodeURIComponent(s[i+1]);return!0}}},function(t,e,n){var i=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,r=Object.create(o.prototype),s=new T(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return S()}for(n.method=o,n.arg=r;;){var s=n.delegate;if(s){var a=b(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(t,n,s),r}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c={};function h(){}function d(){}function f(){}var p={};p[o]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(E([])));v&&v!==e&&n.call(v,o)&&(p=v);var g=f.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var i;this._invoke=function(o,r){function s(){return new e((function(i,s){!function i(o,r,s,a){var l=u(t[o],t,r);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,a)}))}a(l.arg)}(o,r,i,s)}))}return i=i?i.then(s,s):s()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,c;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=g.constructor=f,f.constructor=d,d.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(_.prototype),_.prototype[r]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var s=new _(l(e,n,i,o),r);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(g),a(g,s,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=E,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var a=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(a&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var r=e[o];if(t.call(i,r,o,e))return o;o++}return-1}})},function(t,e){!function(){function t(){null!==this.parentNode&&this.parentNode.removeChild(this)}[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:t})}))}()},function(t,e,n){var i,o;
/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */!function(r,s){"use strict";i=[n(14),n(15),n(44),n(46)],void 0===(o=function(t,e,n,i){return function(t,e,n,i,o){var r=t.console,s=t.jQuery,a=function(){},l=0,u={};function c(t,e){var n=i.getQueryElement(t);if(n){this.element=n,s&&(this.$element=s(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,u[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else r&&r.error("Bad element for "+this.constructor.namespace+": "+(n||t))}c.namespace="outlayer",c.Item=o,c.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=c.prototype;function d(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}i.extend(h,e.prototype),h.option=function(t){i.extend(this.options,t)},h._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},c.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0;o<e.length;o++){var r=new n(e[o],this);i.push(r)}return i},h._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},h.getItemElements=function(){return this.items.map((function(t){return t.element}))},h.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=n(this.element)},h._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[t]=i?n(i)[e]:o):this[t]=0},h.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},h._getItemsForLayout=function(t){return t.filter((function(t){return!t.isIgnored}))},h._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach((function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)}),this),this._processLayoutQueue(n)}},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(t){this.updateStagger(),t.forEach((function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)}),this)},h.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];if(!n.length)return 0;return(n=parseFloat(n))*(f[i]||1)}(t),this.stagger;this.stagger=0},h._positionItem=function(t,e,n,i,o){i?t.goTo(e,n):(t.stagger(o*this.stagger),t.moveTo(e,n))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},h._getContainerSize=a,h._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},h._emitCompleteOnItems=function(t,e){var n=this;function i(){n.dispatchEvent(t+"Complete",null,[e])}var o=e.length;if(e&&o){var r=0;e.forEach((function(e){e.once(t,s)}))}else i();function s(){++r==o&&i()}},h.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),s)if(this.$element=this.$element||s(this.element),e){var o=s.Event(e);o.type=t,this.$element.trigger(o,n)}else this.$element.trigger(t,n)},h.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},h.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},h.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},h.unstamp=function(t){(t=this._find(t))&&t.forEach((function(t){i.removeFrom(this.stamps,t),this.unignore(t)}),this)},h._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i.makeArray(t)},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},h._manageStamp=a,h._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=n(t);return{left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom}},h.handleEvent=i.handleEvent,h.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},i.debounceMethod(c,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},h.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},h.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},h.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},h.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.reveal()}))}},h.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.hide()}))}},h.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},h.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},h.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},h.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach((function(t){var n=this.getItem(t);n&&e.push(n)}),this),e},h.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach((function(t){t.remove(),i.removeFrom(this.items,t)}),this)},h.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach((function(t){t.destroy()})),this.unbindResize();var e=this.element.outlayerGUID;delete u[e],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},c.data=function(t){var e=(t=i.getQueryElement(t))&&t.outlayerGUID;return e&&u[e]},c.create=function(t,e){var n=d(c);return n.defaults=i.extend({},c.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},c.compatOptions),n.namespace=t,n.data=c.data,n.Item=d(o),i.htmlInit(n,t),s&&s.bridget&&s.bridget(t,n),n};var f={ms:1,s:1e3};return c.Item=o,c}(r,t,e,n,i)}.apply(e,i))||(t.exports=o)}(window)},function(t,e,n){var i,o;!function(r,s){i=[n(45)],void 0===(o=function(t){return function(t,e){"use strict";var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},i=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?i.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var o=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(i){e(t,i)&&o.push(t);for(var n=t.querySelectorAll(i),r=0;r<n.length;r++)o.push(n[r])}else o.push(t)})),o},n.debounceMethod=function(t,e,n){n=n||100;var i=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout((function(){i.apply(r,e),delete r[o]}),n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,n){return e+"-"+n})).toLowerCase()};var o=t.console;return n.htmlInit=function(e,i){n.docReady((function(){var r=n.toDashed(i),s="data-"+r,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+r),u=n.makeArray(a).concat(n.makeArray(l)),c=s+"-options",h=t.jQuery;u.forEach((function(t){var n,r=t.getAttribute(s)||t.getAttribute(c);try{n=r&&JSON.parse(r)}catch(e){return void(o&&o.error("Error parsing "+s+" on "+t.className+": "+e))}var a=new e(t,n);h&&h.data(t,i,a)}))}))},n}(r,t)}.apply(e,i))||(t.exports=o)}(window)},function(t,e,n){var i,o;!function(r,s){"use strict";void 0===(o="function"==typeof(i=s)?i.call(e,n,e,t):i)||(t.exports=o)}(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(e,n){return e[t](n)}}))},function(t,e,n){var i,o,r;window,o=[n(14),n(15)],void 0===(r="function"==typeof(i=function(t,e){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",o="string"==typeof n.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],s={transform:o,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(t.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var n in t)e[s[n]||n]=t[n]},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],o=t[n?"top":"bottom"],r=parseFloat(i),s=parseFloat(o),a=this.layout.size;-1!=i.indexOf("%")&&(r=r/100*a.width),-1!=o.indexOf("%")&&(s=s/100*a.height),r=isNaN(r)?0:r,s=isNaN(s)?0:s,r-=e?a.paddingLeft:a.paddingRight,s-=n?a.paddingTop:a.paddingBottom,this.position.x=r,this.position.y=s},l.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",r=n?"left":"right",s=n?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var l=i?"paddingTop":"paddingBottom",u=i?"top":"bottom",c=i?"bottom":"top",h=this.position.y+t[l];e[u]=this.getYValue(h),e[c]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!o||this.isTransitioning){var r=t-n,s=e-i,a={};a.transform=this.getTranslate(r,s),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var u="opacity,"+o.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:u,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=c[t.propertyName]||t.propertyName;delete e.ingProperties[n],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd&&(e.onEnd[n].call(this),delete e.onEnd[n]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(h)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),r=n(2),s=n.n(r),a=n(3),l=n.n(a);function u(t,e,n){var i;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},a=n&&!i;clearTimeout(i),i=setTimeout(s,e),a&&t.apply(o,r)}}var c={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},h={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},d=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],f={CSS:{},springs:{}};function p(t,e,n){return Math.min(Math.max(t,e),n)}function m(t,e){return t.indexOf(e)>-1}function v(t,e){return t.apply(null,e)}var g={arr:function(t){return Array.isArray(t)},obj:function(t){return m(Object.prototype.toString.call(t),"Object")},pth:function(t){return g.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||g.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nil:function(t){return g.und(t)||null===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return g.hex(t)||g.rgb(t)||g.hsl(t)},key:function(t){return!c.hasOwnProperty(t)&&!h.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function y(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function _(t,e){var n=y(t),i=p(g.und(n[0])?1:n[0],.1,100),o=p(g.und(n[1])?100:n[1],.1,100),r=p(g.und(n[2])?10:n[2],.1,100),s=p(g.und(n[3])?0:n[3],.1,100),a=Math.sqrt(o/i),l=r/(2*Math.sqrt(o*i)),u=l<1?a*Math.sqrt(1-l*l):0,c=l<1?(l*a-s)/u:-s+a;function h(t){var n=e?e*t/1e3:t;return n=l<1?Math.exp(-n*l*a)*(1*Math.cos(u*n)+c*Math.sin(u*n)):(1+c*n)*Math.exp(-n*a),0===t||1===t?t:1-n}return e?h:function(){var e=f.springs[t];if(e)return e;for(var n=0,i=0;;)if(1===h(n+=1/6)){if(++i>=16)break}else i=0;var o=n*(1/6)*1e3;return f.springs[t]=o,o}}function b(t){return void 0===t&&(t=10),function(e){return Math.ceil(p(e,1e-6,1)*t)*(1/t)}}var x,w,T=function(){function t(t,e){return 1-3*e+3*t}function e(t,e){return 3*e-6*t}function n(t){return 3*t}function i(i,o,r){return((t(o,r)*i+e(o,r))*i+n(o))*i}function o(i,o,r){return 3*t(o,r)*i*i+2*e(o,r)*i+n(o)}return function(t,e,n,r){if(0<=t&&t<=1&&0<=n&&n<=1){var s=new Float32Array(11);if(t!==e||n!==r)for(var a=0;a<11;++a)s[a]=i(.1*a,t,n);return function(o){return t===e&&n===r||0===o||1===o?o:i(l(o),e,r)}}function l(e){for(var r=0,a=1;10!==a&&s[a]<=e;++a)r+=.1;--a;var l=r+.1*((e-s[a])/(s[a+1]-s[a])),u=o(l,t,n);return u>=.001?function(t,e,n,r){for(var s=0;s<4;++s){var a=o(e,n,r);if(0===a)return e;e-=(i(e,n,r)-t)/a}return e}(e,l,t,n):0===u?l:function(t,e,n,o,r){var s,a,l=0;do{(s=i(a=e+(n-e)/2,o,r)-t)>0?n=a:e=a}while(Math.abs(s)>1e-7&&++l<10);return a}(e,r,r+.1,t,n)}}}(),E=(x={linear:function(){return function(t){return t}}},w={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=p(t,1,10),i=p(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(t,e){w[t]=function(){return function(t){return Math.pow(t,e+2)}}})),Object.keys(w).forEach((function(t){var e=w[t];x["easeIn"+t]=e,x["easeOut"+t]=function(t,n){return function(i){return 1-e(t,n)(1-i)}},x["easeInOut"+t]=function(t,n){return function(i){return i<.5?e(t,n)(2*i)/2:1-e(t,n)(-2*i+2)/2}},x["easeOutIn"+t]=function(t,n){return function(i){return i<.5?(1-e(t,n)(1-2*i))/2:(e(t,n)(2*i-1)+1)/2}}})),x);function S(t,e){if(g.fnc(t))return t;var n=t.split("(")[0],i=E[n],o=y(t);switch(n){case"spring":return _(t,e);case"cubicBezier":return v(T,o);case"steps":return v(b,o);default:return v(i,o)}}function P(t){try{return document.querySelectorAll(t)}catch(t){return}}function M(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,o=[],r=0;r<n;r++)if(r in t){var s=t[r];e.call(i,s,r,t)&&o.push(s)}return o}function k(t){return t.reduce((function(t,e){return t.concat(g.arr(e)?k(e):e)}),[])}function L(t){return g.arr(t)?t:(g.str(t)&&(t=P(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function I(t,e){return t.some((function(t){return t===e}))}function C(t){var e={};for(var n in t)e[n]=t[n];return e}function z(t,e){var n=C(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function O(t,e){var n=C(t);for(var i in e)n[i]=g.und(t[i])?e[i]:t[i];return n}function A(t){return g.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:g.hex(t)?function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(t):g.hsl(t)?function(t){var e,n,i,o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(o[1],10)/360,s=parseInt(o[2],10)/100,a=parseInt(o[3],10)/100,l=o[4]||1;function u(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==s)e=n=i=a;else{var c=a<.5?a*(1+s):a+s-a*s,h=2*a-c;e=u(h,c,r+1/3),n=u(h,c,r),i=u(h,c,r-1/3)}return"rgba("+255*e+","+255*n+","+255*i+","+l+")"}(t):void 0;var e,n}function B(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function D(t,e){return g.fnc(t)?t(e.target,e.id,e.total):t}function j(t,e){return t.getAttribute(e)}function R(t,e,n){if(I([n,"deg","rad","turn"],B(e)))return e;var i=f.CSS[e+n];if(!g.und(i))return i;var o=document.createElement(t.tagName),r=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;r.appendChild(o),o.style.position="absolute",o.style.width=100+n;var s=100/o.offsetWidth;r.removeChild(o);var a=s*parseFloat(e);return f.CSS[e+n]=a,a}function Z(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?R(t,o,n):o}}function N(t,e){return g.dom(t)&&!g.inp(t)&&(!g.nil(j(t,e))||g.svg(t)&&t[e])?"attribute":g.dom(t)&&I(d,e)?"transform":g.dom(t)&&"transform"!==e&&Z(t,e)?"css":null!=t[e]?"object":void 0}function F(t){if(g.dom(t)){for(var e,n=t.style.transform||"",i=/(\w+)\(([^)]*)\)/g,o=new Map;e=i.exec(n);)o.set(e[1],e[2]);return o}}function W(t,e,n,i){var o=m(e,"scale")?1:0+function(t){return m(t,"translate")||"perspective"===t?"px":m(t,"rotate")||m(t,"skew")?"deg":void 0}(e),r=F(t).get(e)||o;return n&&(n.transforms.list.set(e,r),n.transforms.last=e),i?R(t,r,i):r}function q(t,e,n,i){switch(N(t,e)){case"transform":return W(t,e,i,n);case"css":return Z(t,e,n);case"attribute":return j(t,e);default:return t[e]||0}}function H(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=B(t)||0,o=parseFloat(e),r=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return o+r+i;case"-":return o-r+i;case"*":return o*r+i}}function Y(t,e){if(g.col(t))return A(t);if(/\s/g.test(t))return t;var n=B(t),i=n?t.substr(0,t.length-n.length):t;return e?i+e:i}function X(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function V(t){for(var e,n=t.points,i=0,o=0;o<n.numberOfItems;o++){var r=n.getItem(o);o>0&&(i+=X(e,r)),e=r}return i}function U(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*j(t,"r")}(t);case"rect":return function(t){return 2*j(t,"width")+2*j(t,"height")}(t);case"line":return function(t){return X({x:j(t,"x1"),y:j(t,"y1")},{x:j(t,"x2"),y:j(t,"y2")})}(t);case"polyline":return V(t);case"polygon":return function(t){var e=t.points;return V(t)+X(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function G(t,e){var n=e||{},i=n.el||function(t){for(var e=t.parentNode;g.svg(e)&&g.svg(e.parentNode);)e=e.parentNode;return e}(t),o=i.getBoundingClientRect(),r=j(i,"viewBox"),s=o.width,a=o.height,l=n.viewBox||(r?r.split(" "):[0,0,s,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function $(t,e,n){function i(n){void 0===n&&(n=0);var i=e+n>=1?e+n:0;return t.el.getPointAtLength(i)}var o=G(t.el,t.svg),r=i(),s=i(-1),a=i(1),l=n?1:o.w/o.vW,u=n?1:o.h/o.vH;switch(t.property){case"x":return(r.x-o.x)*l;case"y":return(r.y-o.y)*u;case"angle":return 180*Math.atan2(a.y-s.y,a.x-s.x)/Math.PI}}function K(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=Y(g.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:g.str(t)||e?i.split(n):[]}}function Q(t){return M(t?k(g.arr(t)?t.map(L):L(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function J(t){var e=Q(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:F(t)}}}))}function tt(t,e){var n=C(e);if(/^spring/.test(n.easing)&&(n.duration=_(n.easing)),g.arr(t)){var i=t.length;2===i&&!g.obj(t[0])?t={value:t}:g.fnc(e.duration)||(n.duration=e.duration/i)}var o=g.arr(t)?t:[t];return o.map((function(t,n){var i=g.obj(t)&&!g.pth(t)?t:{value:t};return g.und(i.delay)&&(i.delay=n?0:e.delay),g.und(i.endDelay)&&(i.endDelay=n===o.length-1?e.endDelay:0),i})).map((function(t){return O(t,n)}))}function et(t,e){var n=[],i=e.keyframes;for(var o in i&&(e=O(function(t){for(var e=M(k(t.map((function(t){return Object.keys(t)}))),(function(t){return g.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),n={},i=function(i){var o=e[i];n[o]=t.map((function(t){var e={};for(var n in t)g.key(n)?n==o&&(e.value=t[n]):e[n]=t[n];return e}))},o=0;o<e.length;o++)i(o);return n}(i),e)),e)g.key(o)&&n.push({name:o,tweens:tt(e[o],t)});return n}function nt(t,e){var n;return t.tweens.map((function(i){var o=function(t,e){var n={};for(var i in t){var o=D(t[i],e);g.arr(o)&&1===(o=o.map((function(t){return D(t,e)}))).length&&(o=o[0]),n[i]=o}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,e),r=o.value,s=g.arr(r)?r[1]:r,a=B(s),l=q(e.target,t.name,a,e),u=n?n.to.original:l,c=g.arr(r)?r[0]:u,h=B(c)||B(l),d=a||h;return g.und(s)&&(s=u),o.from=K(c,d),o.to=K(H(s,c),d),o.start=n?n.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=S(o.easing,o.duration),o.isPath=g.pth(r),o.isPathTargetInsideSVG=o.isPath&&g.svg(e.target),o.isColor=g.col(o.from.original),o.isColor&&(o.round=1),n=o,o}))}var it={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,o){if(i.list.set(e,n),e===i.last||o){var r="";i.list.forEach((function(t,e){r+=e+"("+t+") "})),t.style.transform=r}}};function ot(t,e){J(t).forEach((function(t){for(var n in e){var i=D(e[n],t),o=t.target,r=B(i),s=q(o,n,r,t),a=H(Y(i,r||B(s)),s),l=N(o,n);it[l](o,n,a,t.transforms,!0)}}))}function rt(t,e){return M(k(t.map((function(t){return e.map((function(e){return function(t,e){var n=N(t.target,e.name);if(n){var i=nt(e,t),o=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:o.end,delay:i[0].delay,endDelay:o.endDelay}}}(t,e)}))}))),(function(t){return!g.und(t)}))}function st(t,e){var n=t.length,i=function(t){return t.timelineOffset?t.timelineOffset:0},o={};return o.duration=n?Math.max.apply(Math,t.map((function(t){return i(t)+t.duration}))):e.duration,o.delay=n?Math.min.apply(Math,t.map((function(t){return i(t)+t.delay}))):e.delay,o.endDelay=n?o.duration-Math.max.apply(Math,t.map((function(t){return i(t)+t.duration-t.endDelay}))):e.endDelay,o}var at=0;var lt=[],ut=function(){var t;function e(n){for(var i=lt.length,o=0;o<i;){var r=lt[o];r.paused?(lt.splice(o,1),i--):(r.tick(n),o++)}t=o>0?requestAnimationFrame(e):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ht.suspendWhenDocumentHidden&&(ct()?t=cancelAnimationFrame(t):(lt.forEach((function(t){return t._onDocumentVisibility()})),ut()))})),function(){t||ct()&&ht.suspendWhenDocumentHidden||!(lt.length>0)||(t=requestAnimationFrame(e))}}();function ct(){return!!document&&document.hidden}function ht(t){void 0===t&&(t={});var e,n=0,i=0,o=0,r=0,s=null;function a(t){var e=window.Promise&&new Promise((function(t){return s=t}));return t.finished=e,e}var l=function(t){var e=z(c,t),n=z(h,t),i=et(n,t),o=J(t.targets),r=rt(o,i),s=st(r,n),a=at;return at++,O(e,{id:a,children:[],animatables:o,animations:r,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}(t);a(l);function u(){var t=l.direction;"alternate"!==t&&(l.direction="normal"!==t?"normal":"reverse"),l.reversed=!l.reversed,e.forEach((function(t){return t.reversed=l.reversed}))}function d(t){return l.reversed?l.duration-t:t}function f(){n=0,i=d(l.currentTime)*(1/ht.speed)}function m(t,e){e&&e.seek(t-e.timelineOffset)}function v(t){for(var e=0,n=l.animations,i=n.length;e<i;){var o=n[e],r=o.animatable,s=o.tweens,a=s.length-1,u=s[a];a&&(u=M(s,(function(e){return t<e.end}))[0]||u);for(var c=p(t-u.start-u.delay,0,u.duration)/u.duration,h=isNaN(c)?1:u.easing(c),d=u.to.strings,f=u.round,m=[],v=u.to.numbers.length,g=void 0,y=0;y<v;y++){var _=void 0,b=u.to.numbers[y],x=u.from.numbers[y]||0;_=u.isPath?$(u.value,h*b,u.isPathTargetInsideSVG):x+h*(b-x),f&&(u.isColor&&y>2||(_=Math.round(_*f)/f)),m.push(_)}var w=d.length;if(w){g=d[0];for(var T=0;T<w;T++){d[T];var E=d[T+1],S=m[T];isNaN(S)||(g+=E?S+E:S+" ")}}else g=m[0];it[o.type](r.target,o.property,g,r.transforms),o.currentValue=g,e++}}function g(t){l[t]&&!l.passThrough&&l[t](l)}function y(t){var c=l.duration,h=l.delay,f=c-l.endDelay,y=d(t);l.progress=p(y/c*100,0,100),l.reversePlayback=y<l.currentTime,e&&function(t){if(l.reversePlayback)for(var n=r;n--;)m(t,e[n]);else for(var i=0;i<r;i++)m(t,e[i])}(y),!l.began&&l.currentTime>0&&(l.began=!0,g("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,g("loopBegin")),y<=h&&0!==l.currentTime&&v(0),(y>=f&&l.currentTime!==c||!c)&&v(c),y>h&&y<f?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,g("changeBegin")),g("change"),v(y)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,g("changeComplete")),l.currentTime=p(y,0,c),l.began&&g("update"),t>=c&&(i=0,l.remaining&&!0!==l.remaining&&l.remaining--,l.remaining?(n=o,g("loopComplete"),l.loopBegan=!1,"alternate"===l.direction&&u()):(l.paused=!0,l.completed||(l.completed=!0,g("loopComplete"),g("complete"),!l.passThrough&&"Promise"in window&&(s(),a(l)))))}return l.reset=function(){var t=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===t,l.remaining=l.loop,e=l.children;for(var n=r=e.length;n--;)l.children[n].reset();(l.reversed&&!0!==l.loop||"alternate"===t&&1===l.loop)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=f,l.set=function(t,e){return ot(t,e),l},l.tick=function(t){o=t,n||(n=o),y((o+(i-n))*ht.speed)},l.seek=function(t){y(d(t))},l.pause=function(){l.paused=!0,f()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,lt.push(l),f(),ut())},l.reverse=function(){u(),l.completed=!l.reversed,f()},l.restart=function(){l.reset(),l.play()},l.remove=function(t){ft(Q(t),l)},l.reset(),l.autoplay&&l.play(),l}function dt(t,e){for(var n=e.length;n--;)I(t,e[n].animatable.target)&&e.splice(n,1)}function ft(t,e){var n=e.animations,i=e.children;dt(t,n);for(var o=i.length;o--;){var r=i[o],s=r.animations;dt(t,s),s.length||r.children.length||i.splice(o,1)}n.length||i.length||e.pause()}ht.version="3.2.1",ht.speed=1,ht.suspendWhenDocumentHidden=!0,ht.running=lt,ht.remove=function(t){for(var e=Q(t),n=lt.length;n--;){ft(e,lt[n])}},ht.get=q,ht.set=ot,ht.convertPx=R,ht.path=function(t,e){var n=g.str(t)?P(t)[0]:t,i=e||100;return function(t){return{property:t,el:n,svg:G(n),totalLength:U(n)*(i/100)}}},ht.setDashoffset=function(t){var e=U(t);return t.setAttribute("stroke-dasharray",e),e},ht.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",i=e.easing?S(e.easing):null,o=e.grid,r=e.axis,s=e.from||0,a="first"===s,l="center"===s,u="last"===s,c=g.arr(t),h=c?parseFloat(t[0]):parseFloat(t),d=c?parseFloat(t[1]):0,f=B(c?t[1]:t)||0,p=e.start||0+(c?h:0),m=[],v=0;return function(t,e,g){if(a&&(s=0),l&&(s=(g-1)/2),u&&(s=g-1),!m.length){for(var y=0;y<g;y++){if(o){var _=l?(o[0]-1)/2:s%o[0],b=l?(o[1]-1)/2:Math.floor(s/o[0]),x=_-y%o[0],w=b-Math.floor(y/o[0]),T=Math.sqrt(x*x+w*w);"x"===r&&(T=-x),"y"===r&&(T=-w),m.push(T)}else m.push(Math.abs(s-y));v=Math.max.apply(Math,m)}i&&(m=m.map((function(t){return i(t/v)*v}))),"reverse"===n&&(m=m.map((function(t){return r?t<0?-1*t:-t:Math.abs(v-t)})))}return p+(c?(d-h)/v:h)*(Math.round(100*m[e])/100)+f}},ht.timeline=function(t){void 0===t&&(t={});var e=ht(t);return e.duration=0,e.add=function(n,i){var o=lt.indexOf(e),r=e.children;function s(t){t.passThrough=!0}o>-1&&lt.splice(o,1);for(var a=0;a<r.length;a++)s(r[a]);var l=O(n,z(h,t));l.targets=l.targets||t.targets;var u=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=g.und(i)?u:H(i,u),s(e),e.seek(l.timelineOffset);var c=ht(l);s(c),r.push(c);var d=st(r,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},ht.easing=S,ht.penner=E,ht.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var pt=ht,mt=function(){function t(e){var n=this;s()(this,t),this.init=function(){n.createFrame(),window.addEventListener("resize",u((function(){n.updateFrame()}),20))},this.createFrame=function(){n.rect=n.DOM.el.getBoundingClientRect(),n.frameSize=n.rect.width/12,n.paths={current:"initial"},n.DOM.svg=document.querySelector("#svg"),n.DOM.shape=n.DOM.svg.querySelector("path"),n.DOM.svg.setAttribute("viewbox","0 0 ".concat(n.rect.width," ").concat(n.rect.height)),n.DOM.shape.setAttribute("fill",n.settings.frameFill),n.DOM.shape.setAttribute("d",n.calculatePath())},this.updateFrame=function(){n.rect=n.DOM.el.getBoundingClientRect(),n.DOM.svg.setAttribute("viewbox","0 0 ".concat(n.rect.width," ").concat(n.rect.height)),n.DOM.shape.setAttribute("d",n.calculatePath(n.paths.current))},this.calculatePath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial",e=Math.sqrt(Math.pow(n.rect.height,2)+Math.pow(n.rect.width,2))+.1*n.rect.width,i=e,o=e,r=e,s=.08*n.rect.width,a=.15*n.rect.height,l="";return"initial"===t?l="M ".concat(n.rect.width/2,", ").concat(n.rect.height/2," m 0 ").concat(-i," a ").concat(i," ").concat(i," 0 1 0 1 0 z m -1 ").concat(i-o," a ").concat(o," ").concat(o," 0 1 1 -1 0 Z"):"mobile"===t?l="M ".concat(n.rect.width/2,", ").concat(.2*n.rect.height," m 0 ").concat(-r," a ").concat(r," ").concat(r," 0 1 0 1 0 z m -1 ").concat(r-a," a ").concat(a," ").concat(a," 0 1 1 -1 0 Z"):"mobilefull"===t?l="M ".concat(n.rect.width/2,", ").concat(.2*n.rect.height," m 0 ").concat(-r," a ").concat(r," ").concat(r," 0 1 0 1 0 z m -1 ").concat(r-.001," a ",.001," ",.001," 0 1 1 -1 0 Z"):"offset"===t?l="M ".concat(.73*n.rect.width,", ").concat(.2*n.rect.height+s," m 0 ").concat(-r," a ").concat(r," ").concat(r," 0 1 0 1 0 z m -1 ").concat(r-s," a ").concat(s," ").concat(s," 0 1 1 -1 0 Z"):"full"===t?l="M ".concat(.73*n.rect.width,", ").concat(n.rect.height/2-.05*n.rect.width," m 0 ").concat(-r," a ").concat(r," ").concat(r," 0 1 0 1 0 z m -1 ").concat(r-.001," a ",.001," ",.001," 0 1 1 -1 0 Z"):"rect"===t?l="M 0 0 H ".concat(n.rect.width," V ").concat(n.rect.height," H 0 Z"):"leftout"===t?l="M ".concat(-s,", ").concat(n.rect.height/2-.05*n.rect.width," m 0 ").concat(-r," a ").concat(r," ").concat(r," 0 1 0 1 0 z m -1 ").concat(r-s," a ").concat(s," ").concat(s," 0 1 1 -1 0 Z"):"rightout"===t&&(l="M ".concat(n.rect.width+s,", ").concat(n.rect.height/2-.05*n.rect.width," m 0 ").concat(-r," a ").concat(r," ").concat(r," 0 1 0 1 0 z m -1 ").concat(r-s," a ").concat(s," ").concat(s," 0 1 1 -1 0 Z")),l},this.DOM={},this.DOM.el=e,this.settings={animation:{shape:{duration:1800,easing:{in:"easeOutQuint",out:"easeOutQuad"},delay:200}},frameFill:"rgba(256, 256, 256, 0.7)"},this.init(),this.animateShape=function(){return new Promise((function(t,e){return t()}))}}return l()(t,[{key:"navigate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return!this.isAnimating&&(this.paths.current==e?new Promise((function(t,e){return t()})):(this.isAnimating=!0,this.DOM.svg.style.display="block","mobile"===e&&(this.animateShape=pt({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing.in,delay:this.settings.animation.shape.delay,d:this.calculatePath("mobile")}).finished.then((function(){t.isAnimating=!1,t.paths.current="mobile"}))),"mobilefull"===e?this.animateShape=pt({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing.in,d:this.calculatePath("mobilefull")}).finished.then((function(){t.isAnimating=!1,t.paths.current="mobilefull"})):"offset"===e?this.animateShape=pt({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing.out,delay:this.settings.animation.shape.delay,d:this.calculatePath("offset")}).finished.then((function(){t.isAnimating=!1,t.paths.current="offset"})):"full"===e?this.animateShape=pt({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing.out,d:this.calculatePath("full")}).finished.then((function(){t.isAnimating=!1,t.paths.current="full"})):"fullFast"===e?this.animateShape=pt({targets:this.DOM.shape,duration:100,easing:this.settings.animation.shape.easing.out,d:this.calculatePath("full")}).finished.then((function(){t.isAnimating=!1,t.paths.current="full"})):"initial"===e&&(this.animateShape=pt({targets:this.DOM.shape,duration:1e3,easing:"easeInCirc",d:this.calculatePath("initial")}).finished.then((function(){t.isAnimating=!1,t.DOM.svg.style.display="none",t.paths.current="initial"}))),this.animateShape))}}]),t}(),vt=n(1),gt=n.n(vt),yt=n(4),_t=n.n(yt),bt=n(7),xt=n.n(bt);function wt(t){var e=Math.abs(t),n=Math.floor(e),i=60*(e-n),o=Math.floor(i);return n+""+o+"'"+Math.round(10*(i-o)*60)/10+'"'}function Tt(t,e){var n="",i="";return t&&(n=wt(t),i=t>=0?"N":"S"),e&&(n=wt(e),i=e>=0?"E":"W"),n+" "+i}var Et=function(){function t(e){var n=this;s()(this,t),this.switchIt=function(){var t=_t()(gt.a.mark((function t(e){return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.active!=e&&!n.navigating){t.next=2;break}return t.abrupt("return");case 2:return document.querySelector(".rs-chevron-right").style.display="block",document.querySelector(".rs-chevron-left").style.display="block",e==n.menu.length-1&&(document.querySelector(".rs-chevron-right").style.display="none"),0==e&&(document.querySelector(".rs-chevron-left").style.display="none"),n.navigating=!0,n.menu[n.active].classList.remove("active"),n.menu[e].classList.add("active"),t.next=11,n.SteinLine.goTo(n.stop[e]);case 11:t.sent,n.active=e,n.navigating=!1;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.active=0,this.menu=[],this.slides=[],this.SteinLine=e.attrs.SteinLine,this.startAt=e.attrs.startAt,this.navigating=!1;var i=document.getElementById("rs-nav-rock-strings");this.strings=[i.getAttribute("data-ste"),i.getAttribute("data-gesch"),i.getAttribute("data-fund"),i.getAttribute("data-geo")]}return l()(t,[{key:"oncreate",value:function(t){var e=this;this.menu=[t.dom.querySelector(".rs-menu-stein"),t.dom.querySelector(".rs-menu-geschichte"),t.dom.querySelector(".rs-menu-fundort"),t.dom.querySelector(".rs-menu-geologie")],this.stop=["stein","geschichte","fundort","geologie"],setTimeout((function(){e.menu.forEach((function(t,n){t.addEventListener("click",(function(){e.switchIt(n)})),e.startAt==e.stop[n]&&(e.active=n,t.classList.add("active")),e.active!=e.menu.length-1&&(document.querySelector(".rs-chevron-right").style.display="block"),0!=e.active&&(document.querySelector(".rs-chevron-left").style.display="block")})),document.querySelector(".rs-geologie-bild").addEventListener("click",(function(){e.switchIt(0)})),document.querySelector(".rs-fundort").addEventListener("click",(function(){e.switchIt(2)})),document.querySelector("#rs-closeFundort").addEventListener("click",(function(){e.switchIt(1)})),document.querySelector(".rs-chevron-right").addEventListener("click",(function(t){var n=e.active+1<e.menu.length?e.active+1:0;e.switchIt(n)})),document.querySelector(".rs-chevron-left").addEventListener("click",(function(t){var n=e.active-1>=0?e.active-1:e.menu.length-1;e.switchIt(n)}))}),2e3)}},{key:"view",value:function(){return o()("div",null,o()("div",{class:"rs-chevron rs-chevron-right"},o()("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 33.94 61.52"},o()("polyline",{class:"a",points:"2.12 60.1 31.11 31.11 1.41 1.41"}))),o()("div",{class:"rs-chevron rs-chevron-left"},o()("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 33.94 61.52"},o()("polyline",{class:"a",points:"2.12 60.1 31.11 31.11 1.41 1.41"}))),o()("div",{class:"rs-footer circle"},o()("div",{class:"rs-footer-content"},o()("h4",{class:"rs-menu-stein"},this.strings[0]),o()("h4",{class:"rs-menu-geschichte"},this.strings[1]),o()("h4",{class:"rs-menu-fundort"},this.strings[2]),o()("h4",{class:"rs-menu-geologie"},this.strings[3]))))}}]),t}(),St=n(6),Pt=n.n(St),Mt=function t(e){var n=this;s()(this,t),this.init=_t()(gt.a.mark((function t(){var e;return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.animateUp();case 2:return e=t.sent,n.initInteract(),document.addEventListener("mousemove",n.mousemovemethod),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)}))),this.animateUp=function(){return pt({targets:n.slide,translateX:[0,n.position.x],translateY:[0,n.position.y],width:[n.slide_rect.width,n.target_w],height:[n.slide_rect.height,n.target_h],translateZ:0,duration:1500,easing:"easeInQuad"}).finished},this.animateDown=function(){return Pt()(n.slide).unset(),document.removeEventListener("mousemove",n.mousemovemethod),pt({targets:n.slide,translateX:0,translateY:0,translateZ:0,width:n.slide_rect.width,height:n.slide_rect.height,rotate:-10,duration:1e3,easing:"easeOutQuad"}).finished},this.initInteract=function(){var t=n.position,e=n.vw,i=n.vh,o=n.slide_rect,r=n.target_w,s=n.target_h;Pt()(n.slide).draggable({listeners:{move:function(n){t.x+=n.dx,t.y+=n.dy,t.x=Math.min(Math.max(t.x,e-r-o.left),-o.left),t.y=Math.min(Math.max(t.y,i-s-o.top),-o.top),n.target.style.transform="translateX(".concat(t.x,"px) translateY(").concat(t.y,"px)")}},inertia:{resistance:5,minSpeed:10,smoothEndDuration:400},cursorChecker:function(){return null}})},this.mousemovemethod=function(t){n.position.x+=.01*(t.pageX-n.oldx),n.position.y+=.01*(t.pageY-n.oldy),n.slide.style.transform="translateX(".concat(n.position.x,"px) translateY(").concat(n.position.y,"px)"),n.oldx=t.pageX,n.oldy=t.pageY},this.slide=e,this.slide_rect=this.slide.getBoundingClientRect(),this.vw=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.vh=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.oldx=0,this.oldy=0;var i=1.05*this.vh/this.slide_rect.height;this.slide_rect.width*i<1.05*this.vw&&(i=1.05*this.vw/this.slide_rect.width),this.target_w=this.slide_rect.width*i,this.target_h=this.slide_rect.height*i,this.position={x:-(this.target_w-this.vw)/2-this.slide_rect.left,y:-(this.target_h-this.vh)/2-this.slide_rect.top}},kt=function(){function t(e,n,i,o,r,a,l){s()(this,t),this.coord=n,this.stein=i,this.geschichte=o,this.fundort=r,this.geologie=a,this.frame=e,this.draggable=null,this.startAt=l,this.current=l,this.fundort_rect=null,this.closeFundort=document.querySelector("#rs-closeFundort"),this.closeAll=document.querySelector("#rs-closeAll"),this.startTimelineAt()}var e,n;return l()(t,[{key:"goTo",value:(n=_t()(gt.a.mark((function t(e){var n=this;return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("stein"!=this.current){t.next=5;break}this.closeAll.style.display="none",this.frame.navigate("full").then((function(){n.closeAll.style.display="block"})),t.next=12;break;case 5:if("fundort"!=this.current){t.next=12;break}return this.closeFundort.style.display="none",t.next=9,this.draggableImage.animateDown();case 9:this.geschichte.style.width="auto",this.fundort.classList.remove("active"),this.closeAll.style.display="block";case 12:if("stein"!=e){t.next=22;break}return t.next=15,this.panTo("0vw");case 15:return this.closeAll.style.display="none",t.next=18,this.frame.navigate("offset");case 18:this.current="stein",this.closeAll.style.display="block",t.next=42;break;case 22:if("geschichte"!=e){t.next=28;break}return t.next=25,this.panTo("-100vw");case 25:this.current="geschichte",t.next=42;break;case 28:if("fundort"!=e){t.next=38;break}if(this.closeAll.style.display="none","geschichte"==this.current){t.next=33;break}return t.next=33,this.panTo("-100vw");case 33:return t.next=35,this.initFundort();case 35:this.current="fundort",t.next=42;break;case 38:if("geologie"!=e){t.next=42;break}return t.next=41,this.panTo("-200vw");case 41:this.current="geologie";case 42:return t.abrupt("return",!0);case 43:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"initFundort",value:(e=_t()(gt.a.mark((function t(){var e,n=this;return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rotate(this.fundort,[-10,0]);case 2:return this.geschichte.style.width="200vw",this.draggableImage=new Mt(this.fundort),(e=this.draggableImage.init()).then((function(){n.fundort.classList.add("active"),n.closeFundort.style.display="block"})),t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"panTo",value:function(t){return pt({targets:".rs-content>*",translateX:t,translateZ:0,duration:1500,easing:"easeInOutQuad"}).finished}},{key:"startPanAt",value:function(t){pt({targets:".rs-content>*",translateX:t,translateZ:0,duration:0,easing:"linear"}).finished.then((function(){document.querySelector(".rs-content").style.opacity=1}))}},{key:"rotate",value:function(t,e){return pt({targets:t,rotate:e,duration:500,easing:"linear"}).finished}},{key:"startTimelineAt",value:function(){var t=this,e=[],n=function(){};"stein"==this.startAt?(e=[this.coord,this.stein,".rs-svg"],n=function(){t.startPanAt("0vw")}):"geschichte"==this.startAt?(e=[this.geschichte,this.fundort,".rs-svg"],n=function(){t.startPanAt("-100vw")}):"fundort"==this.startAt?(e=[this.geschichte,this.fundort,".rs-svg"],n=function(){t.startPanAt("-100vw"),t.initFundort()}):"geologie"==this.startAt&&(e=[this.geologie,".rs-svg"],n=function(){t.startPanAt("-200vw")}),this.startAnimation(e,n)}},{key:"startAnimation",value:function(t,e){pt({targets:t,opacity:[0,1],duration:1e3,easing:"easeInOutQuad",delay:1e3,changeBegin:e})}}]),t}(),Lt=n(16),It=n.n(Lt),Ct=function(){function t(){s()(this,t),this.media=window.matchMedia("(max-width: 1025px)")}return l()(t,[{key:"oncreate",value:function(t){if(this.bild=t.dom.querySelector(".rs-bild"),this.fundort=t.dom.querySelector(".rs-fundort"),this.geschichte=t.dom.querySelector(".rs-geschichte"),this.geologie=t.dom.querySelector(".rs-geologie"),this.coordinates=t.dom.querySelector(".rs-coordinates"),this.frame=t.attrs.frame,this.media.matches){var e=t.dom;pt({targets:e.children,opacity:[0,1],duration:1e3,easing:"easeInOutQuad",delay:1e3,begin:function(){e.style.opacity=1}});It()({selector:".rs-bild-lightbox",touchNavigation:!0}),It()({selector:".rs-fundort-lightbox",touchNavigation:!0})}else this.SteinLine=new kt(t.attrs.frame,this.coordinates,this.bild,this.geschichte,this.fundort,this.geologie,t.attrs.goTo),o.a.render(document.getElementById("rs-rocknav"),o()(Et,{SteinLine:this.SteinLine,startAt:t.attrs.goTo}))}},{key:"onremove",value:function(t){document.removeEventListener("touchmove",this.frameMobileFull)}},{key:"view",value:function(t){return o()("div",{class:"rs-content",style:"opacity: 0"},o()("div",{class:"rs-coordinates"},o()("h3",null,Tt(t.attrs.info.latitude,null)),o()("h3",null,Tt(null,t.attrs.info.longitude)),o()("h2",null,t.attrs.info.herkunft,", ",o()("br",null),t.attrs.info.land)),o()("div",{class:"rs-bild-wrapper"},this.media.matches?o()("a",{href:"/static/img/steine/"+t.attrs.info.bild_stein,class:"rs-bild-lightbox"},o()("img",{class:"rs-bild",src:"/static/img/steine/"+t.attrs.info.bild_stein})):o()("img",{class:"rs-bild",src:"/static/img/steine/"+t.attrs.info.bild_stein})),o()("div",{class:"rs-geschichte"},o()("div",{class:"rs-text"},o()("h1",null,t.attrs.info.titel),o()("p",null,t.attrs.info.pers_geschichte),o()("p",null,t.attrs.info.absender,", ",t.attrs.info.wohnort)),this.media.matches?o()("a",{href:"/static/img/steine/"+t.attrs.info.bild_herkunft,class:"rs-fundort-lightbox"},o()("img",{class:"rs-fundort",src:"/static/img/steine/"+t.attrs.info.bild_herkunft})):o()("img",{class:"rs-fundort",src:"/static/img/steine/"+t.attrs.info.bild_herkunft})),o()("div",{class:"rs-geologie rs-text"},o()("div",{class:"rs-text"},o()("h1",null,t.attrs.info.gestein),o()("h3",null,t.attrs.info.herkunft),o()("p",null,t.attrs.info.geo_geschichte)),o()("img",{class:"rs-geologie-bild",src:"/static/img/steine/"+t.attrs.info.bild_stein})),o()("svg",{class:"rs-svg rs-stein-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1000",preserveAspectRatio:"none"},o()("path",{class:"rs-path",d:"M326.07,755.48c-5.13.71-10.1,1.16-14.94,1.37"}),o()("path",{class:"rs-path",d:"M301.33,756.94c-98.6-2.46-133-108.85-145.69-168.24-17.87-83.42-10.77-183.87-136-193.25"}),o()("path",{class:"rs-path",d:"M14.71,395.13q-7.22-.39-15-.39"}),o()("path",{class:"rs-path-dot",d:"M323.67,744.42a11.28,11.28,0,1,1-9.28,13A11.28,11.28,0,0,1,323.67,744.42Z"})),o()("svg",{class:"rs-svg rs-stein-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1000",preserveAspectRatio:"none"},o()("path",{class:"rs-path",d:"M961.61,883.24c20.8,55.85,203.16,104.48,387,72.46,201-35,275.73-147.12,368-258,89.61-107.68,114,69,202.26-20.15"}),o()("path",{class:"rs-path-dot",d:"M950.75,886A11.28,11.28,0,1,1,964,894.84,11.29,11.29,0,0,1,950.75,886Z"})),o()("svg",{class:"rs-svg rs-stein-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1000",preserveAspectRatio:"none"},o()("path",{class:"rs-path rs-path-green",d:"M739.82,1.94c64.26,27.66,84.71,81.8,58.21,165.6"}),o()("path",{class:"rs-path-dot rs-path-green",d:"M787.37,163.51a11.28,11.28,0,1,0,14.2-7.27A11.27,11.27,0,0,0,787.37,163.51Z"})),o()("svg",{class:"rs-svg rs-geschichte-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1000",preserveAspectRatio:"none"},o()("path",{class:"rs-path",d:"M1919.5,667.74q-7.61,0-15,.43"}),o()("path",{class:"rs-path",d:"M1894.56,669c-178.3,17.61-264,219.9-479.83,221.41C1210,891.79,1227.5,676.84,1303.25,427.88,1351.62,268.94,1048.51-24.29,455,186.09,217.89,270.16,148.73,519.7,15.68,661.33"}),o()("path",{class:"rs-path",d:"M12.25,665Q7,670.38,1.68,675.59"})),o()("svg",{class:"rs-svg rs-geschichte-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1000",preserveAspectRatio:"none"},o()("path",{class:"rs-path rs-path-brown",d:"M1402.71,218.89a59.77,59.77,0,0,1,3.41-14.57"}),o()("path",{class:"rs-path rs-path-brown",d:"M1409.71,195.51c5.77-12.52,16-29,33.67-50.14C1489,91,1532,85.26,1541.08,19.85"}),o()("path",{class:"rs-path rs-path-brown",d:"M1541.66,15.1c.51-4.68.86-9.65,1-15"}),o()("path",{class:"rs-path-dot rs-path-brown",d:"M1412.16,217.85a9.4,9.4,0,1,1-10-8.81A9.4,9.4,0,0,1,1412.16,217.85Z"})),o()("svg",{class:"rs-svg rs-geologie-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1000",preserveAspectRatio:"none"},o()("path",{class:"rs-path",d:"M1919.69,390.05c-4.73.08-9.74.22-15,.43"}),o()("path",{class:"rs-path",d:"M1894.71,390.93c-63.91,3.29-159,15.8-246.5,50.07-164.6,64.46-473,302.46-609.73,392C922.65,908.92,751.63,966.35,582.75,962.69,272.59,956,270,679.62,20.12,665.61"}),o()("path",{class:"rs-path",d:"M15.12,665.37q-7.36-.32-15-.31"})),o()("svg",{class:"rs-svg rs-geologie-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1000",preserveAspectRatio:"none"},o()("path",{class:"rs-path rs-path-blue",d:"M1365.34,996.64q-3.69-6.57-6.73-13.39"}),o()("path",{class:"rs-path rs-path-blue",d:"M1354.12,972.12c-9.32-25.67-12.86-54.43-13-88.68"}),o()("path",{class:"rs-path rs-path-blue",d:"M1341.15,877.44q.06-7.34.3-15"}),o()("path",{class:"rs-path-dot rs-path-blue",d:"M1350.91,863.17a9.4,9.4,0,1,0-9.66,9.14A9.4,9.4,0,0,0,1350.91,863.17Z"})))}}]),t}(),zt=function(){function t(e){var n=this;s()(this,t),this.frameMobileFull=function(){var t=document.getElementById("rs-closeAll");t.style.display="none",n.frame.navigate("mobilefull").then((function(){t.style.display="block"})),document.removeEventListener("touchmove",n.frameMobileFull),document.getElementById("rs-body").removeEventListener("scroll",n.frameMobileFull)},this.keepMarkerCentered=u((function(){n.flyTo(.2)}),100),this.flyTo=function(t){var e=-n.myMap.map.getSize().y/2+.19*n.myMap.map.getSize().y+.09*n.myMap.map.getSize().x;n.media.matches?n.myMap.flyToOffset([n.info.latitude,n.info.longitude],[0,.275*-n.myMap.map.getSize().y],8,t):n.myMap.flyToOffset([n.info.latitude,n.info.longitude],[.23*n.myMap.map.getSize().x,e],8,t)},this.myMap=e.attrs.map,this.frame=e.attrs.frame,this.info=null,this.media=window.matchMedia("(max-width: 1025px)"),this.goTo=e.attrs.goTo?e.attrs.goTo:"stein",e.attrs.data||o.a.request({method:"GET",url:"/".concat(document.documentElement.lang,"/steine/").concat(e.attrs.id)}).then((function(t){n.info=t})),document.querySelector("#rs-nav-background").classList.add("active")}return l()(t,[{key:"oncreate",value:function(t){t.attrs.data&&(this.info=t.attrs.data,this.onupdate(t))}},{key:"onupdate",value:function(t){if(this.info){t.attrs.pushState&&("de"==document.documentElement.lang?history.pushState(this.info.id,this.info.gestein+" - Reisesteine","/de/stein/".concat(this.info.id)):history.pushState(this.info.id,this.info.gestein+" - Reisesteine","/en/stone/".concat(this.info.id))),"de"==document.documentElement.lang?document.title=this.info.gestein+" - Reisesteine":document.title=this.info.gestein+" - Travelstones",document.querySelector("meta[name='description']").setAttribute("content",this.info.description);var e=new Promise((function(t,e){return t()}));this.media.matches?(e=this.frame.navigate("mobile"),document.addEventListener("touchmove",this.frameMobileFull),document.getElementById("rs-body").addEventListener("scroll",this.frameMobileFull)):"stein"==this.goTo&&(e=this.frame.navigate("offset")),this.flyTo(2),window.addEventListener("resize",this.keepMarkerCentered),o.a.render(document.getElementById("rs-info"),o()(Ct,{fadeIn:!0,info:this.info,frame:this.frame,goTo:this.goTo})),"fundort"!=this.goTo&&e.then((function(){document.querySelector("#rs-closeAll").style.display="block"}))}}},{key:"onremove",value:function(t){document.querySelector("#rs-nav-background").classList.remove("active"),window.removeEventListener("resize",this.keepMarkerCentered),document.querySelector("meta[name='description']").setAttribute("content","Entdecken Sie in der Ausstellung unsere Steinsammlung, ihre Fundorte und lernen Sie die damit verbundenen persnlichen und geologischen Geschichten kennen."),document.querySelector("#rs-closeFundort").style.display="none",document.removeEventListener("touchmove",this.frameMobileFull),document.getElementById("rs-body").removeEventListener("scroll",this.frameMobileFull)}},{key:"view",value:function(){return o()("div",null,o()("div",{id:"rs-coordinates"}),o()("div",{id:"rs-info"}),o()("div",{id:"rs-rocknav"}))}}]),t}(),Ot=function(){var t=this;this.mapCoordinates=_t()(gt.a.mark((function e(){return gt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.forEach((function(e){var n="de"==e[6]?t.redIcon:t.whiteIcon,i=[e[1],e[2]],r=xt.a.marker(i,{icon:n}).addTo(t.map).on("click",(function(){return o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(zt,{id:e[0],map:t,frame:t.frame,pushState:!0})}})}));t.media.matches||r.bindTooltip("<div>\n                    ".concat(Tt(e[1],null)," <br>\n                        ").concat(Tt(null,e[2])," <br>\n                        <span>").concat(e[3],"</span>\n                        <span>").concat(e[4],"</span>\n                        </div>"),{direction:"top",offset:[0,-40],className:"rs-tooltip"}),t.marker.push(r)}));case 1:case"end":return e.stop()}}),e)}))),this.addMarker=function(e){return xt.a.marker(e,{icon:t.redIcon}).addTo(t.map)},this.flyToOffset=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,r=t.map.project(e,i).subtract(n),s=t.map.unproject(r,i);t.map.flyTo(s,i,{duration:o})},this.init=function(e){t.media=window.matchMedia("(max-width: 1025px)");var n=xt.a.map(e,{zoomSnap:.1,zoomControl:!t.media.matches}).setView([30,0],3).setMaxBounds([[-90,-180],[90,180]]);return t.media.matches||n.zoomControl.setPosition("bottomleft"),t.initMap(n),n},this.initMap=function(e){xt.a.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery  <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,minZoom:3,id:t.style,tileSize:512,zoomOffset:-1,bounds:[[-90,-220],[90,220]],accessToken:"pk.eyJ1IjoicmVpc2VzdGVpbmUiLCJhIjoiY2tjOTZhZmJ3MTFqdjJ5cDg1cGo1MWNxbSJ9.K55g5LHcD8BPRVid5xzUTA"}).addTo(e)}};function At(t,e){var n=getComputedStyle(t),i=0;return"width"==e?i+=t.offsetWidth+parseInt(n.marginLeft)+parseInt(n.marginRight):"height"==e&&(i+=t.offsetHeight+parseInt(n.marginTop)+parseInt(n.marginBottom)),i}n(13),n(41),n(42);var Bt=function(){function t(e,n,i){var o=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];s()(this,t),this.mousemovemethod=function(t){o.position.x+=.005*(t.pageX-o.oldx),o.position.y+=.005*(t.pageY-o.oldy),o.target.style.transform="translate(".concat(o.position.x,"px, ").concat(o.position.y,"px)"),o.oldx=t.pageX,o.oldy=t.pageY},this.targetSelector=e,this.linkSelector=n,this.linkMethod=i,this.alternating=r,this.target=document.querySelector(this.targetSelector),this.oldx=0,this.oldy=0,this.position={x:0,y:0},this.init(i),document.querySelector("#rs-nav-background").classList.add("active")}var e;return l()(t,[{key:"removeMouseMoveMethod",value:function(){document.removeEventListener("mousemove",this.mousemovemethod)}},{key:"removeListeners",value:function(){Pt()(this.linkSelector).unset(),Pt()(this.targetSelector).unset()}},{key:"removeStyle",value:function(){document.getElementById("rs-alternating").remove(),document.querySelector("#rs-nav-background").classList.remove("active")}},{key:"onClickEffect",value:(e=_t()(gt.a.mark((function t(e){var n,i;return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.closest("div"),i=Array.prototype.filter.call(n.parentElement.children,(function(t){return t!=n})),pt({targets:i,opacity:[1,0],duration:500,easing:"linear"}),pt({targets:n,scale:[1,1.5],rotate:-10,duration:500,easing:"linear"}),t.next=6,pt({targets:n,opacity:[1,0],duration:500,easing:"linear"}).finished;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"init",value:function(t){var e,n,i=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);document.addEventListener("mousemove",this.mousemovemethod);var r=this.target.children.length,s=Math.round(Math.sqrt(r*(i/o)));if(e=s*At(this.target.children[1],"width")+At(this.target.children[1],"width")/2,n=Math.ceil(r/s)*At(this.target.children[1],"height")+At(this.target.children[1],"width")/2,this.target.style.width=e+"px",this.alternating){var a="\n                ".concat(this.targetSelector,">div:nth-Child(").concat(2*s,"n+1) { \n                    padding-left: ").concat(At(this.target.children[1],"width")/2,"px\n                }\n            "),l=document.createElement("style");l.type="text/css",l.id="rs-alternating",l.innerText=a,document.head.appendChild(l)}At(this.target,"width")<i?this.position.x=0:this.position.x=-(e-i)/2,At(this.target,"height")<o?this.position.y=0:this.position.y=-(n-o)/2,this.target.style.transform="translate(".concat(this.position.x,"px, ").concat(this.position.y,"px)");var u=this.position,c=this.target;Pt()(this.targetSelector).draggable({listeners:{move:function(t){u.x+=t.dx,u.y+=t.dy,u.x=Math.min(Math.max(u.x,i-At(c,"width")),0),u.y=Math.min(Math.max(u.y,o-At(c,"height")),0),t.target.style.transform="translate(".concat(u.x,"px, ").concat(u.y,"px)")}},inertia:{resistance:5,minSpeed:10,smoothEndDuration:500},allowFrom:this.targetSelector,cursorChecker:function(){return null}}),Pt()(this.linkSelector).on("tap",(function(e){e.preventDefault(),t(e)})).on("hold",(function(t){return!1}))}}]),t}(),Dt=n(9),jt=n.n(Dt),Rt=function(){function t(e){var n=this;s()(this,t),this.onRockClick=function(){var t=_t()(gt.a.mark((function t(e){var i;return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),i=e.target.getAttribute("data-id"),t.next=5,n.IndexView.onClickEffect(e);case 5:document.querySelector("#rs-closeAll").style.display="none",n.frame.paths.current="full",document.getElementById("svg-path").setAttribute("d",n.frame.calculatePath("full")),o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(zt,{id:i,map:n.map,frame:n.frame,pushState:!0,overview:"steine"})}});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.frame=e.attrs.frame,this.map=e.attrs.map,this.imgs=[],this.media=window.matchMedia("(max-width: 960px)"),e.attrs.pushState&&("de"==document.documentElement.lang?history.pushState("steine","Steine - Reisesteine","/de/steine"):history.pushState("steine","Stones - Travelstones","/en/stones"))}return l()(t,[{key:"oncreate",value:function(t){var e=this;t.attrs.frame.navigate("fullFast").then((function(){document.getElementById("svg-path").setAttribute("d",t.attrs.frame.calculatePath("rect")),document.querySelector("#rs-closeAll").style.display="block"})),o.a.request({method:"GET",url:"/de/steine/images/all"}).then((function(t){e.imgs=t}))}},{key:"onremove",value:function(){this.frame.paths.current="full",document.getElementById("svg-path").setAttribute("d",this.frame.calculatePath("full")),this.IndexView.removeMouseMoveMethod(),this.IndexView.removeListeners(),this.IndexView.removeStyle()}},{key:"onupdate",value:function(){this.IndexView=new Bt(".rs-index",".rs-stein-link",this.onRockClick);new jt.a}},{key:"view",value:function(){return o()("div",{class:"rs-index rs-index-reisesteine"},this.imgs?this.imgs.map((function(t,e){return o()("div",{key:"img"+e},o()("a",{class:"rs-stein-link"},o()("img",{class:"rs-stein lazyload","data-id":t[0],"data-src":"/static/img/steine/"+t[1]})))})):"")}}]),t}(),Zt=function(){function t(e){var n=this;s()(this,t),this.onStoryClick=function(){var t=_t()(gt.a.mark((function t(e){var i;return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.target.getAttribute("data-id"),t.next=3,n.IndexView.onClickEffect(e);case 3:document.querySelector("#rs-closeAll").style.display="none",n.frame.paths.current="full",document.getElementById("svg-path").setAttribute("d",n.frame.calculatePath("full")),o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(zt,{id:i,map:n.map,frame:n.frame,pushState:!0,goTo:"geschichte"})}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.frame=e.attrs.frame,this.map=e.attrs.map,this.titles=[],e.attrs.pushState&&("de"==document.documentElement.lang?history.pushState("geschichten","Geschichten - Reisesteine","/de/geschichten"):history.pushState("geschichten","Stories - Travelstones","/en/stories"))}return l()(t,[{key:"oncreate",value:function(t){var e=this;t.attrs.frame.navigate("fullFast").then((function(){document.getElementById("svg-path").setAttribute("d",t.attrs.frame.calculatePath("rect")),document.querySelector("#rs-closeAll").style.display="block"})),o.a.request({method:"GET",url:"/de/geschichten/all"}).then((function(t){e.titles=t}))}},{key:"onupdate",value:function(){this.IndexView=new Bt(".rs-index",".rs-geschichten-link",this.onStoryClick)}},{key:"onremove",value:function(){this.frame.paths.current="full",document.getElementById("svg-path").setAttribute("d",this.frame.calculatePath("full")),this.IndexView.removeMouseMoveMethod(),this.IndexView.removeListeners(),this.IndexView.removeStyle()}},{key:"view",value:function(){return o()("div",{class:"rs-index rs-index-geschichten"},this.titles?this.titles.map((function(t,e){return o()("div",{key:"img"+e},o()("a",{"data-id":t[0],class:"rs-geschichten-link"},t[1]))})):"")}}]),t}(),Nt=function(){function t(e){var n=this;s()(this,t),this.onGeoClick=function(){var t=_t()(gt.a.mark((function t(e){var i;return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.target.closest("a").getAttribute("data-id"),t.next=3,n.IndexView.onClickEffect(e);case 3:document.querySelector("#rs-closeAll").style.display="none",n.frame.paths.current="full",document.getElementById("svg-path").setAttribute("d",n.frame.calculatePath("full")),o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(zt,{id:i,map:n.map,frame:n.frame,pushState:!0,goTo:"geologie"})}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.frame=e.attrs.frame,this.map=e.attrs.map,this.IndexView=null,this.titles=[],e.attrs.pushState&&("de"==document.documentElement.lang?history.pushState("geologie","Geologie - Reisesteine","/de/geologie"):history.pushState("geologie","Geology - Travelstones","/en/geology"))}return l()(t,[{key:"oncreate",value:function(t){var e=this;t.attrs.frame.navigate("fullFast").then((function(){document.getElementById("svg-path").setAttribute("d",t.attrs.frame.calculatePath("rect")),document.querySelector("#rs-closeAll").style.display="block"})),o.a.request({method:"GET",url:"/de/geologie/all"}).then((function(t){e.titles=t}))}},{key:"onupdate",value:function(){this.IndexView=new Bt(".rs-index",".rs-geologie-link",this.onGeoClick)}},{key:"onremove",value:function(){this.frame.paths.current="full",document.getElementById("svg-path").setAttribute("d",this.frame.calculatePath("full")),this.IndexView.removeMouseMoveMethod(),this.IndexView.removeListeners(),this.IndexView.removeStyle()}},{key:"view",value:function(){return o()("div",{class:"rs-index rs-index-geologie"},this.titles?this.titles.map((function(t,e){return o()("div",{key:"img"+e},o()("a",{"data-id":t[0],class:"rs-geologie-link"},o()("b",null,t[1]),o()("br",null),t[2],", ",t[3]))})):"")}}]),t}(),Ft=n(26),Wt=n.n(Ft),qt=n(27),Ht=n.n(qt),Yt=function(){function t(e){var n=this;s()(this,t),this.onPlaceClick=function(){var t=_t()(gt.a.mark((function t(e){var i;return gt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.target.getAttribute("data-id"),t.next=3,n.IndexView.onClickEffect(e);case 3:document.querySelector("#rs-closeAll").style.display="none",n.frame.paths.current="full",document.getElementById("svg-path").setAttribute("d",n.frame.calculatePath("full")),o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(zt,{id:i,map:n.map,frame:n.frame,pushState:!0,goTo:"fundort"})}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.frame=e.attrs.frame,this.map=e.attrs.map,this.titles=[],e.attrs.pushState&&("de"==document.documentElement.lang?history.pushState("fundorte","Fundorte - Reisesteine","/de/fundorte"):history.pushState("fundorte","Places - Travelstones","/en/places")),this.media=window.matchMedia("(max-width: 1025px)"),this.img_width=400,this.media.matches&&(this.img_width=200)}return l()(t,[{key:"oncreate",value:function(t){var e=this;t.attrs.frame.navigate("fullFast").then((function(){document.getElementById("svg-path").setAttribute("d",t.attrs.frame.calculatePath("rect")),document.querySelector("#rs-closeAll").style.display="block"})),o.a.request({method:"GET",url:"/de/fundorte/images/all"}).then((function(t){e.titles=t,console.log(e.titles)}))}},{key:"onupdate",value:function(){this.IndexView=new Bt(".rs-index",".rs-fundort-link",this.onPlaceClick,!1,this.msnry),this.msnry=new Wt.a(document.querySelector(".rs-index-fundort"),{itemSelector:".rs-fundort-grid",gutter:0}),this.msnry.layout(),Ht()(".rs-fundort-grid").on("progress",(function(t,e){e.img.parentNode.parentNode.classList.remove("is-loading")}));new jt.a}},{key:"onremove",value:function(){this.frame.paths.current="full",document.getElementById("svg-path").setAttribute("d",this.frame.calculatePath("full")),this.IndexView.removeMouseMoveMethod(),this.IndexView.removeListeners(),document.querySelector("#rs-nav-background").classList.remove("active")}},{key:"view",value:function(){var t=this;return o()("div",{class:"rs-index rs-index-fundort"},this.titles?this.titles.map((function(e,n){return o()("div",{class:"rs-fundort-grid is-loading",style:"height: "+e[2]*t.img_width+"px;",key:"img"+n},o()("a",{class:"rs-fundort-link"},o()("img",{class:"rs-fundort lazyload",height:e[2]*t.img_width,width:"400","data-id":e[0],"data-src":"/static/img/steine/"+e[1]})))})):"")}}]),t}(),Xt=function(){function t(e,n,i){var o=this;s()(this,t),this.openMenu=function(t){t.preventDefault();var e=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);o.smallNav.style.display="none",o.navBackground.classList.add("open"),pt({targets:o.navBackground,translateX:[0,-300],height:1.2*e+"px",width:"800px",easing:"easeInQuad",duration:500,changeBegin:function(t){o.settings.height=t.animations[1].currentValue,o.settings.width=t.animations[2].currentValue}}).finished.then((function(){pt({targets:o.navBackground,translateX:[-300,-150],duration:500,easing:"easeOutQuad"}),pt({targets:o.nav,translateX:[0,600],duration:500,easing:"easeOutQuad"}).finished.then((function(){document.addEventListener("click",o.checkForClickMenu),document.addEventListener("keydown",o.checkForEscape)}))}))},this.checkForClickMenu=function(t){null==t.target.closest("#rs-nav")&&o.closeMenu(t)},this.checkForEscape=function(t){"Escape"==event.key&&o.closeMenu(t)},this.checkForClickTitle=function(t){null==t.target.closest("#rs-title")&&(pt({targets:"#rs-title",opacity:[1,0],duration:1e3,easing:"easeOutQuad"}).finished.then((function(){document.querySelector("#rs-title").style.display="none"})),document.removeEventListener("click",o.checkForClickTitle),document.removeEventListener("touchstart",o.checkForClickTitle))},this.closeMenu=function(t){t.preventDefault(),document.removeEventListener("click",o.checkForClickMenu),document.removeEventListener("keydown",o.checkForEscape),pt({targets:o.navBackground,translateX:0,translateY:0,height:o.settings.height,width:o.settings.width,easing:"easeOutQuad",duration:750,delay:500}).finished.then((function(){o.navBackground.classList.remove("open")})),pt({targets:o.nav,translateX:[600,0],duration:500,easing:"easeInQuad"}).finished.then((function(){o.smallNav.style.display="flex"}))},this.map=e,this.frame=n,this.menuButton=document.getElementById("rs-small-menu"),this.steine=document.getElementById("rs-nav-steine"),this.geschichten=document.getElementById("rs-nav-geschichten"),this.fundorte=document.getElementById("rs-nav-fundorte"),this.geologie=document.getElementById("rs-nav-geologie"),this.menuClose=document.getElementById("rs-nav-close"),this.smallNav=document.getElementById("rs-small-navigation"),this.nav=document.getElementById("rs-nav"),this.navBackground=document.getElementById("rs-nav-background"),this.initListeners(),i&&null!=i?(document.addEventListener("click",this.checkForClickTitle),document.addEventListener("touchstart",this.checkForClickTitle),document.querySelector("#rs-title").style.display="block"):document.querySelector("#rs-title").style.display="none",this.settings={}}return l()(t,[{key:"initListeners",value:function(){var t=this;this.menuButton.addEventListener("click",this.openMenu),this.menuClose.addEventListener("click",this.closeMenu),this.steine.addEventListener("click",(function(e){e.preventDefault(),t.closeMenu(e),o.a.render(document.getElementById("rs-body"),null),o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Rt,{map:t.map,frame:t.frame,pushState:!0})}})})),this.geschichten.addEventListener("click",(function(e){e.preventDefault(),t.closeMenu(e),o.a.render(document.getElementById("rs-body"),null),o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Zt,{map:t.map,frame:t.frame,pushState:!0})}})})),this.geologie.addEventListener("click",(function(e){e.preventDefault(),t.closeMenu(e),o.a.render(document.getElementById("rs-body"),null),o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Nt,{map:t.map,frame:t.frame,pushState:!0})}})})),this.fundorte.addEventListener("click",(function(e){e.preventDefault(),t.closeMenu(e),o.a.render(document.getElementById("rs-body"),null),o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Yt,{map:t.map,frame:t.frame,pushState:!0})}})}))}}]),t}(),Vt=function(){function t(e){var n=this;s()(this,t),this.frameMobileFull=function(){document.getElementById("rs-closeAll").style.display="none",n.frame.navigate("mobilefull").then((function(){document.getElementById("rs-closeAll").style.display="block"})),document.removeEventListener("touchmove",n.frameMobileFull),document.getElementById("rs-about-wrapper").removeEventListener("scroll",n.frameMobileFull)},this.keepMarkerCentered=u((function(){n.flyTo(.1)}),500),this.flyTo=function(t){var e=-n.myMap.map.getSize().y/2+.19*n.myMap.map.getSize().y+.09*n.myMap.map.getSize().x;n.media.matches?n.myMap.flyToOffset([47.3786,8.547214],[0,.275*-n.myMap.map.getSize().y],17,t):n.myMap.flyToOffset([47.3786,8.547214],[.23*n.myMap.map.getSize().x,e],17,t)},this.myMap=e.attrs.map,this.frame=e.attrs.frame,this.media=window.matchMedia("(max-width: 1025px)"),document.querySelector("#rs-nav-background").classList.add("active"),window.addEventListener("resize",this.keepMarkerCentered),document.getElementById("svg-path").style.fill="rgba(256, 256, 256, 0.9)",pt({targets:"#rs-about-wrapper>*",opacity:[0,1],duration:1e3,delay:1e3,easing:"linear"})}return l()(t,[{key:"oncreate",value:function(t){var e=new Promise((function(t){return t()}));this.media.matches?(e=this.frame.navigate("mobile"),document.addEventListener("touchmove",this.frameMobileFull),document.getElementById("rs-about-wrapper").addEventListener("scroll",this.frameMobileFull)):e=this.frame.navigate("offset"),this.flyTo(2),this.myMarker=this.myMap.addMarker([47.3786,8.547214]),e.then((function(){document.querySelector("#rs-closeAll").style.display="block"}))}},{key:"onremove",value:function(){window.removeEventListener("resize",this.keepMarkerCentered),document.removeEventListener("touchmove",this.frameMobileFull),document.getElementById("rs-about-wrapper").removeEventListener("scroll",this.frameMobileFull),document.getElementById("rs-nav-background").classList.remove("active"),document.getElementById("rs-about-wrapper").remove(),document.getElementById("svg-path").style.fill="rgba(256, 256, 256, 0.7)",this.myMap.map.removeLayer(this.myMarker)}},{key:"view",value:function(){return o()("div",null)}}]),t}(),Ut=new mt(document.querySelector("#map")),Gt=new function t(e,n,i){s()(this,t),Ot.call(this),this.data=i,this.style="schmidni/ckambjp2k3d9t1il6ylrcbgor","en"==document.documentElement.lang&&(this.style="schmidni/ckb3jm18c0nuu1iqshgkbocey"),this.map=this.init(e),this.frame=n,this.popup=xt.a.popup(),this.coordinates=[],this.marker=[],this.redIcon=new xt.a.Icon({iconUrl:"/static/img/marker.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),this.whiteIcon=new xt.a.Icon({iconUrl:"/static/img/marker_white.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),this.mapCoordinates()}(document.querySelector("#map"),Ut,data_index);document.querySelector("#rs-closeAll").addEventListener("click",(function(){Jt(),history.pushState("home","Reisesteine","/"+document.documentElement.lang)}));var $t=document.getElementById("rs-body").getAttribute("data-stein");new Xt(Gt,Ut,!$t);function Kt(t){Jt().then((function(){console.log(t.state),console.log(null!=t.state),"home"!=t.state&&("steine"==t.state||null==t.state&&"steine"==$t?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Rt,{map:Gt,frame:Ut,pushState:!1})}}):"geschichten"==t.state||null==t.state&&"geschichten"==$t?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Zt,{map:Gt,frame:Ut,pushState:!1})}}):"fundorte"==t.state||null==t.state&&"fundorte"==$t?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Yt,{map:Gt,frame:Ut,pushState:!1})}}):"geologie"==t.state||null==t.state&&"geologie"==$t?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Nt,{map:Gt,frame:Ut,pushState:!1})}}):"about"==t.state||null==t.state&&"about"==$t?location.reload():null!=t.state?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(zt,{id:t.state,map:Gt,frame:Ut,pushState:!1})}}):$t&&o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(zt,{id:$t,map:Gt,frame:Ut,pushState:!1})}}))}))}$t&&("steine"==$t?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Rt,{map:Gt,frame:Ut,pushState:!1})}}):"geschichten"==$t?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Zt,{map:Gt,frame:Ut,pushState:!1})}}):"geologie"==$t?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Nt,{map:Gt,frame:Ut,pushState:!1})}}):"fundorte"==$t?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Yt,{map:Gt,frame:Ut,pushState:!1})}}):"about"==$t?o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(Vt,{map:Gt,frame:Ut})}}):o.a.mount(document.getElementById("rs-body"),{view:function(){return o()(zt,{id:$t,map:Gt,frame:Ut,data:data_stein,pushState:!1})}})),window.addEventListener("popstate",u((function(t){try{Kt(t)}catch(e){setTimeout((function(){return Kt(t)}),1e3)}}),1e3));var Qt=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);window.addEventListener("resize",u((function(){var t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);(Qt>1025&&t<1025||Qt<1025&&t>1025)&&window.location.reload(),Qt=t}),100));var Jt=function(){o.a.render(document.getElementById("rs-body"),null);var t=Ut.navigate("initial");return document.querySelector("#rs-closeAll").style.display="none",document.title="Home - Reisesteine",t}}]);